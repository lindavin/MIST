(this["webpackJsonpdesign-app"]=this["webpackJsonpdesign-app"]||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){},125:function(e,t,a){e.exports=a.p+"static/media/trash.c9edfe14.png"},131:function(e,t,a){e.exports=a.p+"static/media/circle3.d5030f7c.png"},132:function(e,t,a){},133:function(e,t,a){},145:function(e,t,a){},149:function(e,t,a){},160:function(e,t,a){e.exports=a.p+"static/media/circle.bf5edfc5.png"},161:function(e,t,a){e.exports=a.p+"static/media/circle1.3d4768fa.png"},162:function(e,t,a){e.exports=a.p+"static/media/circle2.d2802209.png"},167:function(e,t,a){e.exports=a(262)},177:function(e,t,a){},178:function(e,t,a){},180:function(e,t,a){},182:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},262:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(25),o=a.n(l),i=a(26),c=a(20),s=a(283),u=(a(80),a(6)),m=Object(n.createContext)(),d=function(e){var t=Object(n.useState)(),a=Object(u.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)((function(){fetch("/api?action=getUser",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){o(e)}))}),[]),r.a.createElement(m.Provider,{value:l},e.children)},h=a(13),f=a(66),p=a.n(f),g=a(67),E=a.n(g),b=a(68),y=a.n(b),v=a(295),w=a(294),x=a(150),k=a(152),T=a(153),S=a(280),I=a(281),O=a(282);a(132),a(39);function C(){return r.a.createElement(i.b,{to:"/",style:{width:"5%"}},r.a.createElement("img",{src:y.a,alt:"MIST Logo",style:{maxWidth:"100%"}}))}function M(){return r.a.createElement("div",null,r.a.createElement(w.a,{inline:!0},r.a.createElement(x.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),r.a.createElement(k.a,{variant:"outline-light",className:"searchButton"},"Search")))}function j(){var e=Object(n.useState)("default"),t=Object(u.a)(e,2),a=t[0],l=t[1];return"default"===a?r.a.createElement(T.a,{className:"mr-auto"},r.a.createElement(A,null),r.a.createElement(F,{onClick:function(){l("signIn")}})):r.a.createElement(T.a,{className:"mr-auto"},r.a.createElement(B,null),r.a.createElement(N,null),r.a.createElement(W,{onClick:function(){l("default")}}))}function A(){return r.a.createElement(T.a,null,r.a.createElement(S.a,{title:"Create",id:"basic-nav-dropdown"},r.a.createElement(S.a.Item,{href:"/createWorkspace"},"GUI Workspace"),r.a.createElement(S.a.Item,{href:"/expert"},"Expert UI")),r.a.createElement(T.a.Link,{href:"/challenges"},"Challenges"),r.a.createElement(T.a.Link,{href:"/tutorial"},"Tutorial"),r.a.createElement(T.a.Link,{href:"/gallery"},"Gallery"),r.a.createElement(S.a,{title:"About",id:"basic-nav-dropdown"},r.a.createElement(S.a.Item,{href:"/about"},"About MIST"),r.a.createElement(S.a.Item,{href:"/development"},"Development"),r.a.createElement(S.a.Item,{href:"/community"},"Community Guidelines"),r.a.createElement(S.a.Item,{href:"/faq"},"FAQ")))}function F(e){return r.a.createElement(T.a,null,r.a.createElement(T.a.Link,{href:"#",onClick:e.onClick},"Sign In / Up"))}function B(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),i=Object(u.a)(o,2),c=i[0],s=i[1];return r.a.createElement(T.a,null,r.a.createElement(I.a,{src:E.a,alt:"MIST Logo",className:"navBarIcon"}),r.a.createElement(I.a,{src:p.a,alt:"MIST Logo",className:"navBarIcon"}),r.a.createElement(T.a.Link,{eventKey:"disabled",disabled:!0}," OR "),r.a.createElement(w.a,{inline:!0},r.a.createElement(w.a.Label,{htmlFor:"inlineFormInputName2",srOnly:!0},"className"),r.a.createElement(w.a.Control,{className:"mb-2 mr-sm-2",id:"inlineFormInputName2",placeholder:"Username",onChange:function(e){return l(e.target.value)}}),r.a.createElement(w.a.Label,{htmlFor:"inlineFormInputGroupUsername2",srOnly:!0},"Email"),r.a.createElement(O.a,{className:"mb-2 mr-sm-2"},r.a.createElement(x.a,{id:"inlineFormInputGroupUsername2",type:"password",placeholder:"Password",onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",{class:"custom-control custom-checkbox"},r.a.createElement("input",{type:"checkbox",class:"custom-control-input",id:"customCheck1"}),r.a.createElement("label",{class:"custom-control-label",for:"customCheck1",variant:"dark"},"Remember Me")),r.a.createElement(T.a.Link,{href:"#",onClick:function(e){e.preventDefault();var t={username:a,password:c};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Object(h.a)({action:"signIn"},t))}).then((function(e){return e.json()})).then((function(e){console.log("message = "+e),"Success"===e&&(window.location.href="/")}))}},"Sign In")))}function N(e){return r.a.createElement(T.a,null,r.a.createElement(T.a.Link,{href:"/signUp",onClick:e.onClick},"Sign Up"))}function W(e){return r.a.createElement(T.a,null,r.a.createElement(T.a.Link,{href:"#",onClick:e.onClick},"Cancel"))}var L=function(e){return r.a.createElement("div",null,r.a.createElement(v.a,{variant:"dark",expand:"lg",className:"navigationBar"},r.a.createElement(C,null),r.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(j,null)),r.a.createElement(M,null)))};function R(){return r.a.createElement(i.b,{to:"/",style:{width:"5%"}},r.a.createElement("img",{src:y.a,alt:"MIST Logo",style:{maxWidth:"100%"}}))}function P(){return r.a.createElement("div",null,r.a.createElement(w.a,{inline:!0},r.a.createElement(x.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),r.a.createElement(k.a,{variant:"outline-light",className:"searchButton"},"Search")))}function Y(e){var t;return t=e.user?e.user.username:"Account",r.a.createElement(T.a,null,r.a.createElement(S.a,{title:"Create",id:"basic-nav-dropdown"},r.a.createElement(S.a.Item,{href:"/createWorkspace"},"GUI Workspace"),r.a.createElement(S.a.Item,{href:"/expert"},"Expert UI")),"      ",r.a.createElement(T.a.Link,{href:"/challenges"},"Challenges"),r.a.createElement(T.a.Link,{href:"/tutorial"},"Tutorial"),r.a.createElement(T.a.Link,{href:"/gallery"},"Gallery"),r.a.createElement(S.a,{title:"About",id:"basic-nav-dropdown"},r.a.createElement(S.a.Item,{href:"/about"},"About MIST"),r.a.createElement(S.a.Item,{href:"/development"},"Development"),r.a.createElement(S.a.Item,{href:"/faq"},"FAQ")),r.a.createElement(S.a,{title:t,id:"basic-nav-dropdown"},r.a.createElement(S.a.Item,{href:"/profile"},"Profile"),r.a.createElement(S.a.Item,{href:"/settings"},"Settings"),r.a.createElement(S.a.Divider,null),r.a.createElement(H,null)))}function H(e){return r.a.createElement(S.a.Item,{href:"#",onClick:G},"Sign Out")}function G(){fetch("/api?action=signOut",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){window.location.href="/"}))}var X=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)((function(){fetch("/api?action=getUser",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){e&&o(e)}))}),[l]),r.a.createElement("div",null,r.a.createElement(v.a,{variant:"dark",expand:"lg",className:"navigationBar"},r.a.createElement(R,null),r.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(Y,{user:l})),r.a.createElement(P,null)))},U=(a(120),a(121),function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"About MIST"))}),q=function(){return r.a.createElement("div",null,r.a.createElement("dl",{id:"aboutQA"},r.a.createElement(s.a,null,r.a.createElement("dt",null,"What is MIST?"),r.a.createElement("dd",null,"MIST (or the Mathematical Image Synthesis Toolkit) is a tool for creating images and animations using simple math functions. You can make your own art from scratch, complete challenges, and share your creations with the MIST community.")),r.a.createElement(s.a,null,r.a.createElement("dt",null,"Who can use MIST?"),r.a.createElement("dd",null,"Anyone! MIST does not require any prior experience in art, math, or computer science.")),r.a.createElement(s.a,null,r.a.createElement("dt",null,"What can I learn with MIST?"),r.a.createElement("dd",null,"You will learn artistic creativity, functional problem solving, and computational thinking.")),r.a.createElement(s.a,null,r.a.createElement("dt",null,"How can I share my art?"),r.a.createElement("dd",null,"Create an account to see, share, and modify the work of other users. You will join a community of people who love to create art and learn computing.")),r.a.createElement(s.a,null,r.a.createElement("dt",null,"Community Guidelines"),r.a.createElement("dd",null,"You can find our community guidelines ",r.a.createElement("a",{href:"/community"},"here")))))},z=function(){return r.a.createElement(s.a,{fluid:!0,style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem"}},r.a.createElement(U,null),r.a.createElement(q,null))},D=a(284),V=a(299),_=a(151),K=a(300);a(177);function J(e){var t,a,l=Object(n.useState)(r.a.createRef()),o=Object(u.a)(l,1)[0],i=Object(n.useState)(null),c=Object(u.a)(i,2),s=c[0],m=c[1];return Object(n.useEffect)((function(){var t=new window.MIST.ui.Animator(e.code,[],{},o.current);return t.setResolution(e.resolution,e.resolution),t.frame(),m((function(e){return e&&e.stop(),t})),function(){t.stop()}}),[e.resolution,e.code,o,m]),r.a.createElement("canvas",{className:"mist-image",width:null!==(t=e.width)&&void 0!==t?t:e.resolution,height:null!==(a=e.height)&&void 0!==a?a:e.resolution,onMouseOut:function(){s&&s.stop()},onMouseOver:function(){s&&(s.stop(),s.start())},ref:o})}function Z(e){return r.a.createElement(V.a,{style:{width:"30%",padding:"1em"}},r.a.createElement(V.a.Title,{style:{margin:"auto"}},e.challenge.title),r.a.createElement(V.a.Body,null,r.a.createElement(D.a,{variant:"top",style:{justifyContent:"center"}},r.a.createElement(J,{code:e.challenge.code,resolution:"250"})),r.a.createElement(D.a,{style:{justifyContent:"flex-end",margin:"1vh"}},r.a.createElement(k.a,{variant:"outline-dark"},"Do challenge!"))))}function Q(e){return r.a.createElement(w.a,null,r.a.createElement(w.a.Row,{style:{width:"50%"}},r.a.createElement(w.a.Group,{as:_.a,controlId:"formGridState"},r.a.createElement(w.a.Label,null,"Level"),r.a.createElement(w.a.Control,{name:"level",as:"select",defaultValue:e.level,onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",{value:"Beginner"},"Beginner"),r.a.createElement("option",{value:"Intermediate"},"Intermediate"),r.a.createElement("option",{value:"Advanced"},"Advanced"))),r.a.createElement(w.a.Group,{as:_.a,controlId:"formGridState"},r.a.createElement(w.a.Label,null,"Color"),r.a.createElement(w.a.Control,{name:"color",as:"select",defaultValue:e.color,onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",null,"Grayscale"),r.a.createElement("option",null,"RGB"))),r.a.createElement(w.a.Group,{as:_.a,controlId:"formGridState"},r.a.createElement(w.a.Label,null,"Animation"),r.a.createElement(w.a.Control,{name:"animation",as:"select",defaultValue:e.animation,onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",null,"Static"),r.a.createElement("option",null,"Animated")))))}function $(){return r.a.createElement(K.a,{className:"pagination-style"},r.a.createElement(K.a.First,null),r.a.createElement(K.a.Prev,null),r.a.createElement(K.a.Item,{active:!0},1),r.a.createElement(K.a.Ellipsis,null),r.a.createElement(K.a.Item,null,10),r.a.createElement(K.a.Item,null,11),r.a.createElement(K.a.Item,null,12),r.a.createElement(K.a.Item,null,13),r.a.createElement(K.a.Ellipsis,null),r.a.createElement(K.a.Item,null,20),r.a.createElement(K.a.Next,null),r.a.createElement(K.a.Last,null))}var ee=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)("Beginner"),i=Object(u.a)(o,2),c=i[0],m=i[1],d=Object(n.useState)("Grayscale"),h=Object(u.a)(d,2),f=h[0],p=h[1],g=Object(n.useState)("Static"),E=Object(u.a)(g,2),b=E[0],y=E[1];return Object(n.useEffect)((function(){fetch("api?action=getChallenges&level="+c+"&color="+f+"&animation="+b).then((function(e){return e.json()})).then((function(e){l(e)}))}),[c,f,b]),r.a.createElement(s.a,{fluid:!0,style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem"}},r.a.createElement(s.a,null,r.a.createElement("h1",null,"Challenges"),r.a.createElement("p",null,"Start of challenges")),r.a.createElement(s.a,{style:{marginBottom:"1em"}},r.a.createElement(Q,{handleChange:function(e){var t=e.target.name,a=e.target.value;"level"===t?m(a):"color"===t?p(a):y(a)},level:c,color:f,animation:b})),r.a.createElement(s.a,null,r.a.createElement(D.a,{style:{justifyContent:"space-between"}},a.map((function(e){return r.a.createElement(Z,{challenge:e})})))),r.a.createElement(s.a,null,r.a.createElement($,{style:{margin:"auto"}})))};a(178);var te=function(){return r.a.createElement(s.a,{fluid:!0,style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem",width:"70%"}},r.a.createElement("div",null,r.a.createElement("h1",null,"Community Guidelines")),r.a.createElement("div",{id:"community"},r.a.createElement("h2",null,"Welcome to MIST!"),r.a.createElement("p",null," MIST provides a new approach to making interesting abstract images and we would like you to share that experience with other users and friends. We provide the ability to see other user\u2019s images and write comments, where we hope you can find inspiration and applaud other people\u2019s creativity. We very much would like you to help us do just that, so here are some guidelines for how to participate. "),r.a.createElement("h2",null,"The Short Version"),r.a.createElement("ul",null,r.a.createElement("li",null,"Be nice!"),r.a.createElement("li",null,"See anything offensive? Just report and we\u2019ll remove the bad stuff!"),r.a.createElement("li",null,"In addition to reporting, you have the option to hide content and block users."),r.a.createElement("li",null,"Respect and help the moderators. We appreciate those who help us identify inappropriate content and users!")),r.a.createElement("h2",null,"Rules and Guidelines"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Be respectful:")," When creating images or posting comments, remember that people of different ages and backgrounds will see what you\u2019ve shared."),r.a.createElement("li",null,r.a.createElement("b",null,"Share:")," You are free to remix projects, ideas, images, or anything else you find on MIST\u2013 and anyone can use anything that you share. Be sure to give credit when you remix."),r.a.createElement("li",null,r.a.createElement("b",null,"Keep personal information private:")," For safety reasons, don't give out any information that could be used for private communication - such as real last names, phone numbers, addresses, email addresses, links to social media sites or websites with unmoderated chat"),r.a.createElement("li",null,r.a.createElement("b",null,"Be honest:")," Don\u2019t try to impersonate other users, spread rumors, or otherwise try to trick the community.")),r.a.createElement("p",{style:{paddingBottom:"10px"}},"Here are things that will get your comment, image, or album removed and quite possibly get you banned. Note that this is not a comprehensive list. Our moderators reserve the right to remove anything we deem inappropriate."),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Spam:")," Zero tolerance, of course! If it comes from a human or a robot, spam will be deleted."),r.a.createElement("li",null,r.a.createElement("b",null,"Personal attacks/Harassment:")," Don\u2019t attack or insult another user. It\u2019s not helpful and it doesn\u2019t make MIST a friendly place."),r.a.createElement("li",null,r.a.createElement("b",null,"Illegal activities: ")," Posting links to illegal downloads, ways to steal service, and other nefarious activity is not OK here."),r.a.createElement("li",null,r.a.createElement("b",null,"Explicit material:")," A good rule of thumb is that anything beyond PG-13 will get you in trouble, but we reserve the right to remove anything we deem inappropriate."),r.a.createElement("li",null,r.a.createElement("b",null,"Offensive content:")," Inappropriate content, both visual and written, have no place here. Please remain mindful of the words you use and the images you create. We understand that people may hold different opinions about what is inappropriate and we take this into consideration when moderating."),r.a.createElement("li",null,r.a.createElement("b",null,"Discrimination:")," Attacking entire classes of people is just like attacking a single person: we\u2019ll ban you for it. Example forms of discrimiation:",r.a.createElement("ul",null,r.a.createElement("li",null,"Racism"),r.a.createElement("li",null,"Sexism"),r.a.createElement("li",null,"Ableism"),r.a.createElement("li",null,"Heterosexism/Homophobia"),r.a.createElement("li",null,"Transphobia")),"This list is by no means exhaustive and we will not tolerate discimination of any form."),r.a.createElement("li",null,r.a.createElement("b",null,"Trolling: ")," Trolling is a complex term, but in its basic essence, includes intentionally provoking other users for an emotional response (usually anger), writing inflammatory and off-topic material, and in general, causing chaos. If you\u2019re abusing the good conversations, we will take those comments, images, and or albums down.")),r.a.createElement("p",null,"Above all, our team of moderators works to keep conversation here friendly, engaging, helpful, and productive. If we feel content is harming that endeavor, we\u2019ll take action."),r.a.createElement("p",null,r.a.createElement("b",null,"See any of the above? You can help us out by reporting!")),r.a.createElement("h2",null,"Hiding, Blocking, and Reporting"),r.a.createElement("p",{style:{paddingBottom:"10px"}},"We provide the ability to hide and report images, comments, albums, and block and report users. "),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Hide:")," You will not see this content again, but you will still be able to see other content the author creates. This is not the same as reporting and will only affect what you see. To hide something, click the \u201c...\u201d option next to the content and select ",r.a.createElement("i",null,"hide.")," Once you have hidden content, you will have the ability to view hidden content in your personal settings page and unhide anything."),r.a.createElement("li",null,r.a.createElement("b",null,"Block:")," You will not see the user or any content from this user. This is not the same as reporting and will only affect what you see. To block a user, navigate to their profile page and select ",r.a.createElement("i",null,"block"),". Once you block a user, you have the ability to unblock from \u201cblock list\u201d in the personal settings page."),r.a.createElement("li",null,r.a.createElement("b",null,"Report:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Reporting content:")," To report content, click the \u201c...\u201d option next to the content and select ",r.a.createElement("i",null,"report"),". You will be asked to select the reasoning for the report and the content will be automatically hidden. If our moderators deem the content inappropriate it will be removed and no one will be able to see it."),r.a.createElement("li",null,r.a.createElement("b",null,"Reporting Users:")," To report a user, navigate to their profile page and select ",r.a.createElement("i",null,"report"),". You will be asked to select the reasoning for the report. If our moderators deem the user to be breaking the community guidelines, they will be banned."),r.a.createElement("li",null,"We appreciate you taking time to report. Please be patient as it may take some time for reports to be processed; we do not have full time moderators. Once your report has been reviewed, we will send you an email with the status of the report.")))),r.a.createElement("br",null),r.a.createElement("p",null,"These guidelines were inspired by Scratch\u2019s and The Verge\u2019s community guidelines. "),r.a.createElement("p",null,"Scratch: ",r.a.createElement("a",{href:"https://scratch.mit.edu/community_guidelines"},"Community Guidelines")," "),r.a.createElement("p",null,"The Verge: ",r.a.createElement("a",{href:"https://www.theverge.com/pages/community-guidelines"},"Community Guidelines")," "),r.a.createElement("br",null),r.a.createElement("p",null,"\xa92020 Glimmer Labs")))};var ae=function(){return r.a.createElement(s.a,{fluid:!0,style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem"}},"contact info")},ne=function(){return r.a.createElement(s.a,{fluid:!0,style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem"}},r.a.createElement("h1",null,"Development"),r.a.createElement(s.a,{className:"clear:left;"},r.a.createElement("p",null,"Welcome to the MIST public beta release. We hope that you have fun experimenting with MIST. In case you haven't figured it out, MIST provides a new approach to making interesting abstract images. We hope that you will be inspired by the sample images already on the site and that you will be inspired to create your own."),r.a.createElement("p",null,"Because MIST is in its early stages of development, you are likely to find some things missing on this Web site, and you'll ocassionally find that things don't work as they should. We'd appreciate it if you'd take the time to let us know about",r.a.createElement("a",{href:"https://docs.google.com/forms/d/1vWQcSE6oU-yiM0CWk-q55aBj6Ec8zTRTepUlKdbPdog/viewform"},"features"),"that you would like to see and any",r.a.createElement("a",{href:"https://docs.google.com/forms/d/1TrMg8uoYFa1JJYR4qRAxX396gGW46UazTnU_Z23eQm8/viewform"},"bugs"),"that you have encountered. If you spend more than a few minutes on the site, we'd also appreciate it if you'd fill out the",r.a.createElement("a",{href:"https://docs.google.com/forms/d/1DUo5eEY-5w8amayx9DJMifr7BvgzRUp1yy4a9-r09-g/viewform"},"user feedback form"),"."),r.a.createElement("p",{className:"text-align: right;"},"-- The MIST Team")))},re=a(21),le=a.n(re),oe=a(34),ie=a(27),ce=a(85),se=(a(180),a(42)),ue=a(43),me=a(45),de=a(44),he=window.MIST,fe=he.parse,pe=he.Val;function ge(e,t,a){var n=e.code,r=e.params;return function e(t,a,n,r){switch(t.class){case"MIST.Val":return a.has(t.name)?"{".concat(t.name,"}"):t.name in n&&0===r[t.name].params.length?n[t.name]:t.name;case"MIST.App":var l=t.operation,o=t.operands;return l in n?(t.operands=o.map((function(t){return new pe(e(t,a,n,r))})),be(t,n,r)):"".concat(l,"(").concat(o.map((function(t){return e(t,a,n,r)})).join(","),")");default:throw TypeError("Unknown node type ".concat(t.class))}}(fe(n),new Set(r),t,a)}function Ee(e,t,a){for(;-1!==e.indexOf(t);)e=e.replace(t,a);return e}function be(e,t,a){switch(e.class){case"MIST.Val":return e.name in t?t[e.name]:e.name;case"MIST.App":var n=e.operands.map((function(e){return be(e,t,a)}));if(e.operation in t){for(var r=a[e.operation].params,l=t[e.operation],o=0;o<n.length;o++)l=Ee(l,"{".concat(r[o],"}"),n[o]);return l}return"".concat(e.operation,"(").concat(n.join(","),")");default:throw TypeError("Unknown node type ".concat(e.class))}}function ye(e,t){var a={};return t._order.forEach((function(e){a[e]=ge(t[e],a,t)})),be(fe(e),a,t)}var ve=a(285),we=a(286),xe=a(287),ke=a(154),Te=a.n(ke),Se=a(48);function Ie(e){return r.a.createElement(Te.a,{value:e.resolution,min:e.min,max:e.max,step:e.step,tooltip:"on",tooltipStyle:{color:"white"},tooltipLabel:function(e){return"Resolution: "+e},onChange:function(t){return e.setResolution(parseInt(t.target.value,10))}})}var Oe=function(e){Object(me.a)(a,e);var t=Object(de.a)(a);function a(e){var r;return Object(se.a)(this,a),(r=t.call(this,e)).animator=null,r.canvas=Object(n.createRef)("canvas"),r.state={resolution:200},r}return Object(ue.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return t.resolution!==this.state.resolution}},{key:"setResolution",value:function(e){this.state.resolution!==e&&(this.setState({resolution:e}),this.animator&&(this.canvas.current.width=this.state.resolution,this.canvas.current.height=this.state.resolution,this.animator.bounds(),this.animator.setResolution(e,e),this.animator.frame()))}},{key:"startAnimator",value:function(){var e=this,t=window.MIST;this.animator&&this.animator.stop();try{var a=this.props.code;if(this.props.default_params){var n=this.props.params.replace(/\s/g,"").split(","),r=this.props.default_params.replace(/\s/g,"").split(",");if(n.length!==r.length)throw"There is a mismatch between default_params and params";a=ge({code:a,params:n},{},{}),console.log(a),n.forEach((function(e,t){console.log("here"),a=Ee(a,"{".concat(e,"}"),r[t])}))}a=ye(a,this.props.getStateFunctions()),this.props.setMessage(""),this.animator=new t.ui.Animator(a,"",{},this.canvas.current,(function(t){throw e.props.setMessage(t),t})),this.animator.setResolution(this.state.resolution,this.state.resolution),this.animator.start(),this.props.setRenderingCode(a)}catch(l){this.props.setMessage(l),this.props.setRenderingCode("")}}},{key:"stopAnimator",value:function(){this.animator&&this.animator.stop()}},{key:"downloadImage",value:function(){var e=document.createElement("a");e.download=(this.props.getFormState().name||"untitled")+".png",e.href=this.canvas.current.toDataURL(),e.click()}},{key:"render",value:function(){var e,t,a=this;return r.a.createElement(V.a,{id:"expert-canvas",className:(this.props.size?"col-"+this.props.size:" ")+" scroll panel"},console.log("rendering canvascard"),r.a.createElement(V.a.Title,{style:{color:"white"}},"Final Image"),r.a.createElement(V.a.Body,null,r.a.createElement(D.a,{style:{justifyContent:"space-between"}},r.a.createElement(ve.a,null,r.a.createElement(we.a,{container:this.props.expertRef,key:"startAnimation",placement:"right",overlay:r.a.createElement(xe.a,null,"Start image animation")},r.a.createElement(k.a,{className:"canvasButton",onClick:this.startAnimator.bind(this)},r.a.createElement(Se.d,null))),r.a.createElement(we.a,{container:this.props.expertRef,key:"stopAnimation",placement:"right",overlay:r.a.createElement(xe.a,null,"Stop image animation")},r.a.createElement(k.a,{className:"canvasButton",onClick:this.stopAnimator.bind(this)},r.a.createElement(Se.g,null)))),r.a.createElement(Ie,{min:1,max:Math.round(null!==(e=null===(t=this.canvas.current)||void 0===t?void 0:t.getClientRects()[0].width)&&void 0!==e?e:400),step:1,setResolution:function(e){return a.setResolution(e)},resolution:this.state.resolution}),r.a.createElement(ve.a,null,r.a.createElement(we.a,{container:this.props.expertRef,key:"downloadImagePng",placement:"left",overlay:r.a.createElement(xe.a,null,"Locally download the image as a .png")},r.a.createElement(k.a,{className:"canvasButton",onClick:function(){return a.downloadImage()}},r.a.createElement(Se.b,null))))),r.a.createElement(V.a.Img,{as:"canvas",id:"expert-canvas-image",ref:this.canvas,width:200,height:200})))}}]),a}(n.Component),Ce=a(301),Me=a(288),je=a(53),Ae=a(32),Fe=a(52);function Be(e){var t=Object(n.useState)(document.fullscreen),a=Object(u.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)((function(){var e=function(){return o(document.fullscreen)};return document.addEventListener("fullscreenchange",e),function(){document.removeEventListener("fullscreenchange",e)}}),[]),l?r.a.createElement(k.a,{className:"menu-btn",onClick:e.exitFullscreen,variant:"outline"},r.a.createElement(Ae.d,null)):r.a.createElement(k.a,{className:"menu-btn",onClick:e.requestFullscreen,variant:"outline-light"},r.a.createElement(Ae.c,null))}function Ne(e){var t=function(){var t=Object(oe.a)(le.a.mark((function t(){var a;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUserExpertWS();case 2:(a=t.sent).success?e.triggerPopup({footer:!1,title:"Choose an Expert Workspace to Delete",message:r.a.createElement(ve.a,{vertical:!0},a.expertWorkspaces.map((function(t){return r.a.createElement(k.a,{className:"menu-btn",onClick:function(){e.deleteWorkspace(t.name),e.togglePopup()},variant:"outline-primary"},t.name)})))}):alert(a.message);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{as:ve.a,className:"menu-btn",id:"file",title:"File",variant:"outline-light"},r.a.createElement(je.a.Item,{onClick:function(){e.isWorkspaceInUse()&&e.triggerPopup({message:"Your workspace is currently in use. Are you sure that you want to reset it?",onConfirm:e.resetWorkspace})}},"Reset Workspace"),r.a.createElement(We,{getUserExpertWS:e.getUserExpertWS,loadWorkspace:e.loadWorkspace,triggerPopup:e.triggerPopup,workspaceNameRef:e.workspaceNameRef}),r.a.createElement(je.a.Item,{onClick:t},"Delete Workspace"),r.a.createElement(je.a.Divider,null))," ")}function We(e){var t=function(){var t=Object(oe.a)(le.a.mark((function t(){var a;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUserExpertWS();case 2:(a=t.sent).success?e.triggerPopup({footer:!1,title:"Choose an Expert Workspace to Load",message:r.a.createElement(ve.a,{vertical:!0},a.expertWorkspaces.map((function(t){return r.a.createElement(k.a,{className:"menu-btn",onClick:function(){return e.loadWorkspace(t)},variant:"outline-primary"},t.name)})))}):alert(a.message);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a.Item,{onClick:t},"Load a Workspace"))}var Le=r.a.memo((function(e){var t=Object(n.createRef)("workspaceName"),a=Object(n.createRef)("finalimageName");return r.a.createElement(v.a,{id:"menu",bg:"dark",variant:"dark",style:{justifyContent:"space-between"}},r.a.createElement(T.a,null,r.a.createElement(k.a,{className:"menu-btn",onClick:function(){e.triggerPopup({footer:!1,message:r.a.createElement("div",null,r.a.createElement(Ce.a,null,r.a.createElement(Ce.a.Item,null,"The ",r.a.createElement("b",null,"Side Panel")," is the left-most panel is where you access builtin MIST functions and values as well as your saved functions."),r.a.createElement(Ce.a.Item,null,"The ",r.a.createElement("b",null,"Central Panel")," is where you can write and save your own MIST function with however many parameters as well as write your MIST Image."),r.a.createElement(Ce.a.Item,null,"The ",r.a.createElement("b",null,"Final Image Panel")," is where you can render and see the MIST image that you wrote out in the Central Panel."),r.a.createElement(Ce.a.Item,null,"The ",r.a.createElement("b",null,"Workspace")," you save is both the functions that you have saved as well as the contents of the function that you are currently writing."),r.a.createElement(Ce.a.Item,null,"If you need additional help to start using the Expert UI, click the following button to checkout our tutorial!",r.a.createElement("a",{href:"/tutorial/#expert-ui"},r.a.createElement(k.a,null,"To Tutorials"))))),title:"MIST Expert UI Terminology"})},variant:"outline-light"},r.a.createElement(Ae.e,null)),r.a.createElement(Ne,{deleteWorkspace:e.deleteWorkspace,getCurrentWorkspace:e.getCurrentWorkspace,getUserExpertWS:e.getUserExpertWS,isWorkspaceInUse:e.isWorkspaceInUse,loadWorkspace:e.loadWorkspace,resetWorkspace:e.resetWorkspace,togglePopup:e.togglePopup,triggerPopup:e.triggerPopup,workspaceNameRef:t})),r.a.createElement(T.a,null,r.a.createElement(w.a,{inline:!0},r.a.createElement(x.a,{className:"mr-sm-2",placeholder:"Name your Workspace",ref:t,type:"text"})),r.a.createElement(we.a,{placement:"top",overlay:r.a.createElement(xe.a,null,"Save your workspace")},r.a.createElement(k.a,{className:"menu-btn",onClick:function(){return e.saveWorkspace(t.current.value)},variant:"outline-light"}," ",r.a.createElement(Ae.b,null)," Save"))),r.a.createElement(T.a,null,r.a.createElement(w.a,{inline:!0},r.a.createElement(x.a,{className:"mr-sm-2",placeholder:"Name your Final Image",ref:a,type:"text"})),r.a.createElement(we.a,{placement:"top",overlay:r.a.createElement(xe.a,null,"Publish your final image")},r.a.createElement(k.a,{className:"menu-btn",variant:"outline-light",onClick:function(){if(a.current.value&&e.rendering_code){var t=a.current.value;fetch("api?action=imageexists&title="+t).then((function(e){return e.json()})).then((function(a){switch(a){case"logged out":alert("Please log in to save images.");break;case"image exists":alert("You already have an image with this name; please name it something else.");break;case"image does not exist":var n={action:"saveimage",title:t,code:e.rendering_code};fetch("api",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.success?alert(e.message):alert("Failed to save due to "+(e.message||e))})).catch((function(e){return alert("Failed to save due to Error: "+e)}));break;default:console.log("Unexpected result")}})).catch((function(e){return alert("Failed to fetch due to Error: "+e)}))}else a.current.value?alert("Please render an image to save"):alert("Enter a valid final image name")}},r.a.createElement(Fe.d,null)," Publish"))),r.a.createElement(Be,{requestFullscreen:e.requestFullscreen,exitFullscreen:e.exitFullscreen}))})),Re=a(292);var Pe=function(e){return r.a.createElement(Re.a,{show:e.isOpen,onHide:e.onClose},r.a.createElement(Re.a.Header,{closeButton:!0},r.a.createElement(Re.a.Title,null,e.title)),r.a.createElement(Re.a.Body,null," ",e.message),e.footer?r.a.createElement(Re.a.Footer,null,r.a.createElement(k.a,{onClick:e.onClose,variant:"secondary"},"Close"),r.a.createElement(k.a,{onClick:function(){e.onConfirm(),e.onClose()},variant:"primary"},"Confirm")):r.a.createElement(r.a.Fragment,null))},Ye=a(289),He=a(290),Ge=a(76),Xe=a(128),Ue=a.n(Xe),qe=a(129),ze={keyword:{pattern:/(^|,|\s|\(|\u200e)(?:abs|avg|cos|mistif|mult|neg|rgb|sign|signz|sin|sine|square|sum|wsum)(?=\(|\s|\u200e)/,lookbehind:!0},number:{pattern:/(,|\s|\(|\u200e)-?[0-9]?\.?[0-9]+/,lookbehind:!0},paren:{pattern:new RegExp("(\u200e)(?:\\(|\\))(?=\u200e)"),lookbehind:!0},symbol:{pattern:/(\(|,|\s|\u200e)(?:x|y|t\.(?:s|m|h|d)|m\.(?:x|y))(?=\s|,|\)|\u200e)/,lookbehind:!0}};function De(e,t){var a,n=document.getElementById(t),r=null!==(a=null===n||void 0===n?void 0:n.selectionStart)&&void 0!==a?a:-1;if(-1===r||"("!==e[r]&&")"!==e[r])return Object(qe.highlight)(e,ze,"mist");var l=null;if("("===(e=Array.from(e))[r]){for(var o=1,i=r+1;o>0&&i<e.length;)switch(e[i++]){case"(":o++;break;case")":o--}0===o&&(l=i-1)}else{l=r,r=null;for(var c=1,s=l-1;c>0&&s>=0;)switch(e[s--]){case"(":c--;break;case")":c++}0===c&&(r=s+1)}return null!==l&&null!==r&&(e.splice(l,1,"\u200e",e[l],"\u200e"),e.splice(r,1,"\u200e",e[r],"\u200e")),Object(qe.highlight)(e.join(""),ze,"mist")}function Ve(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{style:{justifyContent:"space-between",flexDirection:"row-reverse"}},r.a.createElement(ve.a,null,r.a.createElement(we.a,{container:e.expertRef,key:"clearFunction",placement:"right",overlay:r.a.createElement(xe.a,null,"Reset the function form to the default state")},r.a.createElement(k.a,{onClick:function(){(function(){var t=e.currentForm;return t.name||t.params||t.description||t.code})()&&e.triggerPopup({message:" Your function form is currently in use. Are you sure that you want to clear it?",onConfirm:function(){return e.clearFunction()}})}},r.a.createElement(Ge.b,null)))),r.a.createElement(ve.a,null,r.a.createElement(we.a,{container:e.expertRef,key:"addToWorkspace",placement:"right",overlay:r.a.createElement(xe.a,null,"Save your function to your workspace")},r.a.createElement(k.a,{onClick:function(){var t=e.currentForm.name;e.doesFunctionExist(t)?e.triggerPopup({message:"You are about to overwrite a previous custom function. Are you sure that you want to continue?",onConfirm:function(){return e.addUserDefinedFunction()}}):e.addUserDefinedFunction()}},r.a.createElement(Se.e,null))))),e.children)}function _e(e){return r.a.createElement(we.a,{container:e.expertRef,overlay:r.a.createElement(xe.a,{id:e.id},e.text),placement:"right"},r.a.createElement(Ae.e,null))}var Ke=function(e){var t=Object(n.useState)(!0),a=Object(u.a)(t,2)[1],l=Object(n.useState)("createFunction"),o=Object(u.a)(l,2),i=o[0],c=o[1],s=function(){return a((function(e){return!e}))};return Object(n.useEffect)((function(){var t;(t=(t=e.functions).filter((function(e){return""!==e}))).length>0?ze.macros=t.map((function(e){return{pattern:new RegExp("(^|".concat("\u200e","|\\(|,|\\s)(?:").concat(e,")(?=\\s|,|\\)|\\(|").concat("\u200e",")")),lookbehind:!0}})):ze.macros=void 0}),[e.functions]),Object(n.useEffect)((function(){var t;(t=(t=e.params.replace(/\s/g,"").split(",")).filter((function(e){return""!==e}))).length>0?ze.params=t.map((function(e){return{pattern:new RegExp("(".concat("\u200e","|\\(|,|\\s)(?:").concat(e,")(?=\\s|,|").concat("\u200e","|\\))")),lookbehind:!0}})):ze.params=void 0}),[e.params]),r.a.createElement(V.a,{className:"scroll panel",id:"expert-workspace"},console.log("rendering workspace"),r.a.createElement(V.a.Title,null,"Create Your Custom Function"),r.a.createElement(Ye.a,{id:"controlled-center-body",activeKey:i,onSelect:function(e){return c(e)}},r.a.createElement(He.a,{eventKey:"createFunction",title:"Create Function"},r.a.createElement(V.a.Body,null,r.a.createElement(Ve,{addUserDefinedFunction:e.addUserDefinedFunction,clearFunction:e.clearFunction,currentForm:e.getCurrentWorkspace().form,doesFunctionExist:e.doesFunctionExist,expertRef:e.expertRef,loadFunction:e.loadFunction,triggerPopup:e.triggerPopup},r.a.createElement(w.a,null,r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Name\xa0",r.a.createElement(_e,{text:"The name of your MIST function. Your function name can include numbers and capital or lowercase letters. The name should not conflict with a MIST builtin function.",id:"mist-function-name-tooltip"})),r.a.createElement(w.a.Control,{as:"textarea",className:"formTextbox",onChange:function(t){return e.setName(t.target.value.replace(/[^ a-zA-Z0-9]/g,""))},placeholder:"Please name your MIST Function",rows:"1",value:e.name})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Parameters\xa0",r.a.createElement(_e,{text:"The parameters to your MIST function. Separate parameters with commas. Parameter names can include numbers and capital or lowercase letters.",id:"mist-function-params-tooltip"})),r.a.createElement(w.a.Control,{as:"textarea",className:"formTextbox",onChange:function(t){return e.setParams(t.target.value.replace(/[^ a-zA-Z0-9,]/g,""))},placeholder:"Please list your params, separated by commas",rows:"1",value:e.params})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Testing Parameters\xa0",r.a.createElement(_e,{text:"Parameter values that are used when rendering your function directly. Separate testing parameters with commas.",id:"mist-function-test-params-tooltip"})),r.a.createElement(w.a.Control,{as:"textarea",className:"formTextbox",onChange:function(t){return e.setDefaultParams(t.target.value)},placeholder:"Please pick your default params, separated by commas",rows:"1",value:e.default_params})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Description"),r.a.createElement(w.a.Control,{as:"textarea",className:"formTextbox",onChange:function(t){return e.setDescription(t.target.value)},placeholder:"Please describe your MIST function",rows:"2",value:e.description})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Code"),r.a.createElement(Ue.a,{className:"formTextbox",highlight:function(e){return De(e,"code-editor")},id:"expert-code",onKeyUp:s,onValueChange:function(t){return e.setCode(t)},padding:10,ref:e.codeRef,tabSize:4,textareaId:"code-editor",value:e.code})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Message Box"),r.a.createElement(w.a.Control,{as:"textarea",id:"message",className:"formTextbox",value:e.message,readOnly:!0,rows:"3"})))))),r.a.createElement(He.a,{eventKey:"createImage",title:"Create Image"},r.a.createElement(V.a.Body,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Code"),r.a.createElement(Ue.a,{className:"formTextbox",highlight:function(e){return De(e,"code-editor")},id:"expert-code",onKeyUp:s,onValueChange:function(t){return e.setCode(t)},padding:10,ref:e.codeRef,tabSize:4,textareaId:"code-editor",value:e.code})))))))},Je=a(117),Ze=a(0),Qe={abs:{class:"MIST.FunInfo",name:"abs",display:"abs",about:"The absolute value of i",params:"i",minarity:1,maxarity:1,type:"GENERAL"},avg:{class:"MIST.FunInfo",name:"average",display:"avg",about:"Average 2 or more values",params:"...",minarity:2,maxarity:20,type:"GENERAL"},cos:{class:"MIST.FunInfo",name:"cosine",display:"cos",about:"The cosine of pi*a",params:"a",minarity:1,maxarity:1,type:"GENERAL"},mult:{class:"MIST.FunInfo",name:"multiply",display:"mult",about:"Multiply 2 or more values",params:"...",minarity:2,maxarity:20,type:"GENERAL"},neg:{class:"MIST.FunInfo",name:"negate",display:"neg",about:"negates value",params:"a"},rgb:{class:"MIST.FunInfo",name:"rgb",display:"rgb",about:"Generate an RGB color from red, green, and blue components",params:"r,g,b",minarity:3,maxarity:3,type:"RGB"},sign:{class:"MIST.FunInfo",name:"sign",display:"sign",about:"If i < 0, returns -1; if i >- 0, returns 1",params:"i",minarity:1,maxarity:1,type:"GENERAL"},signz:{class:"MIST.FunInfo",name:"signz",display:"signz",about:"If i < 0, returns -1; if i > 0, returns 1; if i is 0, returns 1.",params:"i",minarity:1,maxarity:1,type:"GENERAL"},sin:{class:"MIST.FunInfo",name:"sine",display:"sin",about:"The sine of pi*a",params:"a",minarity:1,maxarity:1,type:"GENERAL"},square:{class:"MIST.FunInfo",name:"square",display:"square",about:"Square i",params:"i",minarity:1,maxarity:1,type:"GENERAL"},sum:{class:"MIST.FunInfo",name:"sum",display:"sum",about:"Sum 2 or more values.  If the sum would exceed 1, has the value 1.  If the sum would be less than -1, has the value -1",params:"...",minarity:2,maxarity:20,type:"GENERAL"},wsum:{class:"MIST.FunInfo",name:"wrapsum",display:"wsum",about:"Sum 2 or more values, wrapping around from 1 to -1 (or vice versa) if the sum is too large or too small",params:"...",minarity:2,maxarity:20,type:"GENERAL"},mistif:{class:"MIST.FunInfo",name:"mistif",display:"mistif",about:"if test is greater than or equal to zero, return pos, if test is less than zero, return neg",params:"test, pos, neg",minarity:3,maxarity:3,type:"GENERAL"}},$e={x:{name:"x",about:"ranges from -1 to 1 basesd on the x-value"},y:{name:"y",about:"ranges from -1 to 1 basesd on the y-value"},second:{name:"t.s",about:"goes through values -1 to 1 every second"},minute:{name:"t.m",about:"goes through values -1 to 1 every minute"},hour:{name:"t.h",about:"goes through values -1 to 1 every hour"},day:{name:"t.d",about:"goes through values -1 to 1 every day"},mouseX:{name:"m.x",about:"takes the x-value of the position of the mouse on the image"},mouseY:{name:"m.y",about:"takes the y-value of the position of the mouse on the image"},constant:{name:"#",about:"enter your own number"}};var et=function(e){var t=function(e,t,a){var n=a.createKeyFromObj;return r.a.createElement(D.a,{key:n(t),style:{justifyContent:"space-between",marginBottom:"6px"}},e)},a=function(t,a,n){var l=n.createKeyFromObj,o=void 0===l?function(){return null}:l,i=n.createOverlayFromObj,c=void 0===i?function(){return r.a.createElement(xe.a,null)}:i;return r.a.createElement(we.a,{container:e.expertRef,key:o(a),placement:"right",overlay:c(a)},t)};function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0,n=a.button_name,o=a.insert_text,i=a.wrap_button,c=void 0===i?function(e){return e}:i,s=t||Object.keys(e).sort();return s.map((function(t,a){return c(r.a.createElement(k.a,{block:!0,className:"insertButton",variant:"dark",key:a,onClick:function(){l(o(e[t]))}},n(e[t])),e[t],a)}))}function l(t){var a=document.getElementById("code-editor");if(document.selection)a.focus(),document.selection.createRange().text=t,a.focus();else if(a.selectionStart||0===a.selectionStart){var n=a.selectionStart,r=a.selectionEnd,l=a.scrollTop;a.value=a.value.substring(0,n)+t+a.value.substring(r,a.value.length),a.focus(),a.selectionStart=n+t.length,a.selectionEnd=n+t.length,a.scrollTop=l,e.setCode(a.value)}else a.value+=t,a.focus(),e.setCode(a.value)}return r.a.createElement(V.a,{className:"scroll panel"},console.log("rendering sidepanelcard"),r.a.createElement(V.a.Body,null,r.a.createElement(V.a.Title,{style:{color:"white"}},"WS Functions"),r.a.createElement(Je.a,{onDragEnd:function(t){var a=t.destination,n=t.source,r=t.draggableId;if(a&&"user_defined_functions"===n.droppableId){var l=t.destination.index,o=t.source.index,i=e.getFunctions(),c=Array.from(i);c.splice(o,1),c.splice(l,0,r),e.setFunctionsOrder(c)}}},r.a.createElement(Je.c,{droppableId:"user_defined_functions"},(function(l){return r.a.createElement(s.a,Object.assign({ref:l.innerRef},l.droppableProps),n(e.getStateFunctions(),e.getFunctions(),{button_name:function(e){return e.name},insert_text:function(e){return e.name+(0===e.params.length?"":"("+e.params+")")},wrap_button:function(n,l,o){return function(e,t,a){var n=a.createKeyFromObj,l=void 0===n?function(){return null}:n,o=a.index,i=void 0===o?0:o;return r.a.createElement(Je.b,{draggableId:l(t),index:i,key:l(t)},(function(t){return r.a.createElement("div",Object.assign({},t.draggableProps,t.dragHandleProps,{ref:t.innerRef}),e)}))}(t(function(t,a){var n="You are about to delete the saved function "+a.name+". Are you sure you want to continue?";return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,r.a.createElement(Ze.b.Provider,{value:{style:{color:"white",cursor:"pointer"}}},r.a.createElement("div",null,r.a.createElement(Fe.e,{onClick:function(){e.triggerPopup({message:n,onConfirm:function(){return e.deleteFunction(a.name)}})}})))),r.a.createElement(_.a,{xs:6,padding:0},t),r.a.createElement(_.a,null,r.a.createElement(Ze.b.Provider,{value:{color:"white",style:{cursor:"pointer"}}},r.a.createElement("div",null,r.a.createElement(Fe.b,{onClick:function(){return e.loadSavedFunction(a.name)}})))))}(a(n,l,{createKeyFromObj:function(e){return e.name},createOverlayFromObj:function(e){return r.a.createElement(xe.a,null,e.about,r.a.createElement("hr",null),e.name+"("+e.params+")")}}),l),l,{createKeyFromObj:function(e){return e.name}}),l,{createKeyFromObj:function(e){return e.name},index:o})}}),l.placeholder)})),r.a.createElement("hr",{style:{backgroundColor:"white"}}),r.a.createElement(s.a,null,n(Qe,null,{button_name:function(e){return e.display},insert_text:function(e){return e.display+"("+e.params+")"},wrap_button:function(e,n,l){return t(a(e,n,{createKeyFromObj:function(e){return e.name},createOverlayFromObj:function(e){return r.a.createElement(xe.a,null,e.about,r.a.createElement("hr",null),e.display+"("+e.params+")")}}),n,{createKeyFromObj:function(e){return e.name}})}})),r.a.createElement("hr",{style:{backgroundColor:"white"}}),r.a.createElement(s.a,null,n($e,null,{button_name:function(e){return e.name},insert_text:function(e){return e.name},wrap_button:function(e,n,l){return t(a(e,n,{createKeyFromObj:function(e){return e.name},createOverlayFromObj:function(e){return r.a.createElement(xe.a,null,e.about)}}),n,{createKeyFromObj:function(e){return e.name}})}})))))},tt={code:"",default_params:"",description:"",message:"",name:"",params:""},at={_order:[]},nt={isOpen:!1,message:"STUB",onConfirm:function(){console.log("STUB")}};function rt(){return Object(h.a)({},tt)}function lt(){return Object(h.a)({},at)}var ot=a(156),it=a.n(ot);var ct=function(e){var t=Object(n.createRef)("code"),a=Object(n.createRef)("expert"),l=Object(n.useState)(Object(h.a)({},nt)),o=Object(u.a)(l,2),i=o[0],c=o[1],s=function(){c(Object(h.a)(Object(h.a)({},i),{},{isOpen:!i.isOpen}))},m=function(e){var t=e.footer,a=void 0===t||t,n=e.message,r=e.onConfirm,l=e.title,o=void 0===l?"Warning":l;c(Object(h.a)(Object(h.a)({},i),{},{footer:a,isOpen:!i.isOpen,message:n,title:o,onConfirm:r}))},d=Object(n.useState)(rt()),f=Object(u.a)(d,2),p=f[0],g=f[1];Object(n.useEffect)((function(){e.location&&e.location.state&&e.location.state.code&&g(Object(h.a)(Object(h.a)({},rt()),{},{code:e.location.state.code}))}),[e.location]);var E=function(e){var t=Object(h.a)({},e);Array.isArray(t.params)&&(t.params=t.params.toString()),g(t)},b=function(e){return p[e]},y=function(e,t){g(Object(h.a)(Object(h.a)({},p),{},Object(ce.a)({},e,t)))},v=Object(n.useState)(lt()),w=Object(u.a)(v,2),x=w[0],k=w[1],T=function(e){fetch("api/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"saveexpertws",workspace:e})}).then((function(e){return e.json()})).then((function(t){t.success?alert("Expert-Workspace "+e.name+" has been successfully saved!"):alert("We failed to save because of "+t.message)})).catch((function(e){return alert("We failed to save because of Error: "+e)}))},S=function(){var e=Object(oe.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api?action=getUserExpertWS").then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){alert("Failed due to "+e),console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){return{functions:x,form:p}},O=Object(n.useState)(""),C=Object(u.a)(O,2),M=C[0],j=C[1];return r.a.createElement("div",{id:"expert",ref:a},console.log("rendering expert"),r.a.createElement(Pe,Object.assign({},i,{onClose:s})),r.a.createElement(Le,{getCurrentWorkspace:I,getUserExpertWS:S,isWorkspaceInUse:function(){return function(){var e=rt(),t=!1;return Object.keys(p).forEach((function(a){p[a]===e[a]||(t=!0)})),t}()||0!==x._order.length},loadWorkspace:function(e){g(e.form),k(e.functions)},resetWorkspace:function(){g(rt()),k(lt())},requestFullscreen:function(){a.current.requestFullscreen()},exitFullscreen:function(){return document.exitFullscreen()},deleteWorkspace:function(e){fetch("api/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"deleteexpertws",name:e})}).then((function(e){return e.json()})).then((function(t){t.success?alert("Expert-Workspace "+e+" has been successfully deleted!"):alert("We failed to delete because of "+t.message)})).catch((function(e){return alert("We failed to delete because of Error: "+e)}))},saveWorkspace:function(e){var t={functions:x,form:p,name:e};console.log(p),console.log(x),console.log(I()),fetch("api/?action=expertwsexists&name="+e).then((function(e){return e.json()})).then((function(a){a.success?a.hasWorkspace?m({message:"You are about to overwrite the workspace: "+e+". Click confirm to continue.",onConfirm:function(){T(t)}}):T(t):alert(a.message)})).catch((function(e){alert("Failed due to "+e),console.log(e)}))},togglePopup:s,triggerPopup:m,rendering_code:M}),r.a.createElement(it.a,{bkcolor:"#353b48",displayDirection:"row",width:"100%",height:"100vh",panelsSize:[15,43,42],sizeUnitMeasure:"%",resizerSize:"10px"},r.a.createElement(et,{deleteFunction:function(e){var t=Object(h.a)(Object(h.a)({},x),{},{_order:x._order.filter((function(t){return t!==e}))});delete x[e],k(t)},expertRef:a,getFormState:function(){return p},getStateFunctions:function(){return x},getFunctions:function(){return x._order},loadSavedFunction:function(e){return E(x[e])},setCode:function(e){y("code",e)},setFunctionsOrder:function(e){return function(e){k(Object(h.a)(Object(h.a)({},x),{},{_order:e}))}(e)},triggerPopup:m}),r.a.createElement(Ke,{addUserDefinedFunction:function(){var e=p,t=e.name,a=e.code;if(t&&a){var n;n=e.params?e.params.replace(/\s/g,"").split(","):[];try{ye(a,x);var r={name:t,about:e.description,params:n,code:a};!function(e){var t=Object.keys(e)[0],a=[].concat(Object(ie.a)(x._order.filter((function(e){return e!==t}))),[t]),n=Object.assign({},x,{_order:a},e);k(n)}(Object(ce.a)({},t,r))}catch(l){y("message",l)}}else alert("We need both name and code filled out!")},doesFunctionExist:function(e){return e in x},clearFunction:function(){g(rt)},getCurrentWorkspace:I,loadFunction:E,functions:x._order,code:b("code"),codeRef:t,description:b("description"),expertRef:a,name:b("name"),message:b("message"),params:b("params"),default_params:b("default_params"),setCode:function(e){return y("code",e)},setDescription:function(e){return y("description",e)},setDefaultParams:function(e){return y("default_params",e)},setName:function(e){return y("name",e)},setParams:function(e){return y("params",e)},triggerPopup:m}),r.a.createElement(Oe,{code:b("code"),default_params:b("default_params"),expertRef:a,getFormState:function(){return p},getStateFunctions:function(){return x},params:b("params"),setMessage:function(e){return y("message",e)},setRenderingCode:j})))},st=function(){return r.a.createElement(s.a,{fluid:!0,className:"clear:left;"},r.a.createElement("h2",null,"FAQ"),r.a.createElement("dl",null,r.a.createElement("dt",null,"What can I do on this site?"),r.a.createElement("dd",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Browse interesting images in the galleries."),r.a.createElement("li",null,"Create interesting images yourself using the gui. "),r.a.createElement("li",null,"Challenge yourself to figure out how to make the images that appear in the challenges section."))),r.a.createElement("dt",null,"Where can I find the bug report form?"),r.a.createElement("dd",null,"Here's ",r.a.createElement("a",{href:"https://docs.google.com/forms/d/1TrMg8uoYFa1JJYR4qRAxX396gGW46UazTnU_Z23eQm8/viewform"},"the bug report form"),"."),r.a.createElement("dt",null,"Where can I find the feature request form?"),r.a.createElement("dd",null,"Here's ",r.a.createElement("a",{href:"https://docs.google.com/forms/d/1vWQcSE6oU-yiM0CWk-q55aBj6Ec8zTRTepUlKdbPdog/viewform"},"the feature request form")," ."),r.a.createElement("dt",null,"What should I do if I have other questions?"),r.a.createElement("dd",null,"Send us mail at ",r.a.createElement("a",{href:"mailto:MIST@grinnell.edu"},"MIST@grinnell.edu"),"!"),r.a.createElement("dt",null,"Why are you using a self-signed certificate for https?"),r.a.createElement("dd",null,"We haven't had time to get a reasonable certificate.")))},ut=a(164),mt=a(298),dt=a(46),ht=a(158),ft=(a(182),a(293)),pt=a(157),gt=a.n(pt);function Et(e){return r.a.createElement(i.a,null,r.a.createElement(bt,{cards:e.cards}))}function bt(e){var t=Object(c.g)(),a=t.state&&t.state.background;return r.a.createElement("div",null,r.a.createElement(c.c,{location:a||t},r.a.createElement(c.a,{path:"/gallery",children:r.a.createElement(yt,{cards:e.cards})}),r.a.createElement(c.a,{path:"/gallery/random",children:r.a.createElement(yt,{cards:e.cards})}),r.a.createElement(c.a,{path:"/gallery/featured",children:r.a.createElement(yt,{cards:e.cards})}),r.a.createElement(c.a,{path:"/gallery/top-rated",children:r.a.createElement(yt,{cards:e.cards})}),r.a.createElement(c.a,{path:"/gallery/recent",children:r.a.createElement(yt,{cards:e.cards})}),r.a.createElement(c.a,{path:"/profile",children:r.a.createElement(yt,{cards:e.cards})}),r.a.createElement(c.a,{path:"/img/:id",children:r.a.createElement(Tt,{cards:e.cards})})),a&&r.a.createElement(c.a,{path:"/img/:id",children:r.a.createElement(St,{cards:e.cards})}))}function yt(e){var t=e.cards;Object(c.g)();return r.a.createElement(s.a,{style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem"}},r.a.createElement(D.a,{style:{justifyContent:"space-between"}},t.map((function(e){return r.a.createElement(V.a,{style:{padding:"1em",width:"30%",margin:"1em"}},r.a.createElement(vt,{card:e}),r.a.createElement(wt,{card:e}),r.a.createElement(xt,{card:e}))})),r.a.createElement(kt,{style:{margin:"auto"}})))}function vt(e){return r.a.createElement(V.a.Header,null,r.a.createElement(V.a.Title,{style:{margin:"auto"}},r.a.createElement(D.a,{style:{justifyContent:"space-between",alignItems:"center"}},r.a.createElement(_.a,null,r.a.createElement("p1",null,e.card.title,e.card.isAnimated?r.a.createElement(Ae.a,{size:15,style:{margin:"1vh"}}):"")),r.a.createElement(Nt,null))))}function wt(e){var t=Object(c.g)();return r.a.createElement(i.b,{to:{pathname:"/img/".concat(e.card._id),state:{background:t}}},r.a.createElement("div",{variant:"top"},r.a.createElement(D.a,{style:{justifyContent:"center",marginTop:"1em"}},r.a.createElement(J,{code:e.card.code,resolution:"250"}))))}function xt(e){var t=e.card;return r.a.createElement(V.a.Body,{style:{justifyContent:"space-between"}},r.a.createElement(_.a,null,r.a.createElement(D.a,{style:{justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(k.a,{variant:"light",href:"/user"},t.userId.username),t.caption)),r.a.createElement(D.a,{style:{justifyContent:"space-between",marginTop:"1em"}},r.a.createElement(T.a.Link,{style:{color:"black",display:"inline-block"}},r.a.createElement(dt.c,null),t.ratings),r.a.createElement(Ft,{code:t.code}),r.a.createElement(Lt,null),r.a.createElement(Bt,{id:t._id}),r.a.createElement(Wt,null)),r.a.createElement(Mt,{imageId:t._id})))}function kt(){return r.a.createElement(K.a,{className:"pagination-style"},r.a.createElement(K.a.First,null),r.a.createElement(K.a.Prev,null),r.a.createElement(K.a.Item,{active:!0},1),r.a.createElement(K.a.Ellipsis,null),r.a.createElement(K.a.Item,null,10),r.a.createElement(K.a.Item,null,11),r.a.createElement(K.a.Item,null,12),r.a.createElement(K.a.Item,null,13),r.a.createElement(K.a.Ellipsis,null),r.a.createElement(K.a.Item,null,20),r.a.createElement(K.a.Next,null),r.a.createElement(K.a.Last,null))}function Tt(e){var t=Object(c.h)().id,a=e.cards.find((function(e){return e._id===t}));return a?r.a.createElement(s.a,{style:{width:"65%",justifyContent:"center",marginTop:"1em"}},r.a.createElement(_.a,null,r.a.createElement(D.a,null,r.a.createElement(_.a,{xs:"4"},r.a.createElement("h1",{style:{fontSize:"150%",textAlign:"left"}},a.title),r.a.createElement(J,{code:a.code,resolution:"300"}),r.a.createElement(D.a,null,r.a.createElement(k.a,{variant:"light",href:"/user"},r.a.createElement("b",null,a.userId.username))),r.a.createElement(w.a,null,r.a.createElement(w.a.Control,{type:"range",custom:!0,style:{marginTop:"1em",width:"100%"}}))),r.a.createElement(_.a,{xs:"8"},r.a.createElement(Ct,{card:a}))))):r.a.createElement("div",null,"Image not found")}function St(e){var t=Object(c.f)(),a=Object(c.h)().id,n=e.cards.find((function(e){return e._id===a})),l=r.a.useState(!0),o=Object(u.a)(l,1)[0];return n?r.a.createElement(It,{show:o,onHide:function(){return t.goBack()},card:n}):null}function It(e){var t=e.card;return r.a.createElement(Re.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,style:{width:"100%"}}),r.a.createElement(Re.a.Header,null,r.a.createElement(s.a,null,r.a.createElement(Re.a.Title,null,t.title)),r.a.createElement(i.b,{to:{pathname:"/gallery"}},"Close")),r.a.createElement(s.a,null,r.a.createElement(Ot,{card:t})),r.a.createElement(Re.a.Footer,{style:{minHeight:"3em"}}))}function Ot(e){var t=e.card;return r.a.createElement(Re.a.Body,null,r.a.createElement(D.a,null,r.a.createElement(_.a,null,r.a.createElement(k.a,{variant:"light",href:"/user"},t.userId.username),r.a.createElement(D.a,{style:{justifyContent:"center",marginTop:"1em"}},r.a.createElement(J,{code:t.code,resolution:"250"})),r.a.createElement(D.a,null,t.caption),r.a.createElement(w.a,null,r.a.createElement(w.a.Control,{type:"range",custom:!0,style:{marginTop:"1em"}}))),r.a.createElement(_.a,{style:{width:"50%"}},r.a.createElement("div",{style:{paddingLeft:"1em"}}),r.a.createElement(Ct,{card:t}))))}function Ct(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)((function(){fetch("/api?action=getImageComments&id="+e.card._id).then((function(e){return e.json()})).then((function(e){o(e)}))}),[l]),r.a.createElement(_.a,null,r.a.createElement(w.a.Group,null,r.a.createElement(s.a,{style:{overflowY:"scroll",height:"40vh"}},l.map((function(e){return r.a.createElement(jt,{username:e.userId.username,comment:e.body,date:e.createdAt})}))),r.a.createElement("hr",null),r.a.createElement(At,{card:e.card}),r.a.createElement(Mt,{imageId:e.card._id})))}function Mt(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],o=a[1];return r.a.createElement(w.a,{onSubmit:function(t){t.preventDefault(),fetch("/api?action=getUser",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){if(t){console.log("user: ",t);var a={active:!0,flags:[],userId:t._id,body:l,imageId:e.imageId};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(h.a)({action:"postComment"},a))}).then(o(""))}else alert("You must be logged in to make comments")}))}},r.a.createElement(w.a.Row,{style:{justifyContent:"space-between",marginTop:"1em"}},r.a.createElement(_.a,{xs:10},r.a.createElement(w.a.Control,{name:"comment",as:"textarea",rows:"1",placeholder:"Type comment here",value:l,onChange:function(e){var t=e.target.value;o(t)}})),r.a.createElement(_.a,null,r.a.createElement(k.a,{variant:"light",type:"submit"},r.a.createElement(Se.f,{style:{color:"black"}})))))}function jt(e){return r.a.createElement(D.a,null,r.a.createElement(V.a,{style:{width:"100%",margin:"0.5vh"}},r.a.createElement(V.a.Body,{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"space-around",alignItems:"center"}},r.a.createElement("div",{style:{display:"flex",flexFlow:"column nowrap",justifyContent:"flex-start"}},r.a.createElement(k.a,{size:"sm",variant:"light",href:"/user",style:{alignSelf:"flex-start"}},e.username),r.a.createElement("div",{style:{fontSize:"15px"}},function(e){var t=new ft.a("en-US");return"string"===typeof e&&(e=parseInt(e)),t.format(e)}(e.date))),r.a.createElement("div",{style:{flexGrow:"2",paddingLeft:"15px",fontSize:"18px"}},e.comment),r.a.createElement(Nt,null))))}function At(e){var t=e.card;return r.a.createElement(D.a,{style:{justifyContent:"flex-start"}},r.a.createElement(T.a.Link,{style:{color:"black",display:"inline-block"}},r.a.createElement(dt.c,null),t.ratings),r.a.createElement(Ft,{code:t.code}),r.a.createElement(Lt,null),r.a.createElement(Wt,null),r.a.createElement(Nt,null))}function Ft(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(null),c=Object(u.a)(i,2),m=c[0],d=c[1],h=Object(n.useRef)(null);return r.a.createElement("div",{ref:h},r.a.createElement(T.a.Link,{onClick:function(e){o(!l),d(e.target)},style:{color:"black",paddingLeft:"0",paddingRight:"0"}},r.a.createElement(Se.a,null)),r.a.createElement(ut.a,{show:l,target:m,placement:"bottom",container:h.current,containerPadding:20},r.a.createElement(mt.a,{id:"popover-contained"},r.a.createElement(mt.a.Title,{as:"h3",title:"<FiCode/>"}),r.a.createElement(mt.a.Content,null,r.a.createElement(s.a,null,e.code),r.a.createElement(D.a,{style:{justifyContent:"flex-end"}},r.a.createElement(T.a.Link,{style:{color:"black"}}," Copy"))))))}function Bt(e){var t=Object(c.g)();return r.a.createElement(i.b,{to:{pathname:"/img/".concat(e.id),state:{background:t}},style:{paddingTop:"0.5em"}},r.a.createElement(Fe.c,{style:{color:"black",display:"inline-block"}}))}function Nt(){var e=r.a.createElement(mt.a,{id:"popover-basic"},r.a.createElement(mt.a.Content,null,"This content will be hidden from you.")),t=r.a.createElement(mt.a,{id:"popover-basic"},r.a.createElement(mt.a.Content,null,"Report this content."));return r.a.createElement(je.a,null,r.a.createElement(je.a.Toggle,{variant:"light"},r.a.createElement(Se.c,null)),r.a.createElement(je.a.Menu,null,r.a.createElement(je.a.Item,null,r.a.createElement(we.a,{trigger:"hover",placement:"right",overlay:e},r.a.createElement(k.a,{variant:"light",onClick:function(){alert("You have hidden this content and will no longer see it again.")}},"Hide"))),r.a.createElement(je.a.Item,{href:"/report"},r.a.createElement(we.a,{trigger:"hover",placement:"right",overlay:t},r.a.createElement(k.a,{variant:"light"},"Report")))))}function Wt(){return r.a.createElement(T.a,null,r.a.createElement(S.a,{title:r.a.createElement(Fe.d,null),id:"nav-dropdown"},r.a.createElement(S.a.Item,{eventKey:"4.1"}," ",r.a.createElement(Fe.a,null)," Facebook"),r.a.createElement(S.a.Item,{eventKey:"4.2"},r.a.createElement(ht.a,null)," Instagram"),r.a.createElement(S.a.Item,{eventKey:"4.3"}," ",r.a.createElement(Fe.f,null)," Snapchat")))}function Lt(){return r.a.createElement(T.a,null,r.a.createElement(S.a,{title:r.a.createElement(Se.e,null),id:"nav-dropdown"},r.a.createElement(S.a.Item,{eventKey:"4.1"},"as image"),r.a.createElement(S.a.Item,{eventKey:"4.2"}," as video")))}function Rt(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!1),i=Object(u.a)(o,2),c=i[0],s=i[1],m=window.location.href.split("/").slice(-1)[0];return Object(n.useEffect)((function(){switch(m){case"recent":fetch("/api?action=getRecentImages").then((function(e){return e.json()})).then((function(e){l(e),s(!0)}));break;case"top-rated":fetch("/api?action=getTopImages").then((function(e){return e.json()})).then((function(e){l(e),s(!0)}));break;case"featured":fetch("/api?action=getFeaturedImages").then((function(e){return e.json()})).then((function(e){l(e),s(!0)}));break;default:fetch("/api?action=getRandomImages").then((function(e){return e.json()})).then((function(e){l(e),s(!0)}))}}),[m]),r.a.createElement("div",{style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem"}},r.a.createElement("h1",null,"Gallery"),r.a.createElement("p",null,"Get Inspired by others!"),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(k.a,{variant:"outline-dark",href:"/gallery/recent"},"Recent")," \xa0\xa0\xa0",r.a.createElement(k.a,{variant:"outline-dark",href:"/gallery/featured"},"Featured")," \xa0\xa0\xa0",r.a.createElement(k.a,{variant:"outline-dark",href:"/gallery/top-rated"},"Top Rated")," \xa0\xa0\xa0",r.a.createElement(k.a,{variant:"outline-dark",href:"/gallery/random"},"Random")),r.a.createElement(Et,{cards:a,cardsLoaded:c}))}ft.a.addLocale(gt.a);a(193);var Pt=a(165),Yt=Object(c.i)((function(e){var t=e.history,a=(e.location,e.match,e.staticContext,e.to),n=e.onClick,l=Object(Pt.a)(e,["history","location","match","staticContext","to","onClick"]);return r.a.createElement("button",Object.assign({},l,{onClick:function(e){n&&n(e),t.push(a)}}))})),Ht=function(e){Object(me.a)(a,e);var t=Object(de.a)(a);function a(){return Object(se.a)(this,a),t.apply(this,arguments)}return Object(ue.a)(a,[{key:"render",value:function(){return r.a.createElement(s.a,{fluid:!0,style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem"}},r.a.createElement(Gt,null),r.a.createElement(Xt,null),r.a.createElement(Ut,null),r.a.createElement(qt,null))}}]),a}(r.a.Component);function Gt(){return r.a.createElement(D.a,{style:{justifyContent:"center"}},r.a.createElement("img",{src:y.a,alt:"MIST Logo"}),r.a.createElement("p1",{style:{alignItems:"center",margin:"auto 0 auto 5vh"}},r.a.createElement("p1",{style:{fontSize:"200%"}},"The Mathematical Synthesis Toolkit"),r.a.createElement("p1",{style:{fontSize:"150%",color:"grey"}},r.a.createElement("hr",null),"Create abstract images and animations",r.a.createElement("br",null),"using simple math functions")))}function Xt(){return r.a.createElement(D.a,{id:"homeButtons",style:{justifyContent:"center"}},r.a.createElement(Yt,{to:"/tutorial",className:"linkButton"},r.a.createElement("b",null,"Tutorials")),r.a.createElement(Yt,{to:"/createWorkspace",className:"linkButton",id:"middleButton"},"Create"),r.a.createElement(Yt,{to:"/gallery",className:"linkButton"},"Gallery"))}function Ut(){return r.a.createElement(s.a,null,r.a.createElement("p",null,"MIST is in public beta. Look ",r.a.createElement(i.c,{to:"/about"},"here")," for more information."),r.a.createElement("p",null,r.a.createElement("b",null,"WARNING: "),"Some of the images rendered on this site may feature flashing animations and patterns.",r.a.createElement("br",null),"For those with a history of epilepsy, viewer discretion is advised."))}var qt=function(e){Object(me.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(se.a)(this,a),(n=t.call(this,e)).getFeaturedImages=function(){fetch("/api?action=getHomeImages").then((function(e){return e.json()})).then((function(e){return n.setState({featuredImages:e})}))},n.state={featuredImages:[]},n}return Object(ue.a)(a,[{key:"componentDidMount",value:function(){this.getFeaturedImages()}},{key:"render",value:function(){var e=this.state.featuredImages;return r.a.createElement(s.a,null,r.a.createElement(_.a,{className:"featuredImagesContainer",style:{border:"solid",borderWidth:"1px",borderRadius:"10px",width:"80%",marginLeft:"auto",marginRight:"auto",marginTop:"1vh",marginBottom:"1vh",paddingTop:"2vh",paddingBottom:"2vh",paddingLeft:"5vh",paddingRight:"5vh"}},r.a.createElement(D.a,{style:{justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement("h2",{style:{fontSize:"150%"}},"Featured Images:"),r.a.createElement("p1",null,"Images with ",r.a.createElement(Ae.a,null)," will animate when you hover over them")),r.a.createElement("div",null,r.a.createElement(k.a,{variant:"outline-dark",href:"/gallery"}," See More "))),r.a.createElement(D.a,{className:"featuredImagesFlex"},e.length?r.a.createElement(D.a,null,e.map((function(e){return r.a.createElement(_.a,null,r.a.createElement(J,{code:e.code,resolution:"150"}))}))):r.a.createElement("h2",null," No Image Found "))))}}]),a}(n.Component),zt=function(){return r.a.createElement(Ht,null)};var Dt=function(){return r.a.createElement(s.a,{fluid:!0,style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem"}},"license info")};var Vt=function(){return r.a.createElement(s.a,{fluid:!0,style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem"}},r.a.createElement("h1",null,"Privacy Policy "),r.a.createElement("div",null,"We at Glimmer Labs take your privacy very seriously. We believe that you, the user, should understand exactly what information we are keeping track of on our end, and be made aware of the steps you can take to control that information. This privacy policy will detail the following things, as well as the settings you have access to that can adjust these things:",r.a.createElement("ul",null,r.a.createElement("li",null," The information we track while you are navigating our site."),r.a.createElement("li",null," The information we store in our database."))))};var _t=function(){return r.a.createElement(s.a,{className:"reportForm"},r.a.createElement("h1",null,"Report Form "),r.a.createElement("p",{style:{textAlign:"left"}}," To see the community guidelines click ",r.a.createElement("a",{href:"/community"},"here")," "),r.a.createElement(w.a,{className:"form"},r.a.createElement(w.a.Group,{required:"required",controlId:"formBasicCheckbox"},r.a.createElement(w.a.Label,null,"Please select the reason for reporting: "),r.a.createElement(w.a.Check,{name:"reason",type:"radio",label:"Spam"}),r.a.createElement(w.a.Check,{name:"reason",type:"radio",label:"Personal Attack/Harassment"}),r.a.createElement(w.a.Check,{name:"reason",type:"radio",label:"Illegal Activites"}),r.a.createElement(w.a.Check,{name:"reason",type:"radio",label:"Explicit Material"}),r.a.createElement(w.a.Check,{name:"reason",type:"radio",label:"Offensive Content"}),r.a.createElement(w.a.Check,{name:"reason",type:"radio",label:"Discrimination"}),r.a.createElement(w.a.Check,{name:"reason",type:"radio",label:"Trolling"}),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Check,{name:"reason",type:"radio",label:"Other"}),r.a.createElement(w.a.Control,{as:"textarea",rows:"3",type:"other",placeholder:"If none of the above, please explain here"}))),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Additonal Comment (Optional) "),r.a.createElement(w.a.Control,{as:"textarea",rows:"3",type:"comment",placeholder:""})),r.a.createElement(w.a.Group,null,r.a.createElement(k.a,{variant:"outline-dark",type:"submit",id:"submitButton"},"Submit "))))},Kt=(a(194),a(296));function Jt(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),i=Object(u.a)(o,2),c=i[0],s=i[1],m=Object(n.useState)(""),d=Object(u.a)(m,2),f=d[0],p=d[1],g=Object(n.useState)(""),E=Object(u.a)(g,2),b=E[0],y=E[1],v=Object(n.useState)(null),x=Object(u.a)(v,2),T=x[0],S=x[1];function I(e){e.preventDefault(),fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Object(h.a)({action:"changePassword",currentPassword:f,newPassword:b},T))}).then((function(e){return e.json()})).then((function(e){return alert(e)}))}Object(n.useEffect)((function(){fetch("/api?action=getUser",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){e&&S(e)}))}),[T]);var O=r.a.createElement(mt.a,{id:"popover-basic"},r.a.createElement(mt.a.Title,{as:"h3"}," Change Email"),r.a.createElement(mt.a.Content,null,r.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Object(h.a)({action:"changeEmail",newEmail:a},T))}).then((function(e){return e.json()})).then((function(e){return alert(e)}))}},r.a.createElement(w.a.Group,{controlId:"formBasicEmail"},r.a.createElement(w.a.Control,{type:"email",placeholder:"Enter new email",onChange:function(e){return l(e.target.value)}}),r.a.createElement(w.a.Text,{className:"text-muted"}))))),C=r.a.createElement(mt.a,{id:"popover-basic"},r.a.createElement(mt.a.Title,{as:"h3"}," Change Username"),r.a.createElement(mt.a.Content,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Group,{controlId:"formBasicEmail"},r.a.createElement(w.a.Control,{type:"username",placeholder:"Enter new username",onChange:function(e){return s(e.target.value)}}),r.a.createElement(w.a.Text,{className:"text-muted"}),r.a.createElement(k.a,{onClick:function(e){e.preventDefault(),fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Object(h.a)({action:"changeUsername",newUsername:c},T))}).then((function(e){return e.json()})).then((function(e){return alert(e)}))}},"Confirm Changes"))))),M=r.a.createElement(mt.a,{id:"popover-basic"},r.a.createElement(mt.a.Title,{as:"h3"}," Change Password"),r.a.createElement(mt.a.Content,null,r.a.createElement(w.a,{onSubmit:I},r.a.createElement(w.a.Group,{controlId:"formBasicPassword"},r.a.createElement(w.a.Control,{type:"password",placeholder:"Enter old password",onChange:function(e){return p(e.target.value)}}),r.a.createElement(w.a.Control,{type:"password",placeholder:"Enter new password",onChange:function(e){return y(e.target.value)}}),r.a.createElement(w.a.Text,{className:"text-muted"}),r.a.createElement(k.a,{onClick:I},"Confirm Changes")))));return r.a.createElement(Kt.a,{defaultActiveKey:"0"},r.a.createElement(V.a,null,r.a.createElement(Kt.a.Toggle,{as:V.a.Header,eventKey:"0"},"User Settings"),r.a.createElement(Kt.a.Collapse,{eventKey:"0"},r.a.createElement(V.a.Body,null,r.a.createElement(ve.a,{vertical:!0},r.a.createElement(k.a,null,"Privacy"),r.a.createElement(we.a,{trigger:"click",placement:"right",overlay:O},r.a.createElement(k.a,null,"Change Email")),r.a.createElement(we.a,{trigger:"click",placement:"right",overlay:M},r.a.createElement(k.a,null,"Change Password")),r.a.createElement(we.a,{trigger:"click",placement:"right",overlay:C},r.a.createElement(k.a,null,"Change Username")),r.a.createElement(k.a,null,"Blocked Content"))))),r.a.createElement(V.a,null,r.a.createElement(Kt.a.Toggle,{as:V.a.Header,eventKey:"1"},"Accessibility"),r.a.createElement(Kt.a.Collapse,{eventKey:"1"},r.a.createElement(V.a.Body,null,r.a.createElement(ve.a,{vertical:!0},r.a.createElement(k.a,null,"Text Size "),r.a.createElement(k.a,null,"Magnifier "),r.a.createElement(k.a,null,"Animations "))))),r.a.createElement(V.a,null,r.a.createElement(Kt.a.Toggle,{as:V.a.Header,eventKey:"2"},"Message Settings"),r.a.createElement(Kt.a.Collapse,{eventKey:"2"},r.a.createElement(V.a.Body,null," ","Recieve Messages From:",r.a.createElement(w.a,null,["radio"].map((function(e){return r.a.createElement("div",{key:"default-".concat(e),className:"mb-3"},r.a.createElement(w.a.Check,{name:"radio",type:e,id:"default-".concat(e),label:"Anyone"}),r.a.createElement(w.a.Check,{name:"radio",type:e,id:"default-".concat(e),label:"Friends"}),r.a.createElement(w.a.Check,{name:"radio",type:e,id:"default-".concat(e),label:"No Messages"}))})))))),r.a.createElement(V.a,null,r.a.createElement(Kt.a.Toggle,{as:V.a.Header,eventKey:"3"},"Notifications"),r.a.createElement(Kt.a.Collapse,{eventKey:"3"},r.a.createElement(V.a.Body,null,"Recieve Notifications for:",r.a.createElement(w.a,null,["checkbox"].map((function(e){return r.a.createElement("div",{key:"default-".concat(e),className:"mb-3"},r.a.createElement(w.a.Check,{type:e,id:"default-".concat(e),label:"Someone Liking Your Image",defaultChecked:!0}),r.a.createElement(w.a.Check,{type:e,id:"default-".concat(e),label:"New Badge",defaultChecked:!0}),r.a.createElement(w.a.Check,{type:e,id:"default-".concat(e),label:"New Follower",defaultChecked:!0}),r.a.createElement(w.a.Check,{type:e,id:"default-".concat(e),label:"Someone You Follow Made a New Image",defaultChecked:!0}),r.a.createElement(w.a.Check,{type:e,id:"inline",label:"New MIST Updates",defaultChecked:!0}))})))))))}var Zt=function(){return r.a.createElement(s.a,{fluid:!0,style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem"}},r.a.createElement(s.a,null,r.a.createElement("h1",null,"Account Settings")),r.a.createElement(s.a,null,r.a.createElement(Jt,null)))},Qt=(a(133),function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),i=Object(u.a)(o,2),c=i[0],m=i[1];return r.a.createElement(s.a,{className:"signIn-center"},r.a.createElement("h1",null,"Sign In"),r.a.createElement(w.a,{className:"form"},r.a.createElement(w.a.Group,{controlId:"formBasicUsername"},r.a.createElement(w.a.Label,null,"Username"),r.a.createElement(w.a.Control,{type:"username",placeholder:"Enter username",onChange:function(e){return l(e.target.value)}})),r.a.createElement(w.a.Group,{controlId:"formBasicPassword"},r.a.createElement(w.a.Label,null,"Password"),r.a.createElement(w.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return m(e.target.value)}})),r.a.createElement(w.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(w.a.Check,{type:"checkbox",label:"Remember Me"})),r.a.createElement(k.a,{onClick:function(e){e.preventDefault();var t={username:a,password:c};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Object(h.a)({action:"signIn"},t))}).then((function(e){return e.json()})).then((function(e){console.log("message = "+e),"Success"===e&&(window.location.href="/")}))},variant:"outline-dark",type:"submit",id:"submitButton",style:{margin:"auto"}},"Sign In"),r.a.createElement("div",{className:"icons"}," ",r.a.createElement("img",{src:E.a,alt:"Google Logo",className:"icon"}),r.a.createElement("img",{src:p.a,alt:"Facebook Logo",className:"icon"}))))}),$t=a(159),ea=a.n($t),ta=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),i=Object(u.a)(o,2),c=i[0],m=i[1],d=Object(n.useState)(""),f=Object(u.a)(d,2),g=f[0],b=f[1],y=Object(n.useState)(""),v=Object(u.a)(y,2),x=v[0],T=v[1],S=Object(n.useState)(""),I=Object(u.a)(S,2),O=I[0],C=I[1],M=Object(n.useState)(!1),j=Object(u.a)(M,2),A=j[0],F=j[1],B=function(e){var t=e.target.value;switch(e.target.name){case"username":l(t);break;case"password":m(t);break;case"firstname":b(t);break;case"lastname":T(t);break;case"email":C(t)}};return r.a.createElement(s.a,{fluid:!0,style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem"}},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("p",null," ","Welcome to MIST! ",r.a.createElement("br",null)," Get started by creating an account."," "),r.a.createElement("div",{className:"icons"},r.a.createElement("img",{src:E.a,alt:"Google Logo",className:"icon"}),r.a.createElement("img",{src:p.a,alt:"Facebook Logo",className:"icon"})),r.a.createElement("p",null,"OR"),r.a.createElement(w.a,{className:"form",onSubmit:function(e){e.preventDefault();var t={firstname:g,lastname:x,username:a,password:c,email:O};fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(h.a)({action:"signUp"},t))}).then((function(e){return e.json()})).then((function(e){"User Created"!==e?alert(e):window.location.href="/"})),fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Object(h.a)({action:"signIn"},t))}).then((function(e){return e.json()})).then((function(e){console.log("message = "+e),"Success"===e&&(window.location.href="/")}))}},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"First name"),r.a.createElement(w.a.Control,{onChange:B,value:g,name:"firstname",required:"required",placeholder:"Enter first name"})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Last name"),r.a.createElement(w.a.Control,{onChange:B,v:!0,alue:x,name:"lastname",required:"required",placeholder:"Enter last name"})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Username"),r.a.createElement(w.a.Control,{onChange:B,value:a,name:"username",required:"required",placeholder:"@username"})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Email address"),r.a.createElement(w.a.Control,{onChange:B,value:O,name:"email",required:"required",type:"email",placeholder:"Enter email"})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(w.a.Group,{controlId:"formBasicPassword"},r.a.createElement(w.a.Label,null,"Password"),r.a.createElement(w.a.Control,{onChange:B,value:c,name:"password",required:"required",type:"password",placeholder:"Password"})),r.a.createElement("div",{className:"row"},r.a.createElement(ea.a,{style:{fontSize:30,paddingLeft:10},onMouseOut:function(){return F(!1)},onMouseOver:function(){return F(!0)}}),A?r.a.createElement("div",{style:{backgroundColor:"#e3e296",borderRadius:15},className:"col-md-3"},r.a.createElement("ul",null,r.a.createElement("li",null,"At least 8 characters"),r.a.createElement("li",null,"At least one digit"),r.a.createElement("li",null,"At least one special character"))):r.a.createElement("div",null)),r.a.createElement(w.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(w.a.Check,{type:"checkbox",required:"required",label:"By checking this box I confirm that I am 13 years of age or older."})),r.a.createElement(w.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(w.a.Check,{required:"required",type:"checkbox",label:r.a.createElement("label",null,"By checking this box I confirm that I have read and accept the"," ",r.a.createElement("a",{href:"/community"},"Community Guidelines"))})),r.a.createElement(w.a.Group,null,r.a.createElement(k.a,{variant:"outline-dark",type:"submit",id:"submitButton"},"Submit"))))},aa=a(291),na=a(163),ra=a(108),la=a(8),oa=document.documentElement.clientWidth,ia=document.documentElement.clientHeight-70,ca=oa/12,sa=ia/15,ua=oa/20,ma=oa/23,da={menuHeight:ca,funBarHeight:sa},ha=oa/90,fa=ha/2,pa=oa/20,ga=pa-ha,Ea=pa/1.8,ba=oa/75,ya=oa/56.25,va=oa/900,wa={add:{rep:"sum",max:20,min:2,prefix:"sum",color:"#C80442"},multiply:{rep:"mult",max:20,min:2,prefix:"mult",color:"#C80442"},square:{rep:"sqr",max:1,min:1,prefix:"square",color:"#A10235"},negate:{rep:"neg",max:1,min:1,prefix:"neg",color:"#A10235"},sine:{rep:"sin",max:1,min:1,prefix:"sin",color:"#A10235"},cosine:{rep:"cos",max:1,min:1,prefix:"cos",color:"#A10235"},absolute:{rep:"abs",max:1,min:1,prefix:"abs",color:"#A10235"},average:{rep:"avg",max:20,min:2,prefix:"avg",color:"#C80442"},sign:{rep:"sign",max:1,min:1,prefix:"sign",color:"#A10235"},wrapsum:{rep:"wsum",max:20,min:2,prefix:"wsum",color:"#C80442"},rgb:{rep:"rgb",max:3,min:3,prefix:"rgb",color:"#6E0E2C"},mistif:{rep:"if",max:3,min:3,prefix:"mistif",color:"#A10235"}},xa={x:{rep:"x",color:"#ECDE1B"},y:{rep:"y",color:"#ECDE1B"},second:{rep:"t.s",color:"#E2C520"},minute:{rep:"t.m",color:"#E2C520"},hour:{rep:"t.h",color:"#E2C520"},day:{rep:"t.d",color:"#E2C520"},constant:{rep:"#",color:"#D8AB24"},mouseX:{rep:"m.x",color:"#DDB822"},mouseY:{rep:"m.y",color:"#DDB822"}},ka=oa/80,Ta=oa/300,Sa=oa/34,Ia=oa/18,Oa=oa/15,Ca=oa/30,Ma=oa/69,ja=pa/2*1.4,Aa=Math.cos(Math.PI/6)*ja,Fa=oa/12,Ba=oa/6,Na=oa/10,Wa=oa-Ba-2*Na,La=oa-Ba-2*Na,Ra=(Fa-40)/3,Pa=oa/18,Ya=ia/15,Ha=.17*Ya,Ga=.35*oa,Xa=.85*ia,Ua=(oa-Ga)/2,qa=(ia-Xa)/2,za=.9*Ga,Da=qa+(Ga-za)/2,Va=(Ga-za)/2,_a=oa/70,Ka=2*_a,Ja=za/3.4,Za=.4*oa,Qa=.16*ia,$a={width:oa,height:ia,globalFont:"Arial",functionFont:"Courier New",functionStrokeWidth:ha,functionHalfStrokeWidth:fa,functionTotalSideLength:pa,functionRectSideLength:ga,functionColor:"#71d9a9",functionColorLight:"#C6F1ED",functionMultColor:"#C80442",functionSingleColor:"#A10235",functionRGBcolor:"#6E0E2C",valueSideLength:Ea,valueMenuColor:"#ffa931",valueMenuColorLight:"#FDE6DD",valueXYColor:"#ECDE1B",valueTimeColor:"#E2C520",valueMouseColor:"#DDB822",valueConstantColor:"#D8AB24",menuFontSize:ba,nodeFontSize:ya,globalScale:va,funNames:["add","wrapsum","multiply","average","square","negate","sine","cosine","absolute","sign","mistif","rgb"],functions:wa,valNames:["x","y","second","minute","hour","day","mouseX","mouseY","constant"],values:xa,imageBoxSideLength:ka,imageBoxColor:"white",functionImageBoxOffset:Ta,valueImageBoxOffset:Sa,renderSideLength:Ia,editableTextWidth:Oa,editableTextHeight:Ca,editableTextFont:Ma,constiableColor:{r:197,g:231,b:109,a:.5},constiableStrokeColor:"#A1C447",constiableRadius:ja,constiableTextColor:"#62694F",constiableWidth:Aa,outletXOffset:oa/400,outletYOffset:ga/3,outletColor:"#C4C4C4",outletColor2:"#808080",lineStrokeWidth:2,dragShadowColor:"black",selectedShadowColor:"blue",menuHeight:Fa,menuCornerWidth:Ba,buttonWidth:Na,valSpaceWidth:Wa,numVals:6,valMenuXSpacing:(Wa-(6*pa-4))/7,functSpaceWidth:La,numFuncts:6,functMenuXSpacing:(La-6*pa)/7,menuYspacing:11*oa/360,menuFunctsXStart:2*(Na-ga)+Ba-pa/2,menuFunctsXEnd:oa-Na+ga/2,menuValuesXStart:Ba+Na/2,menuAnimDuration:1,arrowWidth:oa/50,arrowBoxFill:"gray",arrowFill:"black",triX:oa/90,triY:oa/60,menuOffset:10,menuControlHeight:Ra,menuControlColor:"#111d5e",menuControlSelect:"#9EBDF0",menuControlTextColor:"black",menuTextOffset:Ra/5,toolboxWidth:Pa,toolboxHeight:oa/4.1,toolboxShift:Pa/5,toolboxButtonSize:oa/30,deleteColor:"#A30F0F",funBarWidth:oa,funBarHeight:Ya,funBarBackgroundColor:"#111d5e",funBarOffset:Ha,funBarTextAreaWidth:.75*oa,funBarTextAreaHeight:.66*Ya,funBarTextOffset:1.5*Ha,funBarDisplayFontSize:oa/40.9,funBarFontSize:oa/75,funBarIconOffset:oa/16,funBarIconSideLength:Ya/4,funBarIconTextWidth:oa/18,funBarIconTextY:Ya-1.3*Ha,popRectColor:"white",popRectWidth:Ga,popRectHeight:Xa,popSaveGroupX:Ua,popSaveGroupY:qa,popCanvasSide:za,popCanvasResolution:oa*(3/9),popCanvasShiftX:Ua+(Ga-za)/2,popCanvasShiftY:Da,popTextShiftX:Va,popTextShiftY:Da/1.2+za,popTextWidth:za,popTextFontSize:_a,popTextHeight:Ka,nameTextShift:oa/18,popButtonWidth:Ja,popButtonHeight:Ka/1.25,popButtonShiftX:(za-3*Ja)/2,popButtonColor:"#A0A3A3",popButtonSelectedColor:"#B6BABA",errorColor:"#A11212",popOpenWsRectWidth:Za,popOpenWsRectHeight:Qa,popOpenWsGroupX:(oa-Za)/2,popOpenWsGroupY:(ia-Qa)/2,popOpenWsButtonShiftX:Va,popOpenWsButtonWidth:(Za/2-3*Va)/2,popOpenWsButtonHeight:.06*Za,RGBoutletColors:["#C94949","#2D9C2D","#4272DB"],lineToolOn:!1,workToolOn:!1,deleteToolOn:!1,valueExpanded:!1,functionExpanded:!1,tagsOn:!0,dragShape:null,scaledObj:null,map:[],makingLine:!1,animation:!1,OUTLET_OFFSET:3,bezPoint:oa/50,repToFun:{sum:"add",mult:"multiply",sqr:"square",neg:"negate",sin:"sine",cos:"cosine",abs:"absolute",avg:"average",sign:"sign",wsum:"wrapsum",rgb:"rgb",if:"mistif"},repToVal:{x:"x",y:"y","t.s":"second","t.m":"minute","t.h":"hour","t.d":"day","#":"constant","m.x":"mouseX","m.y":"mouseY"}},en=(a(145),a(29)),tn=function(e){Object(me.a)(a,e);var t=Object(de.a)(a);function a(){return Object(se.a)(this,a),t.apply(this,arguments)}return Object(ue.a)(a,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(e){this.renderPortal()}},{key:"componentWillUnmount",value:function(){o.a.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"renderPortal",value:function(e){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var t=this.props.children;"function"===typeof t.type&&(t=r.a.cloneElement(t)),o.a.render(t,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),a}(r.a.Component),an=5*oa/16,nn=ia/15,rn=oa-2*an,ln=ia-2*nn,on=oa/30,cn=rn-2*on,sn=rn/70,un=(rn-2*on)/4,mn={canvasX:an,canvasY:nn,canvasWidth:rn,canvasHeight:ln,canvasMargin:on,textfieldX:an+2*on,textfieldY:nn+ln/30,textfieldWidth:rn-4*on,textfieldHeight:ln/20,imageX:an+on,imageY:nn+ln/10,imageWidth:cn,imageHeight:cn,buttonMargin:sn,buttonOffset:un,buttonX:an+on,buttonY:nn+9*ln/10,buttonWidth:un-2*sn,buttonHeight:ln/20,rfTextX:an+on,rfTextY:nn+8*ln/10,rfTextWidth:rn-2*on,rfTextHeight:ln/20},dn=a(9);dn.a.ui||(dn.a.ui={}),dn.a.ui.animator={},dn.a.ui.animator.fps=30,dn.a.ui.animator.on=!0,dn.a.ui.animator.increments=[19,23,29,31,37,41,43,47,53,59,61,67,71].map((function(e){return e/3e3})),dn.a.ui.animator.time={t:0,m:0},dn.a.ui.stopAnimation=function(){dn.a.ui.animator.on=!1},dn.a.ui.startAnimation=function(e,t,a,n,r){if(dn.a.ui.animator.params={},""!==t)for(var l=t.split(","),o=0;o<l.length;o++)""!==t[o]&&(dn.a.ui.animator.params[l[o]]=-1);dn.a.parse(e);try{dn.a.ui.animator.exp=dn.a.parse(e),dn.a.ui.animator.on=e.indexOf("t.")>-1,dn.a.ui.animator.context=a,dn.a.ui.animator.canvas=n,dn.a.ui.animator.log=r,dn.a.ui.animator.frame()}catch(i){throw r(i),i}},dn.a.ui.animator.frame=function(){var e="",t=dn.a.ui.animator.params,a=0;for(var n in t){var r=dn.a.wrapsum(t[n],dn.a.ui.animator.increments[a++]);t[n]=r,dn.a.ui.animator.context[n]=r,e+=n+": "+r+"\n"}var l=dn.a.ui.animator.context;dn.a.ui.animator.log(e),dn.a.ui.animator.on?(console.log("MIST.ui.animator.on"),dn.a.ui.animator.time=dn.a.render(dn.a.ui.animator.exp,l,dn.a.ui.animator.canvas,200,200)):dn.a.ui.animator.time=dn.a.render(dn.a.ui.animator.exp,l,dn.a.ui.animator.canvas),dn.a.ui.animator.on&&setTimeout(dn.a.ui.animator.frame,1e3/dn.a.ui.animator.fps)},dn.a.ui||(dn.a.ui={});var hn=/(?:abs|avg|cos|mult|rgb|sign|neg|signz|sin|square|sum|wsum|null|mistif|t.s|t.m|t.h|t.d|m.x|m.y)|[0-9xy().,]/g;window.requestAnimationFrame=requestAnimationFrame||function(e){setTimeout(e,1e3/30)};var fn=0;dn.a.ui.Animator=function(e,t,a,n,r){this.id=++fn,this.exp=e,this.params=t,this.context=a,this.canvas=n,this.log=r||function(e){},this.fps=30,this.on=!0,this.increments=[19,23,29,31,37,41,43,47,53,59,61,67,71].map((function(e){return e/3e3})),this.time={t:0,m:0,h:0,d:0},this.simTime=dn.b(),this.bounds(0,0,n.width,n.height);try{this.exp=dn.a.sanitize(hn,this.exp),this.expParsed=dn.a.parse(this.exp)}catch(l){this.log(l)}},dn.a.ui.Animator.prototype.bounds=function(e,t,a,n){this.left=e,this.top=t,this.width=a,this.height=n,console.log("mist ui bounds -- exp:"+this.exp),this.exp.indexOf("t.")>=0?(this.renderWidth=200,this.renderHeight=200):(this.renderWidth=a,this.renderHeight=n)},dn.a.ui.Animator.prototype.coords=function(){var e=this.canvas.getContext("2d");e.font="15px Helvetica",e.textAlign="end",e.textBaseline="middle",e.fillText("-1",this.left-5,this.top+this.height/2),e.textAlign="start",e.textBaseline="middle",e.fillText("+1",this.left+this.width+5,this.top+this.height/2),e.textAlign="center",e.textBaseline="bottom",e.fillText("-1",this.left+this.width/2,this.top-5),e.textAlign="center",e.textBaseline="top",e.fillText("+1",this.left+this.width/2,this.top+this.height+5)},dn.a.ui.Animator.prototype.frame=function(){var e="",t=this.parameters,a=0;for(var n in t){var r=dn.a.wrapsum(t[n],this.increments[a++]);t[n]=r,this.context[n]=r,e+=n+": "+r+"\n"}e&&this.log(e);try{this.time=dn.a.render(this.expParsed,this.context,this.canvas,this.renderWidth,this.renderHeight,this.left,this.top,this.width,this.height)}catch(l){this.log(l)}},dn.a.ui.Animator.prototype.jpg=function(){},dn.a.ui.Animator.prototype.jpgBody=function(){var e=this.canvas.toDataURL("image/jpeg"),t=document.createElement("img");for(t.src=e;document.body.children.length>0;)document.body.removeChild(document.body.children[0]);document.body.appendChild(t)},dn.a.ui.Animator.prototype.run=function(){var e;this.frame(),this.on&&window.requestAnimationFrame((e=this,function(){e.run()}))},dn.a.ui.Animator.prototype.setFps=function(e){this.fps=e||30},dn.a.ui.Animator.prototype.setResolution=function(e,t){this.renderWidth=e,this.renderHeight=t},dn.a.ui.Animator.prototype.stop=function(){this.on=!1,this.canvas.onmousemove=void 0},dn.a.ui.Animator.prototype.start=function(){if(this.parameters={},""!=this.params)for(var e=this.params.split(","),t=0;t<e.length;t++)""!==this.params[t]&&(this.parameters[e[t]]=-1);var a;this.on=this.exp.indexOf("t.")>-1||this.exp.indexOf("m.")>-1,this.canvas.onmousemove=(a=this,function(e){var t=a.canvas.getBoundingClientRect(),n=e.clientX-t.left-a.left,r=e.clientY-t.top-a.top,l=2*n/a.width-1,o=2*r/a.height-1;l<-1||l>1||o<-1||o>1||dn.c(l,o)}),this.run()};var pn={};pn.addHelp=function(e,t){},pn.hideHelp=function(){var e=document.getElementById("helptext");e&&(e.style.visibility="hidden")},pn.showHelp=function(e,t,a){var n=document.getElementById("helptext");n||((n=document.createElement("div")).setAttribute("id","helptext"),n.setAttribute("class","misthelp"),document.body.appendChild(n)),n.innerHTML=e,n.style.top=a+"px",n.style.left=t+"px",n.style.visibility="visible"},pn.addMenu=function(e,t,a){if("string"==typeof e){var n=document.getElementById(e);return pn.addMenu(n,t,a)}a||(a=t);var r=document.createElement("li"),l=document.createElement("a");l.innerHTML=a,r.appendChild(l);var o=document.createElement("ul");o.id=t+"-items",o.className="menu",r.appendChild(o),e.appendChild(r),pn.formatMenu(t)},pn.addMenuItem=function(e,t,a,n,r){var l=document.getElementById(e+"-items");l||console.log("Cannot find menu "+e);var o=function(e,t){return function(a){var n=document.getElementById(e+"-items").parentNode;n.className="disabled",setTimeout((function(){n.className=""}),500),pn.hideHelp(),t(a)}},i=document.createElement("li");i.id=t,i.innerHTML="<a href='#'>"+a+"</a>",i.onclick=o(e,r||function(e){}),l.appendChild(i),n&&pn.addHelp&&pn.addHelp(t,n)},pn.addMenuSeparator=function(e,t){var a=document.getElementById(e+"-items");a||console.log("Cannot find menu "+e);var n=document.createElement("li");n.id=t,n.className="separator",a.appendChild(n)},pn.clearMenu=function(e){var t=document.getElementById(e+"-items");t||console.log("Cannot find menu "+e),t.innerHTML=""},pn.formatMenu=function(e){},pn.refreshMenu=function(e){},pn.removeMenuItem=function(e,t){var a=document.getElementById(e+"-items"),n=document.getElementById(t);a||console.log("No such menu: "+e),n||console.log("No such item: "+t),a.removeChild(n)};var gn=dn.a;function En(e){var t=Object(n.useState)(r.a.createRef()),a=Object(u.a)(t,1)[0],l=Object(n.useState)(null),o=Object(u.a)(l,2),i=o[0],c=o[1];return Object(n.useEffect)((function(){i&&i.stop();var t=new gn.ui.Animator(e.renderFunction,[],{},a.current);return t.setResolution(e.width<150?e.width:150,e.height<150?e.height:150),t.frame(),e.automated&&t.start(),c(t),function(){i&&i.stop()}}),[e.renderFunction,a,c]),Object(n.useEffect)((function(){i&&(i.setResolution(e.width<150?e.width:150,e.height<150?e.height:150),i.frame())}),[i,e.width,e.height]),r.a.createElement("canvas",{className:"mist-image",width:e.width,height:e.height,style:{position:"absolute",top:e.y,left:e.x,width:e.width,height:e.height},onMouseOut:function(){e.automated||i&&i.stop()},onMouseOver:function(){e.automated||i&&(i.stop(),i.start())},onClick:e.onClick,ref:a})}function bn(e){return r.a.createElement(la.Group,{x:e.x,y:e.y},r.a.createElement(la.Rect,{width:oa,height:ia,fill:"black",opacity:.7}),r.a.createElement(la.Rect,{x:mn.canvasX,y:mn.canvasY,width:mn.canvasWidth,height:mn.canvasHeight,fill:"white",cornerRadius:30,opacity:.8}))}function yn(e){return r.a.createElement("div",{style:{position:"absolute",top:e.top+mn.textfieldY,left:e.left+mn.textfieldX,fontSize:$a.popTextFontSize,fontFamily:$a.functionFont,width:mn.textfieldWidth,height:mn.textfieldHeight,textAlign:"center",alignItems:"center"}},r.a.createElement("input",{type:"text",placeholder:"Enter Name Of Image",style:{width:mn.textfieldWidth,height:mn.textfieldHeight,border:"2px solid #008CBA",textAlign:"center"},onChange:function(t){return e.setImageName(t.target.value)}}))}function vn(e){return r.a.createElement(En,{x:e.left+mn.imageX,y:e.top+mn.imageY,width:mn.imageWidth,height:mn.imageHeight,renderFunction:e.renderFunction.renderFunction,automated:!0})}function wn(e){return r.a.createElement("div",{style:{position:"absolute",top:e.top+mn.rfTextY,left:e.left+mn.rfTextX,fontSize:20,textAlign:"center",width:mn.rfTextWidth,height:mn.rfTextHeight,overflow:"auto"}},r.a.createElement("p",{style:{width:mn.rfTextWidth,height:mn.rfTextHeight,fill:"red"}},e.renderFunction.renderFunction))}function xn(e){return r.a.createElement(la.Group,{x:e.x+mn.buttonX,y:e.y+mn.buttonY},["Cancel","Download"].map((function(t,a){return r.a.createElement(la.Group,{x:mn.buttonMargin+a*mn.buttonOffset,onClick:function(){"Cancel"===t&&e.closePortal()}},r.a.createElement(la.Rect,{fill:"white",stroke:"#008CBA",strokeWidth:2,width:mn.buttonWidth,height:mn.buttonHeight}),r.a.createElement(la.Text,{fontSize:15,text:t,width:mn.buttonWidth,height:mn.buttonHeight,align:"center",verticalAlign:"middle"}))})),r.a.createElement(kn,Object.assign({},e,{index:2})),r.a.createElement(Tn,Object.assign({},e,{index:3})))}function kn(e){return r.a.createElement(la.Group,{x:mn.buttonMargin+e.index*mn.buttonOffset,onClick:function(){return function(){var t=Sn(e.imageName);""===t?alert("Please type a valid name"):fetch("api?action=imageexists&title="+t).then((function(e){return e.json()})).then((function(a){if("logged out"===a&&alert("Please log in to save images."),"image exists"===a&&alert("You already have an image with this name; please name it something else."),"image does not exist"===a){var n={action:"saveimage",title:t,code:e.renderFunction.renderFunction};fetch("api",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)}).then(e.closePortal()).then(alert("Image Saved!"))}}))}()}},r.a.createElement(la.Rect,{fill:"white",stroke:"#008CBA",strokeWidth:2,width:mn.buttonWidth,height:mn.buttonHeight}),r.a.createElement(la.Text,{fontSize:15,text:"Save",width:mn.buttonWidth,height:mn.buttonHeight,align:"center",verticalAlign:"middle"}))}function Tn(e){return r.a.createElement(la.Group,{x:mn.buttonMargin+e.index*mn.buttonOffset},r.a.createElement(la.Rect,{fill:"white",stroke:"#008CBA",strokeWidth:2,width:mn.buttonWidth,height:mn.buttonHeight}),r.a.createElement(la.Text,{fontSize:15,text:"Expert",width:mn.buttonWidth,height:mn.buttonHeight,align:"center",verticalAlign:"middle"}))}var Sn=function(e){return e=(e=e.replace(/^ */,"")).replace(/ *$/,"")},In=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],o=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(bn,e),r.a.createElement(tn,null,r.a.createElement(yn,Object.assign({},e,{setImageName:o})),r.a.createElement(vn,e),r.a.createElement(wn,e)),r.a.createElement(xn,Object.assign({},e,{imageName:l})))},On=.2*sa,Cn={funbarY:ia-sa,margin:On,rfTextAreaHeight:sa-2*On,functionButtonX:.85*oa,functionButtonWidth:.06*oa,functionButtonHeight:sa-2*On,imageButtonX:.92*oa,imageButtonWidth:.06*oa,imageButtonHeight:sa-2*On},Mn={funBarFontSize:oa/75};function jn(e){return r.a.createElement(la.Group,null,r.a.createElement(la.Rect,{x:0,y:0,width:oa,height:sa,fill:e.bg}),r.a.createElement(la.Rect,{x:Cn.margin,y:Cn.margin,width:$a.funBarTextAreaWidth,height:Cn.rfTextAreaHeight,fill:e.functionBoxBg}),r.a.createElement(la.Text,{text:e.renderFunction.renderFunction,x:$a.funBarTextOffset,y:$a.funBarTextOffset,width:$a.funBarTextAreaWidth-$a.funBarTextOffset,height:Cn.rfTextAreaHeight,verticalAlign:"middle",fill:e.functionTextColor,fontFamily:"Courier New",fontSize:$a.funBarDisplayFontSize}),r.a.createElement(la.Text,{text:"Save as...",x:$a.funBarTextAreaWidth+2*$a.funBarOffset,y:$a.funBarHeight/2-$a.funBarFontSize/2,width:.12*$a.funBarWidth,fill:"white",fontSize:Mn.funBarFontSize}))}function An(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],o=a[1];return r.a.createElement(la.Group,{x:Cn.functionButtonX,y:Cn.margin},r.a.createElement(en.Spring,{native:!0,from:{fill:e.renderFunction.isRenderable?"orange":"#f79f6a"},to:{fill:e.renderFunction.isRenderable?l?"white":"orange":"#f79f6a"}},(function(e){return r.a.createElement(en.animated.Rect,Object.assign({},e,{x:0,y:0,width:Cn.functionButtonWidth,height:Cn.functionButtonHeight,stroke:"#424874",cornerRadius:8}))})),r.a.createElement(la.Text,{text:"Function",x:0,width:Cn.functionButtonWidth,height:Cn.functionButtonHeight,align:"center",verticalAlign:"middle",fill:l?"grey":"white",fontSize:Mn.funBarFontSize,onMouseOver:function(){o(!0)},onMouseOut:function(){o(!1)}}))}function Fn(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(!1),c=Object(u.a)(i,2),s=c[0],m=c[1];return r.a.createElement(la.Group,{x:Cn.imageButtonX,y:Cn.margin},r.a.createElement(en.Spring,{native:!0,from:{fill:e.renderFunction.isRenderable?"orange":"#f79f6a"},to:{fill:e.renderFunction.isRenderable?s?"white":"orange":"#f79f6a"}},(function(e){return r.a.createElement(en.animated.Rect,Object.assign({},e,{width:Cn.imageButtonWidth,height:Cn.imageButtonHeight,stroke:"#424874",cornerRadius:8}))})),r.a.createElement(la.Text,{text:"Image",width:Cn.imageButtonWidth,height:Cn.imageButtonHeight,align:"center",verticalAlign:"middle",fill:s?"gray":"white",fontSize:Mn.funBarFontSize,onClick:function(){e.renderFunction.isRenderable&&(o(!0),m(!1))},onMouseOver:function(){m(!0)},onMouseOut:function(){m(!1)}}),l&&r.a.createElement(In,Object.assign({},e,{x:-Cn.imageButtonX,y:-(ia-sa-Cn.margin),closePortal:function(){o(!1)}})))}var Bn=function(e){return r.a.createElement(la.Group,{y:Cn.funbarY},r.a.createElement(jn,e),r.a.createElement(An,e),r.a.createElement(Fn,e))},Nn=a(30),Wn=a.n(Nn),Ln=a(77),Rn=a.n(Ln),Pn=ua/4,Yn=ma/2,Hn={functionWidth:ua,outletXOffset:ua/20,outletYOffset:Pn,outletStartY:(ua-2*Pn)/2,functionTrashX:4*ua/5,functionTrashY:1*-ua/20,functionImageBoxOffset:6*ua/7,valueSideLength:1.414*Yn,valueOffset:Yn,valueWidth:ma,valueTrashX:1*ma/6,valueTrashY:1*ma/7,valueImageBoxOffset:2*ma/3,imageBoxSideLength:oa/80,renderSideLength:oa/18};var Gn=function(e){var t=e.name,l=e.index,o=e.x,i=e.y,c=$a.functions[t].rep,s=e.numOutlets,m=Object(n.useState)(!1),d=Object(u.a)(m,2),h=d[0],f=d[1],p=Object(n.useState)(!1),g=Object(u.a)(p,2),E=g[0],b=g[1],y=Object(n.useState)(!1),v=Object(u.a)(y,2),w=v[0],x=v[1],k=Rn()(a(125)),T=Object(u.a)(k,1)[0],S=Object(n.useRef)(null);function I(){return r.a.createElement(la.Image,{image:T,x:Hn.functionTrashX,y:Hn.functionTrashY,width:14,height:14,shadowColor:w?"red":"cyan",shadowBlur:5,visible:E,onMouseEnter:function(){x(!0)},onMouseLeave:function(){x(!1),b(!1)},onClick:function(){return e.removeNode(e.index)}})}return Object(n.useEffect)((function(){e.renderFunction||f(!1)}),[e.renderFunction]),r.a.createElement(la.Group,{ref:S,x:o,y:i,draggable:!0,dragBoundFunc:function(e){return e.x<0&&(e.x=0),e.x>window.innerWidth-Hn.functionWidth&&(e.x=window.innerWidth-Hn.functionWidth),e.y<da.menuHeight&&(e.y=da.menuHeight),e.y>window.innerHeight-da.funBarHeight-Hn.functionWidth&&(e.y=window.innerHeight-da.funBarHeight-Hn.functionWidth),e},onDragStart:function(e){e.target.setAttrs({duration:.5,shadowOffset:{x:5,y:5},shadowBlur:6,scaleX:1.1,scaleY:1.1})},onDragEnd:function(t){t.target.to({duration:.5,easing:Wn.a.Easings.ElasticEaseOut,scaleX:1,scaleY:1}),e.updateNodePosition(l,t.currentTarget.x(),t.currentTarget.y())},onDragMove:function(t){e.updateLinePosition(l,"fun",t.currentTarget.x(),t.currentTarget.y())},onClick:function(t){t.target.attrs.name?e.outletClicked(l,parseInt(t.target.attrs.name.substring(6))-1):e.funClicked(l)},onDblClick:function(){e.dblClickHandler(l)}},r.a.createElement(la.Group,{onMouseEnter:function(e){S.current.children.map((function(e,t){return e.to({duration:.5,easing:Wn.a.Easings.ElasticEaseOut,scaleX:1.07,scaleY:1.07}),0})),b(!0)},onMouseLeave:function(e){b(!1),S.current.children.map((function(e,t){return e.to({duration:.5,easing:Wn.a.Easings.ElasticEaseOut,scaleX:1,scaleY:1}),0}))}},r.a.createElement(la.Rect,{x:0,y:0,width:Hn.functionWidth,height:e.numOutlets<=3?Hn.functionWidth:Hn.functionWidth+(e.numOutlets-3)*Hn.outletYOffset,fill:$a.functions[t].color,cornerRadius:10,shadowColor:E?w?"red":e.hoverShadowColor:"black",shadowOffset:{x:E?0:1,y:E?0:1},shadowBlur:3,_useStrictMode:!0}),r.a.createElement(la.Text,{text:c,fontFamily:$a.globalFont,fill:"white",fontSize:$a.nodeFontSize,x:0,y:0,width:Hn.functionWidth,height:e.numOutlets<=3?Hn.functionWidth:Hn.functionWidth+(e.numOutlets-3)*Hn.outletYOffset,align:"center",verticalAlign:"middle",_useStrictMode:!0}),r.a.createElement(I,null)),h?r.a.createElement(tn,null,r.a.createElement(En,{onClick:function(){return f(!1)},x:o+Hn.functionImageBoxOffset+e.offsetX,y:i+e.offsetY+(e.numOutlets<=3?Hn.functionImageBoxOffset:Hn.functionImageBoxOffset+(e.numOutlets-3)*Hn.outletYOffset),width:Hn.renderSideLength,height:Hn.renderSideLength,renderFunction:e.renderFunction?e.renderFunction:"",automated:!1})):r.a.createElement(la.Rect,{onClick:function(){console.log(e.renderFunction),e.renderFunction&&f(!0)},name:"imageBox",x:Hn.functionImageBoxOffset,y:e.numOutlets<=3?Hn.functionImageBoxOffset:Hn.functionImageBoxOffset+(e.numOutlets-3)*Hn.outletYOffset,width:Hn.imageBoxSideLength,height:Hn.imageBoxSideLength,fill:$a.imageBoxColor,shadowColor:"gray",shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,expanded:!1,visible:"string"===typeof e.renderFunction}),"rgb"===t?["red","green","blue"].map((function(e,t){return r.a.createElement(la.Shape,{sceneFunc:function(e){e.beginPath(),e.moveTo(0,0),e.bezierCurveTo(-$a.bezPoint,-$a.bezPoint,-$a.bezPoint,$a.bezPoint,0,0),e.closePath(),e.fillStrokeShape(this)},name:"outlet"+(t+1),key:t,x:Hn.outletXOffset,y:t*Hn.outletYOffset+Hn.outletStartY,fillRadialGradientStartPoint:{x:-19,y:-5},fillRadialGradientStartRadius:3,fillRadialGradientEndPoint:{x:-15,y:-5},fillRadialGradientEndRadius:15,fillRadialGradientColorStops:[0,e,1,"dark"+e],onMouseOver:function(e){e.target.to({duration:.3,easing:Wn.a.Easings.ElasticEaseOut,scaleX:1.2,scaleY:1.2,shadowOffsetX:5,shadowOffsetY:5})},onMouseOut:function(e){e.target.to({duration:.3,easing:Wn.a.Easings.ElasticEaseOut,scaleX:1,scaleY:1,shadowOffsetX:5,shadowOffsetY:5})}})})):Object(ie.a)(Array(s)).map((function(e,t){return r.a.createElement(la.Shape,{sceneFunc:function(e){e.beginPath(),e.moveTo(0,0),e.bezierCurveTo(-$a.bezPoint,-$a.bezPoint,-$a.bezPoint,$a.bezPoint,0,0),e.closePath(),e.fillStrokeShape(this)},name:"outlet"+(t+1),x:Hn.outletXOffset,key:t,y:t*Hn.outletYOffset+Hn.outletStartY,fillRadialGradientStartPoint:{x:-19,y:-5},fillRadialGradientStartRadius:3,fillRadialGradientEndPoint:{x:-15,y:-5},fillRadialGradientEndRadius:15,fillRadialGradientColorStops:[0,$a.outletColor,1,$a.outletColor2],onMouseOver:function(e){e.target.to({duration:.3,easing:Wn.a.Easings.ElasticEaseOut,scaleX:1.2,scaleY:1.2,shadowOffsetX:5,shadowOffsetY:5})},onMouseOut:function(e){e.target.to({duration:.3,easing:Wn.a.Easings.ElasticEaseOut,scaleX:1,scaleY:1,shadowOffsetX:5,shadowOffsetY:5})}})})))},Xn={classic:"white",dusk:"#EEF0FF",dark:"#1c170f"},Un={workspaceBackground:{classic:"#FAFBFF",dusk:"#f0f5ff",dark:"black"},lineFill:{classic:"black",dusk:"black",dark:"white"},nodeHoverShadow:{classic:"cyan",dusk:"cyan",dark:"white"},menuBackground:Xn,valueMenuColor1:"#F2937C",valueMenuColor2:"#ffa931",valueMenuColor3:"#ffa931",menuFunTab:{classic:Xn.classic,dusk:Xn.dusk,dark:Xn.dark},menuValTab:{classic:Xn.classic,dusk:Xn.dusk,dark:Xn.dark},menuCustomTab:{classic:Xn.classic,dusk:Xn.dusk,dark:Xn.dark},menuSavedTab:{classic:Xn.classic,dusk:Xn.dusk,dark:Xn.dark},workspaceButton:{classic:"#7FA7E7",dusk:"#111d5e",dark:"#4d4a45"},funBarBackground:{classic:"#7FA7E7",dusk:"#111d5e",dark:"#1c170f"}};var qn=function(e){var t=Object(n.useState)(!1),l=Object(u.a)(t,2),o=l[0],i=l[1],c=Object(n.useState)(!1),s=Object(u.a)(c,2),m=s[0],d=s[1],h=Rn()(a(125)),f=Object(u.a)(h,1)[0];function p(){return r.a.createElement(la.Image,{image:f,x:e.sourceX+.6*(e.sinkX-e.sourceX)-7,y:e.sourceY+.6*(e.sinkY-e.sourceY)-7,width:14,height:14,shadowColor:m?"red":e.hoverShadowColor,shadowBlur:5,visible:o,onMouseEnter:function(){d(!0)},onMouseLeave:function(){d(!1),i(!1)},onClick:function(){return e.removeLine(e.index)}})}return r.a.createElement(la.Group,{onMouseEnter:function(e){i(!0)},onMouseLeave:function(e){i(!1)}},r.a.createElement(la.Line,{points:[e.sourceX,e.sourceY,e.sinkX,e.sinkY],pointerLength:0,pointerWidth:0,stroke:e.fill,shadowColor:m?"red":e.hoverShadowColor,shadowBlur:5,shadowEnabled:o,strokeWidth:3}),r.a.createElement(p,null))};var zn=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],o=a[1];return r.a.createElement(la.Group,{x:e.x,y:e.y,onClick:e.handleClick,onMouseOver:function(){return o(!0)},onMouseOut:function(){return o(!1)}},r.a.createElement(en.Spring,{from:{fill:e.buttonColor},to:{fill:l?"orange":e.buttonColor}},(function(e){return r.a.createElement(en.animated.Rect,Object.assign({},e,{x:5,y:0,width:$a.menuCornerWidth-2*$a.menuOffset,height:$a.menuControlHeight,shadowColor:"black",shadowEnabled:!1,cornerRadius:15}))})),r.a.createElement(la.Text,{x:0,y:$a.menuTextOffset,width:$a.menuCornerWidth-2*$a.menuOffset,height:$a.menuControlHeight,text:e.text,align:"center",fill:"white",fontFamily:$a.globalFont,fontSize:$a.menuFontSize}))},Dn=1*oa/15,Vn=ca/5,_n=3*ca/5,Kn=oa/4,Jn={topLeft:{x:Dn-oa,y:0},topRight:{x:Dn+30,y:0},point:{x:Dn,y:ca/2},bottomRight:{x:Dn-30,y:ca},bottomLeft:{x:Dn-oa,y:ca}},Zn=2*oa/15,Qn=20+Dn,$n=$a.valNames.length*(ma+5),er={topLeft:{x:Zn-oa,y:0},topRight:{x:Zn+30,y:0},point:{x:Zn,y:ca/2},bottomRight:{x:Zn-30,y:ca},bottomLeft:{x:Zn-oa,y:ca}},tr=3*oa/15,ar=20+Zn,nr=$a.funNames.length*(ua+5),rr=4*oa/15,lr={formX:5,formY:Vn,formHeight:_n,formWidth:Kn,valueTabOffsetX:Zn,valueListStartX:Qn,valueTabPoints:er,valueMargin:5,valueListLength:$n,functionTabOffsetX:tr,functionListStartX:ar,functionTabPoints:{topLeft:{x:tr-oa,y:0},topRight:{x:tr+30,y:0},point:{x:tr,y:ca/2},bottomRight:{x:tr-30,y:ca},bottomLeft:{x:tr-oa,y:ca}},functionMargin:5,functionListLength:nr,customTabOffsetX:Dn,customTabPoints:Jn,savedTabOffsetX:rr,savedTabPoints:{topLeft:{x:rr-oa,y:0},topRight:{x:rr+30,y:0},point:{x:rr,y:ca/2},bottomRight:{x:rr-30,y:ca},bottomLeft:{x:rr-oa,y:ca}}};var or=function(e){var t=Object(n.useState)(!0),a=Object(u.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(!1),c=Object(u.a)(i,2),s=c[0],m=c[1],d=Object(n.useState)(!1),h=Object(u.a)(d,2),f=h[0],p=h[1],g=Object(n.useState)(!1),E=Object(u.a)(g,2),b=E[0],y=E[1],v=Object(n.useState)(Math.random()),x=Object(u.a)(v,2),T=x[0],S=x[1],I=Object(n.useRef)(null),O=Object(n.useState)("Enter a MIST expression"),C=Object(u.a)(O,2),M=C[0],j=C[1],A=Object(n.useRef)("wsName"),F=Object(n.useRef)("wsForm"),B=Object(n.useState)(!1),N=Object(u.a)(B,2),W=N[0],L=N[1],R=Object(n.useState)({title:"STUB",body:"STUB"}),P=Object(u.a)(R,2),Y=P[0],H=P[1],G=Object(n.useState)((function(){return function(){return console.log("STUB")}})),X=Object(u.a)(G,2),U=X[0],q=X[1],z=Object(n.useState)(!1),D=Object(u.a)(z,2),V=D[0],_=D[1],K=Object(n.useState)({title:"STUB",body:"STUB"}),J=Object(u.a)(K,2),Z=J[0],Q=J[1],$=Object(n.useState)((function(){return function(){return console.log("STUB")}})),ee=Object(u.a)($,2),te=ee[0],ae=ee[1];function ne(){S(Math.random())}function re(){L((function(e){return!e}))}function ie(){_((function(e){return!e}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(tn,null,r.a.createElement(Re.a,{show:W,onHide:re,centered:!0},r.a.createElement(Re.a.Header,{closeButton:!0},r.a.createElement(Re.a.Title,null,Y.title)),r.a.createElement(Re.a.Body,null," ",Y.body),r.a.createElement(Re.a.Footer,null,r.a.createElement(k.a,{onClick:re,variant:"secondary"},"Close"),r.a.createElement(k.a,{onClick:U,variant:"primary"},"Confirm"))),r.a.createElement(Re.a,{show:V,onHide:ie},r.a.createElement(Re.a.Header,{closeButton:!0},r.a.createElement(Re.a.Title,null,Z.title)),r.a.createElement(Re.a.Body,null," ",Z.body),r.a.createElement(Re.a.Footer,null,r.a.createElement(k.a,{onClick:ie,variant:"secondary"},"Close"),r.a.createElement(k.a,{onClick:te,variant:"primary"},"Confirm")))),r.a.createElement(la.Group,{width:oa,height:da.menuHeight,key:T,ref:I},r.a.createElement(la.Rect,{width:oa,height:da.menuHeight,fill:e.bgColor,shadowColor:"black",shadowBlur:5}),[{name:"Saved",tabPoints:lr.savedTabPoints,tabOffsetX:lr.savedTabOffsetX},{name:"Functions",tabPoints:lr.functionTabPoints,tabOffsetX:lr.functionTabOffsetX},{name:"Values",tabPoints:lr.valueTabPoints,tabOffsetX:lr.valueTabOffsetX},{name:"Custom",tabPoints:lr.customTabPoints,tabOffsetX:lr.customTabOffsetX}].map((function(t,a){return r.a.createElement(la.Group,{x:f&&lr.formWidth||(l&&"Custom"!==t.name?lr.valueListLength:0)||(s&&"Custom"!==t.name&&"Values"!==t.name?lr.functionListLength:0)||(b&&"Saved"===t.name?8*oa/15:0),key:a,onMouseEnter:function(){"Custom"===t.name?(p(!0),o(!1),m(!1),y(!1)):"Values"===t.name?(o(!0),m(!1),p(!1),y(!1)):"Functions"===t.name?(m(!0),o(!1),p(!1),y(!1)):(y(!0),o(!1),m(!1),p(!1))}},r.a.createElement(la.Shape,{sceneFunc:function(e){e.beginPath(),e.moveTo(t.tabPoints.topLeft.x,t.tabPoints.topLeft.y),e.lineTo(t.tabPoints.topRight.x,t.tabPoints.topRight.y),e.lineTo(t.tabPoints.point.x,t.tabPoints.point.y),e.lineTo(t.tabPoints.bottomRight.x,t.tabPoints.bottomRight.y),e.lineTo(t.tabPoints.bottomLeft.x,t.tabPoints.bottomLeft.y),e.closePath(),e.fillStrokeShape(this)},fill:"Values"===t.name&&e.valTabColor||"Functions"===t.name&&e.funTabColor||"Custom"===t.name&&e.customTabColor||"Saved"===t.name&&e.savedTabColor,strokeWidth:0,shadowOffsetX:1,shadowOffsetY:-2,shadowBlur:5,shadowOpacity:.7}),r.a.createElement(la.Text,{text:t.name,x:t.tabOffsetX-50,y:.9*da.menuHeight,width:120,height:20,fill:"black",align:"left",verticalAlign:"middle",fontFamily:"Impact",fontSize:25,rotation:180*-Math.atan(da.menuHeight/60)/Math.PI}),"Custom"===t.name&&r.a.createElement(tn,null,r.a.createElement("form",{id:"form",style:{position:"absolute",top:e.top+lr.formY,left:f?e.left+lr.formX:-lr.formWidth+lr.formX},onSubmit:function(t){t.preventDefault(),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();try{e.createLayout(dn.a.parse(M,""))}catch(a){console.log("invalid function")}return!1}},r.a.createElement("label",null,r.a.createElement("input",{id:"input",style:{width:lr.formWidth,height:lr.formHeight},type:"text",placeholder:M,onChange:function(e){j(e.target.value)}})))),"Values"===t.name&&Array.from(new Array($a.valNames.length),(function(t,a){return function(e,t,a,n,l,o,i){return r.a.createElement(la.Group,{name:t,key:i,x:a,y:n,draggable:!0,onDragStart:function(e){e.target.setAttrs({duration:.5,shadowBlur:6,scaleX:1.1,scaleY:1.1})},onDragEnd:function(a){a.target.to({duration:.5,easing:Wn.a.Easings.ElasticEaseOut,scaleX:1,scaleY:1}),a.currentTarget.y()>da.menuHeight?(e("val",t,a.target._lastPos.x,a.target._lastPos.y),o()):o()},dragBoundFunc:function(e){return e.x<0&&(e.x=0),e.x>oa-Hn.valueWidth&&(e.x=oa-Hn.valueWidth),e.y<0&&(e.y=0),e.y>ia-da.funBarHeight-Hn.valueWidth&&(e.y=ia-da.funBarHeight-Hn.valueWidth),e}},r.a.createElement(en.Spring,{native:!0,from:{x:l?Hn.valueOffset:-300,scaleX:1,scaleY:1},to:{x:l?Hn.valueOffset:-300}},(function(e){return r.a.createElement(en.animated.Rect,Object.assign({},e,{y:0,width:Hn.valueSideLength,height:Hn.valueSideLength,fill:$a.values[t].color,cornerRadius:10,rotation:45}))})),r.a.createElement(en.Spring,{native:!0,from:{x:l?0:-300,fontSize:$a.nodeFontSize},to:{x:l?0:-300}},(function(e){return r.a.createElement(en.animated.Text,Object.assign({},e,{text:$a.values[t].rep,fontFamily:$a.globalFont,fill:"black",y:0,width:Hn.valueWidth,height:Hn.valueWidth,align:"center",verticalAlign:"middle"}))})))}(e.addNode,$a.valNames[a],-lr.valueListLength+lr.valueListStartX+a*(lr.valueMargin+ma),$a.menuYspacing-20,l,ne,a)})),"Functions"===t.name&&Array.from(new Array($a.funNames.length),(function(t,a){return function(e,t,a,n,l,o,i){return r.a.createElement(la.Group,{name:t,key:i,x:a,y:n,draggable:!0,onDragStart:function(e){e.target.setAttrs({duration:.5,shadowBlur:6,scaleX:1.1,scaleY:1.1})},onDragEnd:function(a){a.target.to({duration:.5,easing:Wn.a.Easings.ElasticEaseOut,scaleX:1,scaleY:1}),a.currentTarget.y()>da.menuHeight?(e("fun",t,a.target._lastPos.x,a.target._lastPos.y),o()):o()},dragBoundFunc:function(e){return e.x<0&&(e.x=0),e.x>oa-Hn.functionWidth&&(e.x=oa-Hn.functionWidth),e.y<0&&(e.y=0),e.y>ia-da.funBarHeight-Hn.functionWidth&&(e.y=ia-da.funBarHeight-Hn.functionWidth),e}},r.a.createElement(en.Spring,{native:!0,from:{x:l?0:-300,scaleX:1,scaleY:1},to:{x:l?0:-300}},(function(e){return r.a.createElement(en.animated.Rect,Object.assign({},e,{y:0,width:Hn.functionWidth,height:Hn.functionWidth,fill:$a.functions[t].color,cornerRadius:10}))})),r.a.createElement(en.Spring,{native:!0,from:{x:l?0:-300,fontSize:$a.nodeFontSize},to:{x:l?0:-300}},(function(e){return r.a.createElement(en.animated.Text,Object.assign({},e,{text:$a.functions[t].rep,fontFamily:$a.globalFont,fill:"white",y:0,width:Hn.functionWidth,height:Hn.functionWidth,align:"center",verticalAlign:"middle"}))})))}(e.addNode,$a.funNames[a],-lr.functionListLength+lr.functionListStartX+a*(lr.functionMargin+ua),$a.menuYspacing-20,s,ne,a)})))})),r.a.createElement(la.Group,{visible:!0},[{name:"Reset Workspace",func:e.clearWorkspace},{name:"Open Workspace",func:function(){var t=Object(oe.a)(le.a.mark((function t(){var a,n;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getWorkspaces();case 3:a=t.sent,n={},H({title:"Pick a workspace to load",body:r.a.createElement("div",null,r.a.createElement(w.a,null,r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Select a workspace to load"),r.a.createElement(w.a.Control,{as:"select",ref:F},a.map((function(e){return n[e.name]=e.data,r.a.createElement("option",{key:e.name},e.name)}))))))}),q((function(){return function(){e.loadWorkspace(n[F.current.value]),re()}})),re(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()},{name:"Save Workspace",func:function(){H({title:"Saving Workspace",body:r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Name your workspace",ref:A}))}),q((function(){return Object(oe.a)(le.a.mark((function t(){var a;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=A.current.value){t.next=4;break}throw"Please enter a valid name for your workspace";case 4:return t.next=6,e.checkIfWorkspaceExists(a);case 6:t.sent?(Q({title:"Overwriting previous workspace",body:r.a.createElement("div",null,"You are about to overwrite the workspace named ",a," Click confirm to continue")}),ae((function(){return function(){e.saveWorkspace(a)}})),ie()):e.saveWorkspace(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))})),re()}},{name:"Delete Workspace",func:function(){var t=Object(oe.a)(le.a.mark((function t(){var a,n;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getWorkspaces();case 3:a=t.sent,n={},H({title:"Pick a workspace to dekete",body:r.a.createElement("div",null,r.a.createElement(w.a,null,r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,"Select a workspace to load"),r.a.createElement(w.a.Control,{as:"select",ref:F},a.map((function(e){return n[e.name]=e.data,r.a.createElement("option",{key:e.name},e.name)}))))))}),q((function(){return function(){e.deleteWorkspace(F.current.value).then((function(e){re(),alert(e)})).catch(alert)}})),re(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()}].map((function(t,a){return r.a.createElement(zn,{key:a,text:t.name,x:0,y:(a+1)*$a.menuOffset+a*$a.menuControlHeight,handleClick:t.func,buttonColor:e.wsButtonColor})})))))};var ir=function(e){var t=e.name,l=e.x,o=e.y,i=e.index,c=$a.values[t].rep,s=Object(n.useState)($a.values[t].rep),m=Object(u.a)(s,2),d=m[0],h=m[1],f=Object(n.useState)(!1),p=Object(u.a)(f,2),g=p[0],E=p[1],b=Object(n.useState)(!1),y=Object(u.a)(b,2),v=y[0],w=y[1],x=Object(n.useState)(!1),k=Object(u.a)(x,2),T=k[0],S=k[1],I=Rn()(a(125)),O=Object(u.a)(I,1)[0],C=Object(n.useRef)(null),M=Object(n.useState)(""),j=Object(u.a)(M,2),A=j[0],F=j[1];function B(){return r.a.createElement(la.Image,{image:O,x:Hn.valueTrashX,y:Hn.valueTrashY,width:14,height:14,shadowColor:T?"red":"cyan",shadowBlur:5,visible:v,onMouseEnter:function(){S(!0)},onMouseLeave:function(){S(!1),w(!1)},onClick:function(){return e.removeNode(e.index)}})}return r.a.createElement(la.Group,{x:l,y:o,ref:C,draggable:!0,dragBoundFunc:function(e){return e.x<0&&(e.x=0),e.x>oa-Hn.valueWidth&&(e.x=oa-Hn.valueWidth),e.y<ca&&(e.y=ca),e.y>ia-sa-Hn.valueWidth&&(e.y=ia-sa-Hn.valueWidth),e},onDragStart:function(e){e.target.setAttrs({shadowOffset:{x:15,y:15},scaleX:1.1,scaleY:1.1})},onDragEnd:function(t){t.target.to({duration:.5,easing:Wn.a.Easings.ElasticEaseOut,scaleX:1,scaleY:1,shadowOffsetX:5,shadowOffsetY:5}),e.updateNodePosition(i,t.currentTarget.x(),t.currentTarget.y())},onDragMove:function(t){e.updateLinePosition(i,"val",t.currentTarget.x(),t.currentTarget.y())},onClick:function(t){e.clickHandler(i)},onDblClick:function(t){e.dblClickHandler(i)}},r.a.createElement(la.Group,{onMouseEnter:function(e){C.current.children.map((function(e,t){return e.to({duration:.5,easing:Wn.a.Easings.ElasticEaseOut,scaleX:1.07,scaleY:1.07}),0})),w(!0)},onMouseLeave:function(e){w(!1),C.current.children.map((function(e,t){return e.to({duration:.5,easing:Wn.a.Easings.ElasticEaseOut,scaleX:1,scaleY:1}),0}))}},r.a.createElement(la.Rect,{x:Hn.valueOffset,y:0,width:Hn.valueSideLength,height:Hn.valueSideLength,fill:$a.values[t].color,cornerRadius:10,lineJoin:"round",rotation:45,stroke:$a.values[t].color,strokeWidth:Hn.functionStrokeWidth,shadowColor:"gray",shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,_useStrictMode:!0}),"#"===c?r.a.createElement(tn,null,r.a.createElement("form",{id:"form#",style:{position:"absolute",left:l+e.offsetX+20,top:o+e.offsetY+10},onSubmit:function(t){return t.preventDefault(),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),null!==parseFloat(A)?(h(A),e.updateHashValue(i,A)):console.log("Invalid Number"),!1}},r.a.createElement("label",null,r.a.createElement("input",{type:"text",placeholder:"#",style:{width:.45*Hn.valueWidth,height:.45*Hn.valueWidth,backgroundColor:"#D8AB24",border:"none"},onChange:function(e){F(e.target.value)}}))),r.a.createElement("div",null)):r.a.createElement(la.Text,{text:d,fontFamily:$a.globalFont,fill:"black",fontSize:$a.nodeFontSize,x:0,y:0,width:Hn.valueWidth,height:Hn.valueWidth,align:"center",verticalAlign:"middle",_useStrictMode:!0}),r.a.createElement(B,null)),g?r.a.createElement(tn,null,r.a.createElement(En,{onClick:function(){return E(!g)},x:l+Hn.valueImageBoxOffset+e.offsetX,y:o+Hn.valueImageBoxOffset+e.offsetY,width:Hn.renderSideLength,height:Hn.renderSideLength,renderFunction:d,automated:!1})):r.a.createElement(la.Rect,{onClick:function(){return E(!g)},name:"imageBox",x:Hn.valueImageBoxOffset,y:Hn.valueImageBoxOffset,width:Hn.imageBoxSideLength,height:Hn.imageBoxSideLength,fill:$a.imageBoxColor,expanded:!1,shadowColor:"gray",shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1}))},cr=function(e){Object(me.a)(a,e);var t=Object(de.a)(a);function a(e){var n;Object(se.a)(this,a),(n=t.call(this,e)).createLayout=function(e){var t=Object(ie.a)(n.state.nodes),a=Object(ie.a)(n.state.lines),r=[],l=t.length;if("MIST.App"===e.class){var o=$a.repToFun[e.operation],i=Math.random()*(.8*oa),c=$a.menuHeight+Math.random()*(ia-ca-2*sa),s={name:o,type:"fun",x:i,y:c,renderFunction:{renderFunction:"",isRenderable:!1},lineOut:[],numInputs:0,numOutlets:$a.functions[$a.repToFun[e.operation]].min,activeOutlets:Array($a.functions[$a.repToFun[e.operation]].min).fill(!1),parentNodes:[]};console.log("pushed operation "+s.name),function e(n,l,o,i){if($a.functions[t[n].name].color===$a.functionMultColor){if(l.length<$a.functions[t[n].name].min||l.length>$a.functions[t[n].name].max)return Error(t[n].name+" must contain between "+$a.functions[t[n].name].min+" and "+$a.functions[t[n].name].max+" parameters")}else if(l.length!==$a.functions[t[n].name].min)return Error(this.state.nodes[n].name+" must contain "+$a.functions[this.state.nodes[n].name].min+" parameters");for(var c=0;c<l.length;c++){var s=t.length,u=a.length;if("MIST.App"===l[c].class){var m=o-50,d=ca+Math.random()*(ia-ca-2*sa),h={name:$a.repToFun[l[c].operation],type:"fun",x:m,y:d,renderFunction:{renderFunction:"",isRenderable:!1},lineOut:[],numInputs:0,numOutlets:$a.functions[$a.repToFun[l[c].operation]].min,activeOutlets:Array($a.functions[$a.repToFun[l[c].operation]].min).fill(!1),parentNodes:[]};e(s,l[c].operands,m,d),t.push(h),a.push({sourceIndex:s,sinkIndex:n,headPosition:{x:h.x+ua/2,y:h.y+ua/2},tailPosition:{x:t[n].x-2*Hn.outletXOffset,y:t[n].y+Hn.outletStartY+c*Hn.outletYOffset},outletIndex:c}),t[s].lineOut.push(u),t[n].numInputs+=1,t[n].numInputs>=t[n].numOutlets&&$a.functions[t[n].name].color===$a.functionMultColor&&(t[n].numOutlets+=1,t[n].activeOutlets.push(!1)),t[n].activeOutlets[c]=u}else{if(void 0===$a.values[l[c].name])return Error();var f={name:l[c].name,type:"val",x:Math.random()*(.8*oa),y:ca+Math.random()*(ia-ca-2*sa),renderFunction:{renderFunction:l[c].code,isRenderable:!0},lineOut:[],numInputs:null,numOutlets:null,activeOutlets:null,parentNodes:null};t.push(f),a.push({sourceIndex:s,sinkIndex:n,headPosition:{x:f.x+ua/2,y:f.y+ua/2},tailPosition:{x:t[n].x-2*Hn.outletXOffset,y:t[n].y+Hn.outletStartY+c*Hn.outletYOffset},outletIndex:c}),t[s].lineOut.push(u),t[n].numInputs+=1,t[n].numInputs>=t[n].numOutlets&&$a.functions[t[n].name].color===$a.functionMultColor&&(t[n].numOutlets+=1,t[n].activeOutlets.push(!1)),t[n].activeOutlets[c]=u}r.push(n)}}(l,e.operands,i),t.push(s)}else{if(void 0===$a.values[e.name])return Error();var u={name:e.name,type:"val",x:Math.random()*(.8*oa),y:ca+Math.random()*(ia-ca-2*sa),renderFunction:{renderFunction:e.code,isRenderable:!0},lineOut:[],numInputs:null,numOutlets:null,activeOutlets:null,parentNodes:null};t.push(u)}n.setState((function(e,n){return{nodes:t,lines:a,redoFromIndices:r}}))},n.pushNode=function(e,t,a,r){var l={};switch(e){case"fun":l={renderFunction:"",isRenderable:!1};break;case"val":l={renderFunction:$a.values[t].rep,isRenderable:!0};break;default:Error("Error: neither a function or a value node.")}var o={name:t,type:e,x:a,y:r,renderFunction:l,lineOut:[],numInputs:0,numOutlets:"fun"===e?$a.functions[t].min:0,activeOutlets:"fun"===e?Array($a.functions[t].min).fill(!1):null,parentNodes:[]};n.setState((function(e,t){return{nodes:[].concat(Object(ie.a)(e.nodes),[o])}}))},n.pushLine=function(e,t,a){if(!n.state.nodes[e].parentNodes.includes(t)){var r=Object(ie.a)(n.state.lines),l=r.length;r.push({sourceIndex:e,sinkIndex:t,headPosition:{x:n.state.nodes[e].x+ua/2,y:n.state.nodes[e].y+ua/2},tailPosition:{x:n.state.nodes[t].x-2*Hn.outletXOffset,y:n.state.nodes[t].y+Hn.outletStartY+a*Hn.outletYOffset},outletIndex:a});var o=Object(ie.a)(n.state.nodes);o[e].lineOut.push(l),o[t].numInputs+=1,o[t].numInputs>=o[t].numOutlets&&$a.functions[o[t].name].color===$a.functionMultColor&&(o[t].numOutlets+=1,o[t].activeOutlets.push(!1)),o[t].activeOutlets[a]=l,n.setState({nodes:o,lines:r,redoFromIndices:[t]})}},n.updateNodePosition=function(e,t,a){var r=Object(ie.a)(n.state.nodes);r[e].x=t,r[e].y=a,n.setState({nodes:r})},n.updateLinePosition=function(e,t,a,r){if(console.log("updateLinePosition "+n.state.nodes[e].numInputs+" "+n.state.nodes[e].lineOut.length),n.state.nodes[e].numInputs>0||n.state.nodes[e].lineOut.length>0){for(var l=Object(ie.a)(n.state.lines),o=0;o<n.state.nodes[e].numOutlets;o++)if("number"===typeof n.state.nodes[e].activeOutlets[o]){var i=n.state.nodes[e].activeOutlets[o],c=l[i];l[i].tailPosition={x:a-2*Hn.outletXOffset,y:r+Hn.outletStartY+c.outletIndex*Hn.outletYOffset}}for(var s=0;s<n.state.nodes[e].lineOut.length;s++){if("number"===typeof n.state.nodes[e].lineOut[s])l[n.state.nodes[e].lineOut[s]].headPosition={x:a+ua/2,y:r+ua/2}}n.setState({lines:l})}},n.removeNode=function(e){var t=Object(ie.a)(n.state.nodes),a=Object(ie.a)(n.state.lines),r=n.state.nodes[e];if("fun"===r.type)for(var l=0;l<r.activeOutlets.length;l++){var o=r.activeOutlets[l];if("number"===typeof o){var i=t[a[o].sourceIndex];t[a[o].sourceIndex].lineOut[i.lineOut.indexOf(o)]=!1,a[o]=!1}}for(var c=[],s=0;s<r.lineOut.length;s++){var u=r.lineOut[s];if("number"===typeof u){var m=a[u].sinkIndex,d=a[u].outletIndex;t[m].activeOutlets[d]=!1,t[m].numInputs-=1;for(var h=t[m].numOutlets-1;h>=$a.functions[t[m].name].min&&!t[m].activeOutlets[h];)console.log("j:"+h),t[m].activeOutlets.pop(),t[m].numOutlets--,h--;c.push(m),a[u]=!1}}t[e]=!1,n.setState({nodes:t,lines:a,redoFromIndices:c})},n.removeLine=function(e){var t=n.state.lines[e].sourceIndex,a=n.state.lines[e].sinkIndex,r=n.state.lines[e].outletIndex,l=Object(ie.a)(n.state.nodes);l[t].lineOut[l[t].lineOut.indexOf(e)]=!1,l[a].activeOutlets[r]=!1,l[a].numInputs-=1;for(var o=l[a].numOutlets-1;o>=$a.functions[l[a].name].min&&!l[a].activeOutlets[o]&&l[a].numInputs+1<l[a].numOutlets;)console.log("j:"+o),l[a].activeOutlets.pop(),l[a].numOutlets--,o--;var i=Object(ie.a)(n.state.lines);i[e]=!1,n.setState({nodes:l,lines:i,redoFromIndices:[a]})},n.updateHashValue=function(e,t){n.state.nodes[e].renderFunction.renderFunction=t;for(var a=[],r=0;r<n.state.nodes[e].lineOut.length;r++)a.push(n.state.lines[n.state.nodes[e].lineOut[r]].sinkIndex);n.setState({redoFromIndices:a})},n.renderFunctionRedo=function(e){console.log("renderFunctionRedo");for(var t=Object(ie.a)(n.state.nodes),a=t[e],r="",l=!0,o=0,i=[],c=0;c<a.activeOutlets.length;c++){var s=a.activeOutlets[c];if("number"===typeof s){o++;var u=n.state.lines[s].sourceIndex,m=n.state.nodes[u];"fun"===m.type&&(i.push(u),i.push.apply(i,Object(ie.a)(m.parentNodes))),r+=m.renderFunction.renderFunction,r+=",",m.renderFunction.isRenderable||(l=!1)}}for(var d=0;d<Math.max(0,$a.functions[a.name].min-o);d++)r+="__,",l=!1;""!==r&&(r=r.substring(0,r.length-1),r=$a.functions[a.name].prefix+"("+r+")"),t[e].renderFunction={renderFunction:r,isRenderable:l},t[e].parentNodes=i,n.setState({nodes:t});for(var h=0;h<a.lineOut.length;h++){var f=a.lineOut[h];"number"===typeof f&&n.renderFunctionRedo(n.state.lines[f].sinkIndex)}},n.findRenderFunction=function(e){var t=n.state.nodes[e];if("val"===t.type)return t.renderFunction;for(var a="",r=t.renderFunction.isRenderable,l=0,o=0;o<t.activeOutlets.length;o++){var i=t.activeOutlets[o];"number"===typeof i&&(l++,a+=n.findRenderFunction(n.state.lines[i].sourceIndex).renderFunction,a+=",")}for(var c=0;c<Math.max(0,$a.functions[t.name].min-l);c++)a+="__,",r=!1;""!==a&&(a=a.substring(0,a.length-1)),"fun"===t.type&&""!==a&&(a=$a.functions[t.name].prefix+"("+a+")");var s=Object(ie.a)(n.state.nodes);return s[e].renderFunction={renderFunction:a,isRenderable:r},n.setState({nodes:s}),console.log("node index:"+e+" rf:"+a+" isRenderable: "+r),{renderFunction:a,isRenderable:r}},n.clearWorkspace=function(){n.setState({nodes:[],lines:[]})},n._saveWorkspace=function(e){var t={name:e,data:Object(h.a)({},n.state)};fetch("api/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"savews",workspace:t})}).then((function(e){return e.json()})).then((function(t){if(!t.success)throw t.message;alert("Succesfully saved workspace "+e)})).catch((function(e){alert(e)}))},n.checkIfWorkspaceExists=function(){var e=Object(oe.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/?action=wsexists&name="+t);case 2:if((a=e.sent).ok){e.next=7;break}throw new Error("HTTP error! status: ".concat(a.status));case 7:return e.next=9,a.json().then((function(e){if("logged out"===e)throw new Error("You needed to be logged in!");if(e.success)return e.exists;throw new Error(e.message)}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getWorkspaces=Object(oe.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/?action=getws");case 2:if((t=e.sent).ok){e.next=7;break}throw new Error("HTTP error! status: ".concat(t.status));case 7:return e.next=9,t.json().then((function(e){if("logged out"===e)throw new Error("You needed to be logged in!");if(e.success)return e.workspaces;throw new Error(e.message)}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),n.deleteWorkspace=function(){var e=Object(oe.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"deletews",name:t})});case 2:if((a=e.sent).ok){e.next=7;break}throw new Error("HTTP error! status: ".concat(a.status));case 7:return e.next=9,a.json().then((function(e){if("logged out"===e)throw new Error("You needed to be logged in!");if(e.success)return"Successfully deleted workspace";throw new Error(e.message)}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadWorkspace=function(e){n.setState(Object(h.a)({},e))},n.updateMousePosition=function(e,t){console.log("updateMousePosition"),n.setState({mousePosition:{x:e,y:t}})},n.funClicked=function(e){n.setState({currentNode:e})},n.valClicked=function(e){n.setState({currentNode:e})},n.outletClicked=function(e,t){null!==n.state.newSource&&n.state.newSource!==e&&!1===n.state.nodes[e].activeOutlets[t]&&n.state.nodes[e].numInputs<$a.functions[n.state.nodes[e].name].max&&n.pushLine(n.state.newSource,e,t)},n.bgClicked=function(e){n.setState({newSource:null,tempLine:null,mouseListenerOn:!1})},n.dblClicked=function(e){n.state.tempLine||"rgb"===n.state.nodes[e].name||n.setState({newSource:e,mouseListenerOn:!0,mousePosition:{x:n.state.nodes[e].x+$a.functionRectSideLength/2,y:n.state.nodes[e].y+$a.functionRectSideLength/2},tempLine:{sourceX:n.state.nodes[e].x,sourceY:n.state.nodes[e].y}})};var r=new dn.a.Layout;return n.themes=["classic","dusk","dark"],n.offsetY=72,n.offsetX=0,n.footer=85,n.state={nodes:[],lines:[],redoFromIndices:[],newSource:null,mouseListenerOn:!1,mousePosition:{x:null,y:null},tempLine:null,currentNode:null,layouts:[r],themeIndex:1,theme:"dusk",pos1:{x:100,y:200},pos2:{x:0,y:100}},n.updateLinePosition=n.updateLinePosition.bind(Object(ra.a)(n)),n}return Object(ue.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){if(t.nodes!==this.state.nodes&&console.log("nodes changed"),t.lines!==this.state.lines&&console.log("lines changed"),t.redoFromIndices!==this.state.redoFromIndices)for(var a=0;a<this.state.redoFromIndices.length;a++)this.findRenderFunction(this.state.redoFromIndices[a]),this.renderFunctionRedo(this.state.redoFromIndices[a])}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"workspace",style:{width:oa,height:ia+this.footer,backgroundColor:Un.workspaceBackground[this.state.theme]}},r.a.createElement("div",{onClick:function(){return e.deleteWorkspaces("a").then(alert).catch(alert)}},"Delete ws"),r.a.createElement(la.Stage,{width:oa,height:ia,onClick:function(){e.setState({newSource:null,tempLine:null,mouseListenerOn:!1})},onMouseMove:function(t){e.state.mouseListenerOn&&e.updateMousePosition(t.evt.clientX-document.getElementById("workspace").getBoundingClientRect().x,t.evt.clientY-document.getElementById("workspace").getBoundingClientRect().y)}},r.a.createElement(la.Layer,null,this.state.tempLine&&r.a.createElement(qn,{sourceX:this.state.tempLine.sourceX+ua/2,sourceY:this.state.tempLine.sourceY+ua/2,sinkX:this.state.mousePosition.x,sinkY:this.state.mousePosition.y,fill:Un.lineFill[this.state.theme]})),r.a.createElement(la.Layer,null,0!==this.state.nodes.length&&this.state.lines.map((function(t,a){return t&&r.a.createElement(qn,{index:a,key:a,sourceX:t.headPosition.x,sourceY:t.headPosition.y,sinkX:t.tailPosition.x,sinkY:t.tailPosition.y,removeLine:e.removeLine.bind(e),fill:Un.lineFill[e.state.theme],hoverShadowColor:Un.nodeHoverShadow[e.state.theme]})}))),r.a.createElement(la.Layer,null,this.state.nodes.map((function(t,a){return t&&"fun"===t.type&&r.a.createElement(Gn,{name:t.name,key:a,index:a,x:t.x,y:t.y,offsetX:e.offsetX,offsetY:e.offsetY,numInputs:t.numInputs,numOutlets:t.numOutlets,renderFunction:!!t.renderFunction.isRenderable&&t.renderFunction.renderFunction,updateNodePosition:e.updateNodePosition.bind(e),updateLinePosition:e.updateLinePosition.bind(e),funClicked:e.funClicked.bind(e),outletClicked:e.outletClicked.bind(e),dblClickHandler:e.dblClicked.bind(e),removeNode:e.removeNode.bind(e),hoverShadowColor:Un.nodeHoverShadow[e.state.theme]})||t&&"val"===t.type&&r.a.createElement(ir,{name:t.name,key:a,index:a,x:t.x,y:t.y,offsetX:e.offsetX,offsetY:e.offsetY,renderFunction:!!t.renderFunction.isRenderable&&t.renderFunction.renderFunction,updateNodePosition:e.updateNodePosition.bind(e),updateLinePosition:e.updateLinePosition.bind(e),clickHandler:e.valClicked.bind(e),dblClickHandler:e.dblClicked.bind(e),removeNode:e.removeNode.bind(e),updateHashValue:e.updateHashValue.bind(e)})}))),r.a.createElement(la.Layer,null,r.a.createElement(or,{addNode:this.pushNode.bind(this),addLine:this.pushLine.bind(this),clearWorkspace:this.clearWorkspace.bind(this),createLayout:this.createLayout.bind(this),bgColor:Un.menuBackground[this.state.theme],wsButtonColor:Un.workspaceButton[this.state.theme],valueMenuColor:"classic"===this.state.theme&&Un.valueMenuColor1||"dusk"===this.state.theme&&Un.valueMenuColor2||"dark"===this.state.theme&&Un.valueMenuColor3,funTabColor:Un.menuFunTab[this.state.theme],valTabColor:Un.menuValTab[this.state.theme],customTabColor:Un.menuCustomTab[this.state.theme],savedTabColor:Un.menuSavedTab[this.state.theme],top:this.offsetY,left:this.offsetX,checkIfWorkspaceExists:this.checkIfWorkspaceExists.bind(this),deleteWorkspace:this.deleteWorkspace.bind(this),getWorkspaces:this.getWorkspaces.bind(this),loadWorkspace:this.loadWorkspace.bind(this),saveWorkspace:this._saveWorkspace.bind(this)})),r.a.createElement(la.Layer,null,r.a.createElement(Bn,{renderFunction:null!==this.state.currentNode&&this.state.nodes[this.state.currentNode]?this.state.nodes[this.state.currentNode].renderFunction:{renderFunction:"",isRenderable:!1},bg:Un.funBarBackground[this.state.theme],onClick:function(){var t=(e.state.themeIndex+1)%e.themes.length;e.setState({themeIndex:t,theme:e.themes[t]})},functionBoxBg:"dark"===this.state.theme?"darkgray":"white",functionTextColor:(this.state.theme,"black"),top:this.offsetY,left:this.offsetX}),r.a.createElement(la.Text,{x:10,y:130,width:200,height:50,text:"CHANGE THEME",fill:"dark"===this.state.theme?"white":"black",fontSize:14,onClick:function(){var t=(e.state.themeIndex+1)%e.themes.length;e.setState({themeIndex:t,theme:e.themes[t]})}}))))}}]),a}(n.Component),sr=a(160),ur=a.n(sr),mr=a(161),dr=a.n(mr),hr=a(162),fr=a.n(hr),pr=a(131),gr=a.n(pr);function Er(){return r.a.createElement(V.a,null,r.a.createElement(V.a.Header,{style:{marginTop:"2vh"}},r.a.createElement("h3",{style:{fontSize:"170%"}},"Table of Contents")),r.a.createElement(Kt.a,null,Cr.map((function(e,t){return r.a.createElement(V.a,null,r.a.createElement(V.a.Header,null,r.a.createElement(Kt.a.Toggle,{as:k.a,variant:"link",eventKey:t+1,style:{color:"black"}},e.title)),r.a.createElement(Kt.a.Collapse,{eventKey:t+1},r.a.createElement(V.a.Body,null,r.a.createElement(T.a,{className:"flex-column"},e.subsections.map((function(e){return r.a.createElement(k.a,{offset:"10",href:"#"+e.id,style:{color:"black",background:"none",border:"none",textAlign:"left"}},e.title)}))))))}))))}function br(){return r.a.createElement(s.a,{style:{margin:"2vh"}},Cr.map((function(e,t){return r.a.createElement("div",null,e.subsections.map((function(e,t){return r.a.createElement("section",{id:e.id},r.a.createElement(s.a,null,r.a.createElement(aa.a,{fluid:!0,style:{borderRadius:"20px",border:"solid",borderWidth:"1px",borderColor:"gray"}},r.a.createElement(s.a,null,r.a.createElement(D.a,null,r.a.createElement(_.a,{sm:"8"},r.a.createElement("h1",{style:{textAlign:"left"}},e.title," ",r.a.createElement(i.b,{to:"#"+e.id,style:{color:"gray"}},"#")),r.a.createElement("hr",null),r.a.createElement(D.a,{style:{marginLeft:"1vh"}},e.keywords.map((function(e){return r.a.createElement("p1",{style:{margin:"1vh"}}," ",e," \u25cf")}))),r.a.createElement(D.a,{style:{marginLeft:"1em",paddingTop:"2vh"}},r.a.createElement(yr,{id:e.id,type:"text"}),r.a.createElement(yr,{id:e.id,type:"video"}),r.a.createElement(yr,{id:e.id,type:"final"}),r.a.createElement(yr,{id:e.id,type:"challenges"}))),r.a.createElement(_.a,{style:{justifyContent:"center"}},r.a.createElement(D.a,{style:{justifyContent:"center"}},e.image),r.a.createElement(D.a,{style:{justifyContent:"center"}},e.isAnimated?r.a.createElement("p",null,r.a.createElement(Ae.a,{size:15,style:{margin:"1vh"}}),"Hover over for animation!"):""))))),r.a.createElement(vr,{text:e.text,id:e.id}),r.a.createElement(wr,{video:e.video,id:e.id}),r.a.createElement(xr,{final:e.final,id:e.id}),e.isChallenge?r.a.createElement(kr,{challenges:e.challenges,id:e.id}):""))})))})))}function yr(e){return r.a.createElement(k.a,{variant:"outline-dark",style:{marginRight:"1em"},href:"#"+e.id+"-"+e.type},e.type)}function vr(e){return r.a.createElement(V.a,{id:e.id+"-text",style:{borderRadius:"15px",backgroundColor:"white",borderWidth:"1px",margin:"1vh"}},r.a.createElement(V.a.Body,null,r.a.createElement(D.a,null,r.a.createElement(_.a,{xs:"11"},r.a.createElement(s.a,null," Text "),e.text),r.a.createElement(_.a,{xs:"1"},r.a.createElement(Ir,{id:e.id})))))}function wr(e){return r.a.createElement(V.a,{id:e.id+"-video",style:{borderRadius:"15px",backgroundColor:"white",borderWidth:"1px",margin:"1vh"}},r.a.createElement(V.a.Body,null,r.a.createElement(D.a,null,r.a.createElement(_.a,{xs:"11"},r.a.createElement(s.a,null,"Video "),e.video),r.a.createElement(_.a,{xs:"1"},r.a.createElement(Ir,{id:e.id})))))}function xr(e){return r.a.createElement(V.a,{id:e.id+"-final",style:{borderRadius:"15px",backgroundColor:"white",borderWidth:"1px",margin:"1vh"}},r.a.createElement(V.a.Body,null,r.a.createElement(D.a,null,r.a.createElement(_.a,{xs:"11"},r.a.createElement(s.a,null," Final "),e.final),r.a.createElement(_.a,{xs:"1"},r.a.createElement(Ir,{id:e.id})))))}function kr(e){return r.a.createElement(V.a,{id:e.id+"-challenges",style:{borderRadius:"15px",backgroundColor:"white",borderWidth:"1px",margin:"1vh"}},r.a.createElement(V.a.Body,null,r.a.createElement(D.a,null,r.a.createElement(_.a,{xs:"11"},r.a.createElement(s.a,null,"Challenges"),r.a.createElement(s.a,null,e.challenges.map((function(e){return r.a.createElement(Tr,{question:e.question,hint:e.hint})})))),r.a.createElement(_.a,{xs:"1"},r.a.createElement(Ir,{id:e.id})))))}function Tr(e){var t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],l=a[1];return r.a.createElement(s.a,null,e.question,r.a.createElement(T.a.Link,{onClick:function(){return l(!0)}},r.a.createElement(Ae.e,null)),r.a.createElement(Sr,{show:n,onHide:function(){return l(!1)},hint:e.hint}))}function Sr(e){return r.a.createElement(Re.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(Re.a.Header,{closeButton:!0},r.a.createElement(Re.a.Title,{id:"contained-modal-title-vcenter"},"Hint")),r.a.createElement(Re.a.Body,null,e.hint),r.a.createElement(Re.a.Footer,null,r.a.createElement(k.a,{onClick:e.onHide},"Close")))}function Ir(e){return r.a.createElement(Me.a,{variant:"secondary-outline",id:"dropdown-item-button",title:r.a.createElement(na.a,null),sticky:"top",style:{position:"sticky",top:"2rem"}},r.a.createElement(_.a,null,r.a.createElement(Or,{id:e.id,type:"text"}),r.a.createElement(Or,{id:e.id,type:"video"}),r.a.createElement(Or,{id:e.id,type:"final"}),r.a.createElement(Or,{id:e.id,type:"challenges"})))}function Or(e){return r.a.createElement(je.a.Item,{style:{marginRight:"1em",color:"black",background:"none",border:"none"},href:"#"+e.id+"-"+e.type,variant:"secondary"},e.type)}var Cr=[{title:"Getting Started",subsections:[{title:"Introduction to MIST",id:"intro-to-mist",keywords:["introduction","MIST","general"],image:r.a.createElement(J,{code:"x",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"Welcome to MIST, the Mathematical Image Synthesis Toolkit!",r.a.createElement("br",null),"In this video we will go over the basic ideas of MIST!",r.a.createElement("br",null),"After this, you will have a better understanding of how variables and functions are getting translated to the cool images that you can create with MIST.",r.a.createElement("br",null),"All images in MIST are drawn on a square canvas.",r.a.createElement("br",null),"We have an x and a y axis, just like in math class!",r.a.createElement("br",null),"X values range from -1 at the left to 1 at the right. Y values range from -1 at the top to 1 at the bottom (This is different from what you have experienced in math class!).",r.a.createElement("br",null),"Numbers also represent colors. Since we're working in the range -1 to 1, we must assign a meaning to each number. We'll start with greyscale images. In greyscale, the value 1 represents the color black (or lots of ink). Conversely, -1 is white.",r.a.createElement("br",null),"And anything between -1 and 1 is grey.",r.a.createElement("br",null),"Here's an image in which each color depends on the x coordinate.",r.a.createElement("br",null),"We would write this as x.",r.a.createElement("br",null),"We can apply mathematical operations, too. Here's what happens when we multiply x times y. (Don't worry about how we're writing it; you'll use a graphical user interface to build images.) You've learned the basics of the MIST world. It's time to start making your own images."),video:r.a.createElement(s.a,null,"This is a video "),final:r.a.createElement(s.a,null," This is the final imaget "),isChallenge:!1,challenges:[]},{title:"The Workspace",id:"workspace",keywords:["graph","grayscale","general"],image:r.a.createElement(J,{code:"x",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"Welcome to the workspace! This is where you will be making all of your lovely images from mathematical equations.",r.a.createElement("br",null),"Here, you are able to choose from a variety of values and functions that allow the images to be made and are connected through lines.",r.a.createElement("br",null),"Each image has a range of -1 to 1, where -1 represents white and 1 represents black; everything in between is gray until the rbg function is used. X- values range from -1 on the left and 1 on the right, while y-values range from -1 at the top to 1 at the bottom."),video:r.a.createElement(s.a,null,"This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!1,challenges:[]},{title:"The Website",ref:"#website",id:"website",keywords:["graph","grayscale","introduction"],image:r.a.createElement(J,{code:"x",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"Welcome to a tour of the MIST website!",r.a.createElement("br",null),"To start off, this is the home page. There are many different routes you can take here, from looking at other peoples' images to creating your own. Let's begin with the create page, which you can get to by clicking \"create\" on the top left of the page on the menu bar.",r.a.createElement("br",null),r.a.createElement(cr,null),"On the create page, you can make your own images using the workspace on it.",r.a.createElement("br",null),'Next is the challenges page, which can also be found by clicking the button beside "create." Here, you can click on a challenge, which is an image that you try to recreate!',r.a.createElement("br",null),"After this, we're going to go to the tutorial page, which is the page that we're currently on if you're reading this!",r.a.createElement("br",null),"Next up is the gallery. With the gallery, you can see what other people have created. Here, you can click on images to learn more about it. You can see who created the image, how many favorites it has, you can save or share, or view or add a comment!",r.a.createElement("br",null),"After this, we can look at the About MIST and development page. This explain what MIST is about!",r.a.createElement("br",null),"We can also go to the community guidelines page. This explains the guidelines for using MIST and being a respectful of other peoples",r.a.createElement("br",null),'Next we can go to the FAQ, which is still under the "About" tab.',r.a.createElement("br",null),'Use the "Sign In/Up" tab to login or sign up for MIST!',r.a.createElement("br",null),"You can use the search bar in the top right corner to look up users, images, and albums!"),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!1,challenges:[]},{title:"The Expert UI",id:"expert-ui",keywords:["graph","grayscale","axis"],image:r.a.createElement(J,{code:"x",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"This section is about the Expert UI!"),video:r.a.createElement(s.a,null,"This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null," This is a Challenge 1 "),hint:r.a.createElement(s.a,null,"This is a hint 1 ")},{question:r.a.createElement(s.a,null," This is a Challenge 2 "),hint:r.a.createElement(s.a,null," This is a hint 2")}]}]},{title:"Variables",subsections:[{title:"X, Y, and Constants",id:"x-y-constants",keywords:["introduction","grayscale","MIST"],image:r.a.createElement(J,{code:"x",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,r.a.createElement("b",null,"X"),", ",r.a.createElement("b",null,"Y")," and ",r.a.createElement("b",null,"constants")," are values in MIST that are inputted into functions or even used on their own.",r.a.createElement("br",null),"The ",r.a.createElement("b",null,"X")," variable ranges from -1 to 1 based on the x-values. This means that from left to right, the colors of this block change white to black. This is because x-values change horizontally.",r.a.createElement("br",null),"The ",r.a.createElement("b",null,"Y")," variable ranges from -1 to 1 based on the y-values. Remember that for ",r.a.createElement("b",null,"Y"),", -1 starts at the top and 1 is at the bottom. Therefore, white is at the top and slowly turns black, which comes from y-values changing hoizontally.",r.a.createElement("br",null),"A constant is a value that doesn't change, hence the name constant. For example, if we had the value ",r.a.createElement("b",null,"2"),", it would always remain as ",r.a.createElement("b",null,"2"),"."),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!1,challenges:[]},{title:"Time and Animations",id:"time-animations",keywords:["animation","grayscale","time"],image:r.a.createElement(J,{code:"mult(x,t.s,2)",resolution:"250"}),isAnimated:!0,text:r.a.createElement(s.a,null,"In order to get an animation, you'll have to connect a time variable to your workspace! This includes the blocks ",r.a.createElement("b",null,"t.s"),", ",r.a.createElement("b",null,"t.m"),","," ",r.a.createElement("b",null,"t.h"),", ",r.a.createElement("b",null,"t.d"),". These are divided by increasing times, with s standing for seconds, m for minutes, h for hours, and d for days.",r.a.createElement("br",null),"Adding time causes the image to become an animation. This is because time passes, it changes the input and therefore changes the image.",r.a.createElement("br",null),"Time and animations can be manipulated. You can add them, multiply them, or change them with other functions and this speeds up or slows down the animation.",r.a.createElement("br",null),"To show an example of this:",r.a.createElement("br",null),"1. Add an ",r.a.createElement("b",null,"x")," and ",r.a.createElement("b",null,"t.s")," variable to the workspace.",r.a.createElement("br",null),"2. Drag in a ",r.a.createElement("b",null,"mult")," block and connect the ",r.a.createElement("b",null,"x")," and"," ",r.a.createElement("b",null,"t.s")," to it. Now you can see time changes what was once a a simple ",r.a.createElement("b",null,"x")," image.",r.a.createElement("br",null),"3. To change the speed of the animation, bring in a ",r.a.createElement("b",null,"constant")," ","variable and set it equal to 2. Connect this to the ",r.a.createElement("b",null,"mult")," ","block that is already there and see how the speed changes. It should move much quicker now!"),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"mult(x,y,t.s)",resolution:"250"})),hint:r.a.createElement(s.a,null," ","What happens when some variables get multipled?"," ")},{question:r.a.createElement(s.a,null," This is a Challenge 2 "),hint:r.a.createElement(s.a,null," This is a hint 2")}]},{title:"Moving with the Mouse",id:"moving-with-mouse",keywords:["animation","grayscale","mouse"],image:r.a.createElement(J,{code:"wsum(x,y,m.x,m.y)",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"Moving with the mouse means that you can change what the image looks like just by moving your mouse around on the image. In order to do this, the ",r.a.createElement("b",null,"m.x")," block, ",r.a.createElement("b",null,"m.y")," block, or both must be used.",r.a.createElement("br",null),"The ",r.a.createElement("b",null,"m.x")," block changes the colors along the x-values. You can try it yourself by opening the preview for ",r.a.createElement("b",null,"m.x")," and moving your mouse from side to side over it!",r.a.createElement("br",null),"The ",r.a.createElement("b",null,"m.y")," block changes the shades from white to black across the y-values. This is because the y-values refer to the vertical values in math!",r.a.createElement("br",null),"To try it yourself:",r.a.createElement("br",null),"1. Bring a ",r.a.createElement("b",null,"x"),", ",r.a.createElement("b",null,"y"),",",r.a.createElement("b",null,"m.x")," and ",r.a.createElement("b",null,"m.y")," variable into the workspace.",r.a.createElement("br",null),"2. Then add a ",r.a.createElement("b",null,"wsum")," in and connect all 4 variables to it. You should have a simple animation that moves when you hover over it!"),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"mult(y,sum(x,m.x))",resolution:"250"})),hint:r.a.createElement(s.a,null," ","Try using ",r.a.createElement("b",null,"wsum")," instead of ",r.a.createElement("b",null,"sum"))},{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"For a harder image, try this: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"wsum(sin(x),cos(y),m.y,m.x)",resolution:"250"})),hint:r.a.createElement(s.a,null," ","Try using ",r.a.createElement("b",null,"wsum")," instead of ",r.a.createElement("b",null,"sum")," ")}]}]},{title:"Functions",subsections:[{title:"Multiple Inputs",id:"multiple-input",keywords:["inputs","grayscale","image"],image:r.a.createElement(J,{code:"avg(sum(x,x),mult(y,y))",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"Multiple input functions are functions that must have at least 2 inputs and can have up to 20. These functions include ",r.a.createElement("b",null,"sum"),","," ",r.a.createElement("b",null,"wsum"),", ",r.a.createElement("b",null,"mult"),", and ",r.a.createElement("b",null,"avg"),".",r.a.createElement("br",null),"The ",r.a.createElement("b",null,"sum")," function adds numbers together. It sums together numbers up to -1 and 1. For example, if you add together 0.5 and 0.7, it will stay equal to 1.",r.a.createElement("br",null),"The ",r.a.createElement("b",null,"wsum")," (wrap sum) function works similarly to how"," ",r.a.createElement("b",null,"sum")," does. However, instead of maxing out at 1 or -1, it wraps back around.",r.a.createElement("br",null),"The ",r.a.createElement("b",null,"mult")," block lets you multiply two or more numbers together. Using the example multiplying x and y together, you can see in the top left corner, that it is black because -1 x -1 is 1. Then, if you look at the bottom left corner, it is black",r.a.createElement("br",null),"The ",r.a.createElement("b",null,"avg")," function averages together values. For example, the average of -1 and 1 is 0.",r.a.createElement("br",null),"To use this yourself try:",r.a.createElement("br",null),"1. Adding an ",r.a.createElement("b",null,"x")," and ",r.a.createElement("b",null,"y")," variable to the workspace.",r.a.createElement("br",null),"2. Then add a ",r.a.createElement("b",null,"sum")," block and a ",r.a.createElement("b",null,"mult")," block in.",r.a.createElement("br",null),"3. Connect the ",r.a.createElement("b",null,"x")," to the ",r.a.createElement("b",null,"sum")," block twice, and then the"," ",r.a.createElement("b",null,"y")," to the ",r.a.createElement("b",null,"mult")," twice.",r.a.createElement("br",null),"4. Then bring in an ",r.a.createElement("b",null,"avg")," block and connect the ",r.a.createElement("b",null,"sum")," and"," ",r.a.createElement("b",null,"mult")," block to it! Now take a look at your final image!"),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is a final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"sum(x,x,y)",resolution:"250"})),hint:r.a.createElement(s.a,null," What variable changes thing horizontally? ")},{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"avg(mult(x,x)y)",resolution:"250"})),hint:r.a.createElement(s.a,null," ","How does ",r.a.createElement("b",null,"avg")," change images?"," ")}]},{title:"Fixed Inputs",id:"fixed-input",keywords:["inputs","grayscale","image"],image:r.a.createElement(J,{code:"mistif(x,x,y)",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"Fixed input functions mean that the number of inputs is unchanging. This includes blocks for ",r.a.createElement("b",null,"sqr"),", ",r.a.createElement("b",null,"neg"),", ",r.a.createElement("b",null,"sin"),","," ",r.a.createElement("b",null,"cos"),", ",r.a.createElement("b",null,"abs"),", ",r.a.createElement("b",null,"sign"),", ",r.a.createElement("b",null,"if"),".",r.a.createElement("br",null),r.a.createElement("b",null,"Sqr")," stands for squaring a number or variable. This means that multiplying a variable like x by itself twice is the same as squaring it once.",r.a.createElement("br",null),r.a.createElement("b",null,"Neg")," means negative, this changes the input from positive to negative, or if the input was already negative, it would change it to a positive output.",r.a.createElement("br",null),r.a.createElement("b",null,"Sin")," and ",r.a.createElement("b",null,"cos")," stand for sine and cosine, which are trigonometric functions. To see a difference, drag an ",r.a.createElement("b",null,"x")," and"," ",r.a.createElement("b",null,"y")," variable into the workspace. Next, add a ",r.a.createElement("b",null,"sin")," and"," ",r.a.createElement("b",null,"cos")," block to connect to each. Here, you can see how they differ.",r.a.createElement("br",null),r.a.createElement("b",null,"Abs")," is absolute value. This turns anything that is negative or positive into its positive counterpart. For example, the absolute value of -1 is one, whereas the absolute value of 1 is also 1.",r.a.createElement("br",null),r.a.createElement("b",null,"Sign")," is used to round values. Every value below 0 gets rounded to -1 and every value equal to or greater than 0 gets rounded to one. This also means that there will be no gray areas in the image you make!",r.a.createElement("br",null),r.a.createElement("b",null,"If")," blocks work by taking 3 inputs. To see for yourself:",r.a.createElement("br",null),"1. Drag a ",r.a.createElement("b",null,"x")," and ",r.a.createElement("b",null,"y")," variable into the workspace along with an ",r.a.createElement("b",null,"if")," block.",r.a.createElement("br",null),"2. Connect the ",r.a.createElement("b",null,"x")," to the first two nodes of the ",r.a.createElement("b",null,"if")," ","block.",r.a.createElement("br",null),"3. Then, connect the ",r.a.createElement("b",null,"y")," variable to the third node of the"," ",r.a.createElement("b",null,"if")," block. In this example , the test case, which is the first input, is ",r.a.createElement("b",null,"x"),". So while the input is less than 0, the returned value is negative, which means that it calls ",r.a.createElement("b",null,"y"),'. When it reaches 0 or greater, it returns positive, which in this case is x. This is why the image looks "split" in this case.'),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"mistif(y,y,x)",resolution:"250"})),hint:r.a.createElement(s.a,null," ","How do you change images from vertical to horizonally?"," ")},{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"cos(sin(x))",resolution:"250"})),hint:r.a.createElement(s.a,null," ","What happens when you combine ",r.a.createElement("b",null,"sin")," and ",r.a.createElement("b",null,"cos"),"?"," ")}]},{title:"Adding Color",id:"adding-color",keywords:["graph","color","image"],image:r.a.createElement(J,{code:"rgb(mult(y,y),x,square(x))",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"The ",r.a.createElement("b",null,"RGB")," function adds color! ",r.a.createElement("b",null,"RGB")," is defined by three components: red, green, and blue. These components are the primary colors in a pixel on your screen that can be mixed by varying degrees so that other colors can be made. It helps to think about RGB in terms of mixing light rather than mixing paint colors in that the more you add, the closer you get to white light.",r.a.createElement("br",null),"To the right is an example of solid red, represented by a 1 in the red component's position and -1 in the green and blue positions. Meaning that the amount of red in the light mixture is at its highest and the amounts of green and blue are at their lowest.",r.a.createElement("br",null),"Together, these all change the color. If the ",r.a.createElement("b",null,"RGB")," function is given 1, 1 and 1, it will interpret these numbers as pure white since in our [-1,1] world these are our highest values. Given -1,-1 and -1, ",r.a.createElement("b",null,"RGB")," would show pitch black. Within the limits of our world, adding more of any of the three components will change the 'amount' of that color in the mixture.",r.a.createElement("br",null),"To make your own colorful image, try this!",r.a.createElement("br",null),"1. Start by adding an ",r.a.createElement("b",null,"x"),", ",r.a.createElement("b",null,"x"),", and ",r.a.createElement("b",null,"y")," to your workspace.",r.a.createElement("br",null),"2. Drag in a ",r.a.createElement("b",null,"mult")," block and connect y to it twice.",r.a.createElement("br",null),"3. Add a ",r.a.createElement("b",null,"sin")," and connect the ",r.a.createElement("b",null,"x")," to it.",r.a.createElement("br",null),"4. Finally, bring in a ",r.a.createElement("b",null,"RGB")," block. Connect the ",r.a.createElement("b",null,"mult")," ","block to the red, the x to the green, and sign to the blue. Check out your colorful image!"),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"rgb(x,x,y)",resolution:"250"})),hint:r.a.createElement(s.a,null," ","Try to think of what variables make the RGB values change!"," ")},{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"For a harder challenge, try making this image: ",r.a.createElement("br",null)," "),r.a.createElement(J,{code:"rgb(cos(y),sum(cos(y),x),x)",resolution:"250"})),hint:r.a.createElement(s.a,null," ","How does ",r.a.createElement("b",null,"cos")," change how a function looks?"," ")}]}]},{title:"Shapes",subsections:[{title:"Circle",id:"circle",keywords:["shape","grayscale","image"],image:r.a.createElement(J,{code:"sign(wsum(square(x),square(y)))",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"Have you ever wanted to try making shapes? Here is an example of a circle!",r.a.createElement("br",null),r.a.createElement("br",null),"1. Place an ",r.a.createElement("b",null,"x")," and a ",r.a.createElement("b",null,"y")," in the workspace.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{src:ur.a,alt:"Circle Step 1",style:{height:"75%",width:"75%"}}),r.a.createElement("br",null),r.a.createElement("br",null),"2. ",r.a.createElement("b",null,"Square")," each of them! We square them because x",r.a.createElement("sup",null,"2")," ","+ y",r.a.createElement("sup",null,"2")," is the equation of a circle.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{src:dr.a,alt:"Circle Step 2",style:{height:"75%",width:"75%"}}),r.a.createElement("br",null),r.a.createElement("br",null),"3. Add ",r.a.createElement("b",null,"wsum"),". And make sure it has a W!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{src:fr.a,alt:"Circle Step 3",style:{height:"75%",width:"75%"}}),r.a.createElement("br",null),r.a.createElement("br",null),"4. Connect it to a ",r.a.createElement("b",null,"sign")," function! This gets rid of all of the gray areas and makes it purely black and white.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{src:gr.a,alt:"Circle Step 4",style:{height:"75%",width:"75%"}})),video:r.a.createElement(s.a,null," ",r.a.createElement("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/YQwvc7hdggE",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})," "),final:r.a.createElement(s.a,null," This is the final image: ",r.a.createElement("br",null),r.a.createElement("img",{src:gr.a,alt:"Circle Final",style:{height:"75%",width:"75%"}})),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"neg(sign(wsum(square(x),square(y))))",resolution:"250"})),hint:r.a.createElement(s.a,null," What block inverses images? ")},{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"wsum(sum(mult(x,x),mult(y,y),t.s),t.s)",resolution:"250"})),hint:r.a.createElement(s.a,null," How does adding time work? ")}]},{title:"Triangle",id:"triangle",keywords:["shape","grayscale","image"],image:r.a.createElement(J,{code:"sign(sum(x,y))",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"Making a basic triangle is pretty straightforward!",r.a.createElement("br",null),"1. Drag in a ",r.a.createElement("b",null,"x")," and a ",r.a.createElement("b",null,"y")," in the workspace.",r.a.createElement("br",null),"2. Add a ",r.a.createElement("b",null,"sum")," block. You can also add a wsum block to see how they look different. However, in this tutorial, we will just be focusing on sum.",r.a.createElement("br",null),"3. Next, place in a ",r.a.createElement("b",null,"sign")," block. Now if you click on the preview button, you will see that you have a triangle!",r.a.createElement("br",null)),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"sign(sum(x,negate(y)))",resolution:"250"})),hint:r.a.createElement(s.a,null," What inverts colors? ")},{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"wsum(x,y,t.s)",resolution:"250"})),hint:r.a.createElement(s.a,null," How do you get it to move? ")}]},{title:"Rhombus",id:"rhombus",keywords:["shape","grayscale","image"],image:r.a.createElement(J,{code:"sign(sum(mult(2, x, mistif(x, -1, 1)), mult(2, y, mistif(y, -1, 1)), 2))",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"For a rhombus, we\u2019re going to add ",r.a.createElement("b",null,"x")," and ",r.a.createElement("b",null,"y")," blocks.",r.a.createElement("br",null),"1. First, add the variable ",r.a.createElement("b",null,"x")," and values ",r.a.createElement("b",null,"1")," and"," ",r.a.createElement("b",null,"-1")," to the workspace.",r.a.createElement("br",null),"2.Then, bring in an ",r.a.createElement("b",null,"if")," statement.",r.a.createElement("br",null),"3. When connecting to the ",r.a.createElement("b",null,"if")," statement, make sure it goes in the correct order! This is very important. Connect the ",r.a.createElement("b",null,"x")," to the first node of the if statement.",r.a.createElement("br",null),"4. Then, connect ",r.a.createElement("b",null,"-1")," to the second node. This means that if x is a positive number or 0, it will return this -1.",r.a.createElement("br",null),"5. After that, connect ",r.a.createElement("b",null,"1")," to the third node. If the input is less than 0, it will return 1. This is why when you click the preview for if, the right side is white and the left side is black. You can see what it should look below!",r.a.createElement("br",null),"6. Next, add ",r.a.createElement("b",null,"x")," and a ",r.a.createElement("b",null,"value")," block to the workspace. Set the value of this block equal to ",r.a.createElement("b",null,"2"),".",r.a.createElement("br",null),"7. Bring in a ",r.a.createElement("b",null,"mult")," block and connect the ",r.a.createElement("b",null,"x"),", the"," ",r.a.createElement("b",null,"2"),", and the ",r.a.createElement("b",null,"if")," block to it. If you look at the preview now, you can see how it has changed!",r.a.createElement("br",null),"8. Now repeat steps 1-7, but this time using ",r.a.createElement("b",null,"y")," instead of"," ",r.a.createElement("b",null,"x"),". This will change the pattern from a vertical split to a horizontal one. We'll write the steps below just in case (or jump to step 12).",r.a.createElement("br",null),"9. Connect a ",r.a.createElement("b",null,"y"),", ",r.a.createElement("b",null,"-1"),", and ",r.a.createElement("b",null,"1")," to an ",r.a.createElement("b",null,"if")," ","block, in that order, just like in step 3 to 5. It should look like this.",r.a.createElement("br",null),"10. Then add another ",r.a.createElement("b",null,"y"),", ",r.a.createElement("b",null,"2"),", and ",r.a.createElement("b",null,"mult")," block.",r.a.createElement("br",null),"11. Connect the ",r.a.createElement("b",null,"y"),", ",r.a.createElement("b",null,"2")," and previous ",r.a.createElement("b",null,"if")," block to the ",r.a.createElement("b",null,"mult")," block.",r.a.createElement("br",null),"12. After this is completed, let\u2019s add a ",r.a.createElement("b",null,"sum")," block. Connect this to the ",r.a.createElement("b",null,"mult")," blocks we used with ",r.a.createElement("b",null,"x"),", and with"," ",r.a.createElement("b",null,"y")," to it.",r.a.createElement("br",null),"13. We\u2019re also going to add another value block and set it to"," ",r.a.createElement("b",null,"2"),". Then, connect it to the sum block. We should now have a diamond shaped rhombus outline!",r.a.createElement("br",null),"14. To make this image more clear, we\u2019re going to add a ",r.a.createElement("b",null,"sign")," ","block. Connect ",r.a.createElement("b",null,"sum")," to ",r.a.createElement("b",null,"sign")," and click the preview; you should see a rhombus!"),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null,r.a.createElement("p1",null," ","Try making a rhombus using a different equation: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"sign(wsum(abs(y),abs(x)))",resolution:"250"})),hint:r.a.createElement(s.a,null," This is a hint 1 ")},{question:r.a.createElement(s.a,null,r.a.createElement("p1",null," ","Try making a rhombus using a different equation: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"neg(sign(wsum(abs(y),abs(x),0.5)))",resolution:"250"})),hint:r.a.createElement(s.a,null," ","How do you invert the color and change shape size? ",r.a.createElement("br",null)," Click"," ",r.a.createElement(i.b,{to:"#resizing"},"here ")," for the resizing tutorial!")}]}]},{title:"Customize",subsections:[{title:"Flipping",id:"flipping",keywords:["shape","grayscale","image"],image:r.a.createElement(J,{code:"sign(neg(sum(x,y)))",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"Flipping an image means that you create the impression of flipping an image when you invert the colors! You can flip it horizontally or vertically (on the x or the y axis). Here is an example with a simple triangle.",r.a.createElement("br",null),"1. Start by making a triangle. Click"," ",r.a.createElement(i.b,{to:"#triangle"},"here ")," for the triangle tutorial!",r.a.createElement("br",null),"To flip horizontally: ",r.a.createElement("br",null),"3. Add a ",r.a.createElement("b",null," neg ")," function to the ",r.a.createElement("b",null,"x ")," value",r.a.createElement("br",null),"To flip vertically: ",r.a.createElement("br",null),"4. Add a ",r.a.createElement("b",null," neg ")," function to the ",r.a.createElement("b",null,"y ")," value"),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null,r.a.createElement("p1",null," ","Try making a rhombus using a different equation: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"sum(sin(x),sin(y),-0.5)",resolution:"250"})),hint:r.a.createElement(s.a,null," ","Try adding ",r.a.createElement("b",null,"sin")," with ",r.a.createElement("b",null,"x")," or ",r.a.createElement("b",null,"y")," and then how do you change the size of that?"," ")}]},{title:"Resizing",id:"resizing",keywords:["size","shape","grayscale"],image:r.a.createElement(J,{code:"sign(sum(x,y,-0.5))",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"Resizing can be useful when trying to get an image to look a certain way. The easiest way to alter the size of an image inside the canvas is to include a constant. Let's go through an example of that!",r.a.createElement("br",null),"1. Start by making a triangle. Click"," ",r.a.createElement(i.b,{to:"#triangle"},"here ")," for the triangle tutorial!",r.a.createElement("br",null),"2. Add a constant and set it equal to ",r.a.createElement("b",null,"-0.5"),".",r.a.createElement("br",null),"3. Connect this to the ",r.a.createElement("b",null,"sum")," block.",r.a.createElement("br",null),"4. Bring a ",r.a.createElement("b",null,"sign")," block into the workspace.",r.a.createElement("br",null),"5. Connect the ",r.a.createElement("b",null,"sum")," block to it. See how the triangle got smaller!"),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"sign(wsum(square(x),square(y),0.5))",resolution:"250"})),hint:r.a.createElement(s.a,null," ","Does making the constant bigger than 0 shrink the circle?"," ")}]},{title:"Moving around",id:"moving-around",keywords:["shape","grayscale","image"],image:r.a.createElement(J,{code:"wsum(square(sum(x,0.5)),square(y))",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"You are familiar with the following circle:In this tutorial, you will learn how to move this image along the x and y axis (vertically and horizontally).",r.a.createElement("br",null),"1. To move the circle horizontally, we have to add or subtract some value from the ",r.a.createElement("b",null,"x")," value. In this case we are adding ",r.a.createElement("b",null,"0.5"),".",r.a.createElement("br",null),"2. When finishing this up, you get a circle that is slightly to the left. Now try moving it to the right!",r.a.createElement("br",null),"3. Similarly to the horizontal example, to move the circle vertically, we have to add or subtract some value from the ",r.a.createElement("b",null,"y"),"y value. In this case we are adding ",r.a.createElement("b",null,"0.5")," to ",r.a.createElement("b",null,"y"),".",r.a.createElement("br",null),"4. When finishing this up, you get a circle that is slightly up. Now try moving it down!"),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"sum(sign(sum(x,0.5)),sign(sum(y,0.5)))",resolution:"250"})),hint:r.a.createElement(s.a,null," ","Try making the ",r.a.createElement("b",null,"y")," shape and ",r.a.createElement("b",null,"x")," shape and then combing them."," ")}]},{title:"Assemble",id:"assemble",keywords:["graph","grayscale","axis"],image:r.a.createElement(J,{code:"mistif(sign(wsum(square(x),square(y))),y,sign(sum(x,y)))",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"You might have created some cool pictures by now. In this tutorial you will learn how to put them together into one piece. To do so, we need to use the if function. Let\u2019s say you have the following 3 images:",r.a.createElement("br",null),"And you want to make it into the following:",r.a.createElement("br",null),"It uses the circle outline, and uses the second picture as the inside of the circle and the third picture as the outside of the circle. You just need to connect them together with an if function:",r.a.createElement("br",null),"Remember what if does? It takes 3 inputs in -- 3 images. It uses the second image in all the positive parts of the first image, and the third imagery all the negative parts of the image.",r.a.createElement("br",null),"In the above example, the second image (y) is being used at the positive parts (black parts) of the first image (the circle). Whereas the third image (the triangle) is being used at the negative parts (white parts) of the first image (the circle).",r.a.createElement("br",null),"So how would it look like if the order was the following with the following images:",r.a.createElement("br",null),"(These are the same images as in the previous one except the circle is blended.",r.a.createElement("br",null),"It looks the following:",r.a.createElement("br",null),"This is because sign changes all negative parts into white, and positive parts into black. By adding a sign function on the first image input, you will have an easier time seeing through the different parts of the image and the exact dividers.",r.a.createElement("br",null),"You can also think in quadrants, like in math with graphs and coordinates. For example you can use four different images to make the following:",r.a.createElement("br",null),"It makes up of the following four images:",r.a.createElement("br",null),"1. Make each of these shapes:",r.a.createElement("br",null),"2. Then connect the upper 2 together with an ",r.a.createElement("b",null,"if")," function, and the bottom 2 together with an ",r.a.createElement("b",null,"if")," function, while using"," ",r.a.createElement("b",null,"y")," as the first image in both cases. You can see that the upper image is made up of the upper two images, and the bottom one is made up of the bottom two images. They are also being divided up horizontally in the middle. This is how it would look like:",r.a.createElement("br",null),"3. Now, we can connect these two images together based on the"," ",r.a.createElement("b",null,"x")," image. Since the ",r.a.createElement("b",null,"x")," function divides the image up vertically in the middle, it uses the first image\u2019s right part, and the second image\u2019s left part."),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null," ",r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"mistif(x,mistif(y,cos(sin(x)),sign(sum(x,y))),mistif(y,wsum(square(x),square(y)),y))",resolution:"250"})," "),hint:r.a.createElement(s.a,null," ","Try making each quadrant seperately first!"," ")}]}]},{title:"Interesting Images",subsections:[{title:"Colorful Image",id:"colorful-image",keywords:["color","animation","interesting"],image:r.a.createElement(J,{code:"rgb(sin(sin(cos(x))),mult(sin(sin(cos(x))),y),wsum(y,t.s))",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"Here is an example of a colorful image using many of the skills you just learned!",r.a.createElement("br",null),"1. To start, add an ",r.a.createElement("b",null,"x"),", ",r.a.createElement("b",null,"y"),", and ",r.a.createElement("b",null,"t.s")," variable to the workspace.",r.a.createElement("br",null),"2. After this, bring in a ",r.a.createElement("b",null,"sin")," and ",r.a.createElement("b",null,"cos")," block. Connect the ",r.a.createElement("b",null,"x")," to ",r.a.createElement("b",null,"cos")," first then ",r.a.createElement("b",null,"sin"),". If we click on the previews for ",r.a.createElement("b",null,"sin")," and ",r.a.createElement("b",null,"cos"),", we can see how the differences in how they look!",r.a.createElement("br",null),"3. Now, let\u2019s add another ",r.a.createElement("b",null,"sin")," block and connect the"," ",r.a.createElement("b",null,"sin")," from the previous step to it.",r.a.createElement("br",null),"4. Next, we\u2019re going to drag in a ",r.a.createElement("b",null,"mult")," block. Let\u2019s connect the ",r.a.createElement("b",null,"sin")," block and the ",r.a.createElement("b",null,"y")," variable to it!",r.a.createElement("br",null),"5. Add a ",r.a.createElement("b",null,"wsum")," block. We\u2019re going to connect ",r.a.createElement("b",null,"t.s")," and"," ",r.a.createElement("b",null,"y")," to this.",r.a.createElement("br",null),"6. Finally, connect this to an ",r.a.createElement("b",null,"rgb")," block. We\u2019ll start at the top, with ",r.a.createElement("b",null,"sin")," being red, the ",r.a.createElement("b",null,"mult")," block going to green, and ",r.a.createElement("b",null,"wsum")," connecting to blue. Now look at this colorful animation you just made!"),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"rgb(sin(x),cos(y),t.s)",resolution:"250"})),hint:r.a.createElement(s.a,null," ","What does ",r.a.createElement("b",null,"sin")," and ",r.a.createElement("b",null,"cos")," look like?"," ")},{question:r.a.createElement(s.a,null," ",r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"rgb(cos(sin(sin(x))),sum(cos(sin(sin(x))),y),y)",resolution:"250"})," "),hint:r.a.createElement(s.a,null," ","What happens when you combine multiple ",r.a.createElement("b",null,"sin")," and ",r.a.createElement("b",null,"cos")," ","blocks?"," ")}]},{title:"Moving Image",id:"moving-image",keywords:["animation","grayscale","interesting"],image:r.a.createElement(J,{code:"sin(wsum(neg(square(x)),neg(y),mult(t.s,m.y),m.x,mult(x,y)))",resolution:"250"}),isAnimated:!1,text:r.a.createElement(s.a,null,"Here is an example of an interesting and slightly more challenging image. It incorporates many aspects from the previous tutorials. To begin:",r.a.createElement("br",null),"1. Start by adding an ",r.a.createElement("b",null,"x")," and a ",r.a.createElement("b",null,"y")," variable.",r.a.createElement("br",null),"2. Next, add a ",r.a.createElement("b",null,"sqr"),", ",r.a.createElement("b",null,"mult"),", and ",r.a.createElement("b",null,"neg"),". Connect the",r.a.createElement("b",null,"x")," to the ",r.a.createElement("b",null,"sqr")," and ",r.a.createElement("b",null,"mult")," and the ",r.a.createElement("b",null,"y")," to the"," ",r.a.createElement("b",null,"mult")," and ",r.a.createElement("b",null,"neg"),".",r.a.createElement("br",null),"3. Then bring in another ",r.a.createElement("b",null,"neg")," block and connect the ",r.a.createElement("b",null,"sqr")," ","to this.",r.a.createElement("br",null),"4. Add a ",r.a.createElement("b",null,"t.s"),", ",r.a.createElement("b",null,"m.x"),", and ",r.a.createElement("b",null,"m.y"),".",r.a.createElement("br",null),"5. Connect the ",r.a.createElement("b",null,"t.s")," and ",r.a.createElement("b",null,"m.y")," to the new ",r.a.createElement("b",null,"mult")," ","block in the workspace. and it.",r.a.createElement("br",null),"6. On their own, the images look simple, but now it's time to put it all together. Start by adding a",r.a.createElement("b",null,"wsum"),". From there, connect both of the ",r.a.createElement("b",null,"neg")," blocks and ",r.a.createElement("b",null,"mult")," blocks. Additionally, connect the ",r.a.createElement("b",null,"m.x")," block to the ",r.a.createElement("b",null,"wsum")," block as well.",r.a.createElement("br",null),"7. Finally, connect the ",r.a.createElement("b",null,"wsum")," to a new ",r.a.createElement("b",null,"sin")," block and check out the final image!"),video:r.a.createElement(s.a,null," This is a video "),final:r.a.createElement(s.a,null," This is the final image "),isChallenge:!0,challenges:[{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"Try making the following image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"sin(sin(sum(m.x,x)))",resolution:"250"})),hint:r.a.createElement(s.a,null," How does sin change the image? ")},{question:r.a.createElement(s.a,null,r.a.createElement("p1",null,"For a super challenge, try this image: ",r.a.createElement("br",null)),r.a.createElement(J,{code:"wsum(cos(mult(x,x,x)),cos(mult(x,x,x)),cos(mult(x,x,x)))",resolution:"250"})),hint:r.a.createElement(s.a,null," ","What happens when you use ",r.a.createElement("b",null,"cos")," and ",r.a.createElement("b",null,"wsum"),"?"," ")}]}]}],Mr=function(){return r.a.createElement(s.a,{fluid:!0,style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem"}},r.a.createElement(D.a,{style:{marginLeft:"1em",marginRight:"1em",alignItems:"flex-start"}},r.a.createElement(_.a,{xs:"3",style:{position:"sticky",top:"2rem"}},r.a.createElement(Er,null)),r.a.createElement(_.a,{xs:"9"},r.a.createElement(br,null))))},jr=(a(149),a(113));function Ar(){return r.a.createElement("div",null,r.a.createElement(s.a,null,r.a.createElement("h1",null," Example User ")),r.a.createElement(s.a,{style:{marginTop:"3vh",marginBottom:"3vh"}},r.a.createElement(Fr,null)),r.a.createElement(Nr,null))}function Fr(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1],o=r.a.createElement(mt.a,{id:"popover-basic"},r.a.createElement(mt.a.Content,null,"This user and their content will be blocked for you."));var i=r.a.createElement(mt.a,{id:"popover-basic"},r.a.createElement(mt.a.Content,null,"Report this user."));return r.a.createElement(s.a,{style:{width:"90%"}},r.a.createElement(D.a,{style:{justifyContent:"space-between"}},r.a.createElement(s.a,{style:{width:"30%",justifyContent:"center"}},r.a.createElement(J,{code:"sin(x)",resolution:"300"}),r.a.createElement(we.a,{trigger:"hover",placement:"right",overlay:o},r.a.createElement(k.a,{variant:"secondary",onClick:function(){a||(l(!0),alert("You have blocked this user and will no longer see their content. Visit your account settings to undo this."))}},a?"Blocked":"Block"))," "," ",r.a.createElement(we.a,{trigger:"hover",placement:"right",overlay:i},r.a.createElement(k.a,{href:"/report",variant:"danger"},"Report"))),r.a.createElement(s.a,{style:{width:"50%",alignItems:"center"}},r.a.createElement(w.a,null,r.a.createElement(w.a.Group,{as:D.a,controlId:"formPlaintextEmail"},r.a.createElement(w.a.Label,{column:!0,sm:"4"}," Name "),r.a.createElement(_.a,{sm:"7"},r.a.createElement(w.a.Control,{plaintext:!0,readOnly:!0,defaultValue:"Shrek"})),r.a.createElement(w.a.Label,{column:!0,sm:"4"}," Username "),r.a.createElement(_.a,{sm:"7"},r.a.createElement(w.a.Control,{plaintext:!0,readOnly:!0,defaultValue:"@donkey"})),r.a.createElement(w.a.Label,{column:!0,sm:"4"},"Member since "),r.a.createElement(_.a,{sm:"6"},r.a.createElement(w.a.Control,{plaintext:!0,readOnly:!0,defaultValue:"June, 2020"})),r.a.createElement(w.a.Label,{column:!0,sm:"4"},"Bio "),r.a.createElement(_.a,{sm:"7"},r.a.createElement(w.a.Control,{plaintext:!0,rows:"3",defaultValue:"First the worst, Shrek the best"})))),r.a.createElement("hr",null),r.a.createElement(Br,null),r.a.createElement("hr",null))))}function Br(){var e=[{iconName:r.a.createElement(dt.a,{size:28}),num:8,category:"images"},{iconName:r.a.createElement(dt.c,{size:28}),num:2,category:"likes"},{iconName:r.a.createElement(jr.a,{size:28}),num:4,category:"badges"},{iconName:r.a.createElement(Ge.a,{size:28}),num:6,category:"challenges"}];return r.a.createElement(D.a,null,e.map((function(e,t){return r.a.createElement(_.a,{key:t},r.a.createElement(s.a,{style:{textAlign:"center"}},e.iconName),r.a.createElement(s.a,{style:{textAlign:"center"}}," ",e.num," ",r.a.createElement("br",null),e.category," "))})))}function Nr(){return r.a.createElement(s.a,null,r.a.createElement(T.a,{fill:!0,variant:"tabs",defaultActiveKey:"link-1"},r.a.createElement(T.a.Item,null,r.a.createElement(T.a.Link,{eventKey:"link-1",style:{color:"black"}},"Images")),r.a.createElement(T.a.Item,null,r.a.createElement(T.a.Link,{eventKey:"link-2",style:{color:"black"}},"Albums"))))}var Wr=a(297);function Lr(){var e=Object(n.useState)({forename:"",surname:"",username:"",createdAt:"",about:"",profilepic:""}),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),i=Object(u.a)(o,2),c=i[0],m=i[1],d=Object(n.useState)([]),h=Object(u.a)(d,2),f=h[0],p=h[1];return Object(n.useEffect)((function(){fetch("/api/gallery/recent").then((function(e){return e.json()})).then((function(e){m(e)})),fetch("/api/profile").then((function(e){return e.json()})).then((function(e){l(e.user),p(e.userAlbums)}))}),[]),r.a.createElement(s.a,{fluid:!0,style:{marginTop:"2vh",marginBottom:"0",paddingBottom:"7.5rem"}},r.a.createElement(s.a,null,r.a.createElement("h1",null," Profile ")),r.a.createElement(s.a,{style:{marginTop:"3vh",marginBottom:"3vh"}},r.a.createElement(Rr,{name:a.forename+" "+a.surname,username:a.username,date:a.createdAt,bio:a.about,code:a.profilepic})),r.a.createElement(Yr,{images:c,albums:f}))}function Rr(e){return r.a.createElement(s.a,{style:{width:"90%"}},r.a.createElement(D.a,{style:{justifyContent:"flex-start"}}," "),r.a.createElement(D.a,{style:{justifyContent:"space-between"}},r.a.createElement(s.a,{style:{width:"25%",justifyContent:"center"}},r.a.createElement(J,{code:e.code,resolution:"275"}),r.a.createElement(T.a.Link,{eventKey:"link-1"},"Change Image"),r.a.createElement(T.a.Link,{href:"/settings"},r.a.createElement(dt.b,{size:28})," Account Settings")),r.a.createElement(s.a,{style:{width:"50%",alignItems:"center"}},r.a.createElement(w.a,null,r.a.createElement(w.a.Group,{as:D.a,controlId:"formPlaintextEmail"},r.a.createElement(w.a.Label,{column:!0,sm:"4"},"Name"),r.a.createElement(_.a,{sm:"7"},r.a.createElement(w.a.Control,{plaintext:!0,readOnly:!0,value:e.name})),r.a.createElement(_.a,{sm:"1"},r.a.createElement(T.a.Link,{eventKey:"link-1"},"Change")),r.a.createElement(w.a.Label,{column:!0,sm:"4"},"Username"),r.a.createElement(_.a,{sm:"7"},r.a.createElement(w.a.Control,{plaintext:!0,readOnly:!0,value:"@"+e.username})),r.a.createElement(_.a,{sm:"1"},r.a.createElement(T.a.Link,{eventKey:"link-1"},"Change")),r.a.createElement(w.a.Label,{column:!0,sm:"4"},"Member since"),r.a.createElement(_.a,{sm:"6"},r.a.createElement(w.a.Control,{plaintext:!0,readOnly:!0,value:e.date})),r.a.createElement(w.a.Label,{column:!0,sm:"4"},"Bio"),r.a.createElement(_.a,{sm:"7"},r.a.createElement(w.a.Control,{as:"textarea",readOnly:!0,rows:"3",value:e.bio})),r.a.createElement(_.a,{sm:"1"},r.a.createElement(T.a.Link,{eventKey:"link-1"},"Change")))),r.a.createElement("hr",null),r.a.createElement(Pr,null),r.a.createElement("hr",null))))}function Pr(){var e=[{iconName:r.a.createElement(dt.a,{size:28}),num:8,category:"images"},{iconName:r.a.createElement(dt.c,{size:28}),num:2,category:"likes"},{iconName:r.a.createElement(jr.a,{size:28}),num:4,category:"badges"},{iconName:r.a.createElement(Ge.a,{size:28}),num:6,category:"challenges"}];return r.a.createElement(D.a,null,e.map((function(e,t){return r.a.createElement(_.a,{key:t},r.a.createElement(s.a,{style:{textAlign:"center"}},e.iconName),r.a.createElement(s.a,{style:{textAlign:"center"}}," ",e.num," ",r.a.createElement("br",null),e.category," "))})))}var Yr=function(e){Object(me.a)(a,e);var t=Object(de.a)(a);function a(e){var n;return Object(se.a)(this,a),(n=t.call(this,e)).updateContent=function(){n.setState({message:"Updated Content!"})},n.openImagesView=function(){n.setState({message:r.a.createElement(Et,{cards:n.props.images,cardsLoaded:!0})})},n.openAlbumsView=function(){n.setState({message:r.a.createElement(Hr,{albums:n.props.albums,message:n.state.message})})},n.openedAlbum=function(){n.setState({message:r.a.createElement(Gr,{albums:n.props.albums})})},n.state={message:r.a.createElement(Et,{cards:e.images,cardsLoaded:!0})},n}return Object(ue.a)(a,[{key:"render",value:function(){return r.a.createElement(s.a,null,r.a.createElement(T.a,{fill:!0,variant:"tabs",defaultActiveKey:"images"},r.a.createElement(T.a.Item,null,r.a.createElement(T.a.Link,{onClick:this.openImagesView,style:{color:"black"}},"Images")),r.a.createElement(T.a.Item,null,r.a.createElement(T.a.Link,{onClick:this.openAlbumsView,style:{color:"black"}},"Albums"))),r.a.createElement(s.a,null,this.state.message))}}]),a}(r.a.Component);function Hr(e){var t=Object(n.useState)("albumsView"),a=Object(u.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(""),c=Object(u.a)(i,2),s=c[0],m=c[1];function d(e){o("openedAlbum"),m(e.images)}return"albumsView"===l?r.a.createElement(D.a,null,e.albums.map((function(t){return r.a.createElement(V.a,{style:{padding:"1em",width:"30%",margin:"1em"}},r.a.createElement(V.a.Header,null,r.a.createElement(V.a.Title,{style:{margin:"auto"}},r.a.createElement("p",null,e.title)),r.a.createElement(V.a.Body,{style:{justifyContent:"space-between"}},r.a.createElement(Ur,{images:t.images,openAlbum:d}),r.a.createElement("p",null,e.description),r.a.createElement("p",null,e.date))))}))):r.a.createElement(qr,{images:s,onClick:function(){o("albumsView")}})}function Gr(e){return r.a.createElement(D.a,null,e.albums.map((function(t){return r.a.createElement(Xr,{title:t.name,description:t.caption,date:t.createdAt,images:t.images,message:e.message})})))}function Xr(e){return r.a.createElement(V.a,{style:{padding:"1em",width:"30%",margin:"1em"}},r.a.createElement(V.a.Header,null,r.a.createElement(V.a.Title,{style:{margin:"auto"}},r.a.createElement("p",null,e.title)),r.a.createElement(V.a.Body,{style:{justifyContent:"space-between"}},r.a.createElement(Ur,{images:e.images,message:e.message}),r.a.createElement("p",null,e.description),r.a.createElement("p",null,e.date))))}function Ur(e){var t=Object(n.useState)(0),a=Object(u.a)(t,2),l=a[0],o=a[1];return r.a.createElement(Wr.a,{activeIndex:l,onSelect:function(e,t){o(e)}},e.images.map((function(t){return r.a.createElement(Wr.a.Item,null,r.a.createElement(D.a,{style:{justifyContent:"center"}},r.a.createElement(T.a.Link,{onClick:e.openAlbum},r.a.createElement(J,{code:t.code,resolution:"250"}))),r.a.createElement(Wr.a.Caption,null))})))}function qr(e){return r.a.createElement(s.a,null,r.a.createElement(D.a,null,r.a.createElement(k.a,{onClick:e.onClick}," Back ")))}var zr=function(){return r.a.createElement(s.a,{fluid:!0,id:"footer"},r.a.createElement("p",{className:"justify-content-center"},"\xa92020 Glimmer Labs "),r.a.createElement(T.a,{className:"justify-content-center",activeKey:"/home"},r.a.createElement(T.a.Item,null,r.a.createElement(T.a.Link,{href:"/about",id:"footer-button"},"About")),r.a.createElement(T.a.Item,null,r.a.createElement(T.a.Link,{href:"/contact",id:"footer-button"},"Contact")),r.a.createElement(T.a.Item,null,r.a.createElement(T.a.Link,{href:"/license",id:"footer-button"},"License")),r.a.createElement(T.a.Item,null,r.a.createElement(T.a.Link,{href:"/privacy",id:"footer-button"},"Privacy Policy"))))};var Dr=function(){var e=Object(n.useContext)(m);return console.log(e),r.a.createElement("div",{id:"page-container"},r.a.createElement(i.a,null,e?r.a.createElement(X,null):r.a.createElement(L,null),r.a.createElement(s.a,{fluid:!0,id:"content-wrap"},r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/",component:zt,exact:!0}),r.a.createElement(c.a,{path:"/about",component:z}),r.a.createElement(c.a,{path:"/challenges",component:ee}),r.a.createElement(c.a,{path:"/community",component:te}),r.a.createElement(c.a,{path:"/contact",component:ae}),r.a.createElement(c.a,{path:"/development",component:ne}),r.a.createElement(c.a,{path:"/expert",children:r.a.createElement(ct,null)}),r.a.createElement(c.a,{path:"/faq",component:st}),r.a.createElement(c.a,{path:"/gallery",component:Rt}),r.a.createElement(c.a,{path:"/license",component:Dt}),r.a.createElement(c.a,{path:"/privacy",component:Vt}),r.a.createElement(c.a,{path:"/profile",component:Lr}),r.a.createElement(c.a,{path:"/report",children:_t}),r.a.createElement(c.a,{path:"/settings",component:Zt}),r.a.createElement(c.a,{path:"/signIn",component:Qt}),r.a.createElement(c.a,{path:"/signUp",component:ta}),r.a.createElement(c.a,{path:"/tutorial",component:Mr}),r.a.createElement(c.a,{path:"/user",children:Ar}),r.a.createElement(c.a,{path:"/createWorkspace",children:r.a.createElement(cr,null)}),r.a.createElement(c.a,{path:"/expert",render:function(e){return r.a.createElement(ct,e)}}),r.a.createElement(c.a,{path:"/img/:url",children:r.a.createElement(Rt,null)}))),r.a.createElement(zr,{id:"footer"})))};o.a.render(r.a.createElement(d,null,r.a.createElement(Dr,null)),document.getElementById("root"))},66:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAEKklEQVRIibWWXW8bRRSG353dnXWcuLZrO3GJWommQqKGtnGDlEIpSgsSKv8AxBUfxXZa/sL+hIoktlMJ9RKpN1yV3jQXjVKgRXVahCUuIA0pNHHtxGs7/tjZXQ8XSdzYsZM1Ca+0kuecM/OcGZ89OwK6lKqm6eqAETK5FQIASRDTvoycVtUQ62YdwU5QJP7re5xbMYdChyVZHqIyFSilAADGdDBm1k2TLbAaS3EixhPRU/f2BR6fSI1YIrnu9bjPeTweIgi758k5h6ZpvFgoPrYkRBNfnP65a3Bkcj7ucrs+C/h91ObBbE8BudwaKxQLN5Kx8FVbYFVN04zfuBM80n/R6XR2CWxWpVLF8kpmJpiVL7fWAGkNzviNO0ePDe4bCgBOZw+OHR28tOzXf2j1NYEjk6lvBoL9F2VZtr04lQQMHBIx6JXg7xPhchBsLwVZljH4SvDSlcn56e3zGiHjE6kRp8c9F/D7FDtAj5Ng7PUeHPdLaK25b2dLyFfqTbZsLsfWq6Xz8S+HfwG27dgSyFTAf9gW1OUg+Hi0D0OBndBOCvh9FKZwfWtMACA6/XjMe9g9Yrd6333NASftttIFuN3u0VgydQEAJACwjHrU4/HsKLS20wXgRL/UZHuuWfjxjxqqjAMAirV6u6nwej1Ey+cjAGYlAHAodHiv5rAldw8BlZpjbz+poFBtD2tOWgClylkAIKqaprKsvGqLCsAhN0PXa3Vb0C3JCj2uqmlKMv21NymVbR3zRtbNY920zQQAUFkStQBOEl4XTyqKrWI+EFFFgS7U3pAEYnHO+a7BH4R6EHSLAABZbN6y20nw6dt9TbbvHpRhWh3W5ABA6pIkiGnGGHp7O7dIby/BwCGxrU8iaPKVdd4ZCoDpOsCk34gvI6cZM+xXxx5aLVu7+plpWgMa+Z2oaoiZJlvYLdgwOWrGxsPM5t1wjoavZnBki7uDTWb8qaohJgFATWfznPMTnd7l71OVxu8jHhGfjL78T9fKddycK+0Ke5kkR43pj4DNlikI4pSmaQd23J2Uz2uWKPJkA5yInrqX1woPN0vufxJHoVD8aeqr8GwDvCFrPJdb6+qm2I2y2VVdFPi1rXEDnIiefVQqFpLlcqX9zH2oWq2gVCrenIicmd8BBoB4LPz1SubFjGEYBwY1DAPPlzN3E7FwZLt9R48OZuXLS8/+malUqvuGlssVLD37+24wSz9q9Umths3b4PtX4vOT7j7X54GAT/kv19tsdlUvFYo3klfD19pFdPwqTUeHx0vrhXcWnv51f20tb+3Vz4GN93Q1n+eLi0sPq+X1c4kOUMDmVmLJ1IW6gShVlHC/xzH04WkX8bkdAICnK1XcflK0DJ0tMF1PCYRMxmNn5vZas9szxK1baVpw9J7XYbxlcc5lQX7wIrV4X1XHuvoy/wu/kLPctyVQHAAAAABJRU5ErkJggg=="},67:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAF70lEQVRoge1ZW2xURRj+Zs6e3W3L9n6hYGltkQK9UCjYcottQoyhT4WEF4QAidGABtBYNRqziZdEkCLG0hhCIIgxLi9oAlIgLFiiLQW7WGnayk3aCi30srTd7p6zZ8YHpCHds2fP6S6XKN/bzvz/P9+3M+ef+WeAp3iK/zdIJIJwO0zwiuvgYZVw80K4eQokiPByCgZABMck4oON9MNGWmCjDljlA8QOf7hjhyWAV4mlGGI70MlK4OaCIWcbUTCNNiKRbiKfyq6JcpiQAP6RJRdd8iF0sIKw/0MBwHP0ItLYSvIxrhh1NyyAv0Or0cy3YJRHZPmNIQYMs+l2Us3eNeKmmwSvRhRa6QW0s1nG2RlALnXhGVZC7JD0mFM9Rnw3EtBMrz108gDQzorgptv0moecAb4PVpwgN9DJU8JjphP55DSp5eV6zUPPQCNtenTkBUPkAcCk1cnfpl+igeXrjmYjCjKpC9H8MNJoPTz+SwAoJFMBJLYEblSim+djSCXl5gtnSK1iiDygsYT4NksOnFIHhnnoWbIRBXl0L2KUN0J9fNyOaAwKu9HBXh4Tco98mUHuALQEbBWacF6ZHzJCNu3GDFZM3kePkYH5B8jBdXoWNtI+UfJAEAH8TFQG/Owy6vxmNCgAD+I9izZjGVtAVkGZKIFwEWR58E0wwYwKE7BaBKJUdGbT7sdNHlCZAe6AgDTLXwCmjjXe5YDDD1xn937HEgUzeCbZie5HRTQYAmcgNep5PEgeAGIJsEEEKkz3zi4z6P4ngTygmkaVctVPgwJYKACTSQ8uyJseOjOdCBRASLGmRxZ1kHXw6R0gver3YCnAEGJNQ7wovvXq91WvTH+wPXAJceRqRuI4GglCRnHXbyPd3slTx7cHCiAkPUSsy5EiZRR9UoJ5fJtKGuWTtMP4bkWKkFF4/NYAvrqO008KuEoNpSKADGtGMVmmRIqQUcQInoCEoPIR85uaUfzIjhwlY0iyuAOyn8pHjA7NKBQVkaNkDEmW/r7xbSr7AG8CJ5VqAfqZBbUjeRuqHah6c9Wvo3oGvbmtUFfdvf3Amphv/1zv7vElB72eyYzqbh7fFjgDiuBUc27xJ2LL3cVokNOixUlyjR5SRvC3O3eXFnkAmBLT+934tkABZaPnAHTd/8kB/OjNwodDCzDALACABjl1bU1dfka4pO9jZ+1rWSd7lq7Xskk2DyjenDjH+PYAAYSAAeQgAIxwEZ8MFWOPZxb8DxRmbmYWuuTERqezTLMk1QO70246M7jolztSgmZKL036rcFebg+4RlN3YqTmihIrb3UvQqOcqmrSIiem/+yRz4cjwu60m65cmOxqHCjS3P1F6ke2pWuzWp+qAFI+2nXIk9N6k0VrEmiSUuYcH2E39h7PNbw3fH0ib1pPK20/2bsoL5Tt4sTzl97buOOCWl/QacsTByoTqMRCBW+RE9Odozk3vjo2b699X5k1lP2BusKYXUcW7Kkfybx2K705e+nk05r2saYhnhvftiJYv2aKqz1SVH1Uytqq9zwcTyVltmmgJY76DqdwX71J8P7hNQts1Bs108vpi30senmHElc0yMxj2YZwgqSeQhy/vkL1qLBi6rHams1VGyckAAA+O1LSXC+lF+nUMGGkDmbgVPta+P7NdACwJPl826GqDZrXmSEPc8+ODJfMFgYf+gm0N74TZYU1SDb3AwAK4tr6UmJGF4Ty07VLOp1Z8Sc9Ga0XpaRQtULYsMlWiF0Lu7OTO+fZ137eG8pe9/W605llPetJP3dOSiuISI0YBAvNPa655Hbp8uWXdZWthh8p9vxUuO2UL+OtIS5GtJaIJTJ7Qeze8WqFq8qI34ReWb75Yd70LtHsaJJS5koGn8bGQwTDfPNtV5alb+XqZR1XjfqH9Uy0v66g+LYc/UWbEl/aw6IM7chJgtc/UxhsnAbv66srXI/2kW88HBzC0NGiNW4iruzj1jl3FGvKKBPNwxAoA4GV+HkcZF8ClfqSBO/FBOJzxL7kOriKPN5ryad4iv8C/gEaXxgpyW55OgAAAABJRU5ErkJggg=="},68:function(e,t,a){e.exports=a.p+"static/media/logoFinal.4d8191e1.png"},80:function(e,t,a){},9:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MIST})),__webpack_require__.d(__webpack_exports__,"b",(function(){return gifTime})),__webpack_require__.d(__webpack_exports__,"c",(function(){return setMouse}));var MIST={};function contains(e,t){for(var a=0;a<e.length;a++)if(e[a]===t)return!0;return!1}function getArgs(e,t){t||(t=0);var a=e.length-t;if(1===a&&e[t]instanceof Array)return e[t];for(var n=Array(a),r=t;r<e.length;r++)n[r-t]=e[r];return n}function ncopies(e,t){return Array(e+1).join(t)}function nspaces(e){return ncopies(e," ")}MIST=Object.create(null),MIST.TYPE={},MIST.TYPE.RGB="RGB",MIST.TYPE.HSV="HSV",MIST.TYPE.NUMBER="NUMBER",MIST.expType=function(e,t){return e instanceof MIST.App?"rgb"===e.operation||"MIST.rgb"===e.operation?MIST.TYPE.RGB:"hsv"===e.operation?MIST.TYPE.HSV:MIST.TYPE.NUMBER:MIST.TYPE.NUMBER},MIST.depth=function(e){if(e instanceof MIST.App){for(var t=0,a=0;a<e.operands.length;a++)t=Math.max(t,MIST.depth(e.operands[a]));return 1+t}return 1},MIST.hasLoop=function(e,t){if(t||(t=[]),contains(t,e))return!0;if(e instanceof MIST.App){t.push(e);for(var a=0;a<e.operands.length;a++)if(MIST.hasLoop(e.operands[a],t))return!0;t.pop(e)}return!1},MIST.isExp=function(e){return e instanceof MIST.Val||e instanceof MIST.App},MIST.isFun=function(e){return e instanceof MIST.Fun},MIST.rebuild=function(e){if("string"===typeof e)try{return MIST.rebuild(JSON.parse(e))}catch(n){return e}else{if("MIST.Val"===e.class)return new MIST.Val(e.name);if("MIST.App"===e.class){for(var t=Array(e.operands.length),a=0;a<e.operands.length;a++)t[a]=MIST.rebuild(e.operands[a]);return new MIST.App(e.operation,t)}if("MIST.Fun"===e.class)return new MIST.Fun(e.parameters,MIST.rebuild(e.body))}return e},MIST.sameExp=function(e,t,a){if(!a&&(MIST.hasLoop(e)||MIST.hasLoop(t)))return!1;if(e instanceof MIST.Val&&t instanceof MIST.Val)return e.name===t.name;if(e instanceof MIST.App&&t instanceof MIST.App){if(e.operation!==t.operation)return!1;if(e.operands.length!==t.operands.length)return!1;for(var n=0;n<e.operands.length;n++)if(!MIST.sameExp(e.operands[n],t.operands[n],!0))return!1;return!0}return!1},MIST.App=function(e){this.class="MIST.App",this.operation=e,this.operands=getArgs(arguments,1);for(var t=0;t<this.operands.length;t++)MIST.isExp(this.operands[t])||(console.log(this.operands),console.log("Subexpression "+t+"is invalid: "+this.operands[t]));0===this.operands.length?this.code=this.operation+"()":this.code=this.operation+"("+this.operands.join(",")+")"},MIST.App.prototype.toString=function(){return this.code},MIST.App.prototype.prettyPrint=function(e,t){e||(e=""),t||(t="\n");var a=this.operands.length,n=e+nspaces(this.operation.length+1);if(0===a)return this.operation+"()"+t;if(1===a)return this.operation+"("+this.operands[0].prettyPrint(n,")"+t);var r=this.operation+"(";r+=this.operands[0].prettyPrint(n,",\n");for(var l=1;l<a-1;l++)r+=n+this.operands[l].prettyPrint(n,",\n");return r+=n+this.operands[a-1].prettyPrint(n,")"+t)},MIST.Fun=function(e,t){this.class="MIST.Fun",this.parameters=e,this.body=t,this.code="(function ("+this.parameters.join(",")+") { return "+this.body.toString()+"})"},MIST.Fun.prototype.toString=function(){return this.code},MIST.Fun.prototype.prettyPrint=function(e){return this.body.prettyPrint(e)},MIST.Fun.prototype.toFunction=function(){var code="var "+this.name+" = "+this.toString();return eval(code),eval(this.name)},MIST.Val=function(e){this.class="MIST.Val",this.name="t.s"===e?"second":"t.m"===e?"minute":"t.d"===e?"day":"t.h"===e?"hour":e,this.code=""+e},MIST.Val.prototype.toString=function(){return this.code},MIST.Val.prototype.prettyPrint=function(e,t){return e||(e=""),t||(t="\n"),this.name+t},MIST.ImageGrey=function(e){this.exp=e,this.context=getArgs(arguments,1)},MIST.Collection=function(e,t){this.class="MIST.Collection",this.name=e,this.name||(this.name="<Untitled>"),this.about=t,this.about||(this.about=""),this.values={}},MIST.Collection.prototype.keys=function(){return Object.keys(this.values)},MIST.Collection.prototype.clear=function(){this.values={}},MIST.Collection.prototype.add=function(e){this.values[e.name]=e,e.display&&(this.values[e.display]=e)},MIST.Collection.prototype.get=function(e){return this.values[e]},MIST.Collection.prototype.addUserFun=function(e,t,a,n,r){var l=0;n&&(l=n.split(",").length),this.add(new MIST.FunInfo(e,t,a,n,{type:"GENERAL",minarity:l,maxArity:l,code:r}))},MIST.Collection.prototype.addUserVal=function(e,t,a,n){this.add(new MIST.ValInfo(e,t,a,n))},MIST.Collection.prototype.addBuiltinFun=function(e,t,a,n,r,l,o){this.add(new MIST.FunInfo(e,t,a,n,{minarity:r,maxarity:l,type:o}))},MIST.ValInfo=function(e,t,a,n){for(var r in this.class="MIST.ValInfo",this.name=e,this.display=t,this.about=a,n)this[r]=n[r]},MIST.FunInfo=function(e,t,a,n,r){for(var l in this.class="MIST.FunInfo",this.name=e,this.display=t,this.about=a,this.params=n,r)this[l]=r[l]},MIST.alpha=/[a-zA-Z]/,MIST.digit=/[0-9]/,MIST.tokens=Object.freeze({UNKNOWN:0,OPEN:1,CLOSE:2,COMMA:3,ID:4,NUM:5,EOF:6}),MIST.Token=function(e,t,a,n){this.type=e,this.text=t,this.row=a,this.col=n},MIST.Input=function(e){this.text=e,this.pos=0,this.row=1,this.col=1,this.len=e.length,this.eof=function(){return this.pos>=this.len},this.peek=function(){return this.eof()?void 0:this.text[this.pos]},this.next=function(){var e=this.peek();if(void 0!==e){var t=new MIST.Token(MIST.tokens.UNKNOWN,e,this.row,this.col);return++this.pos,++this.col,"\n"===e&&(++this.row,this.col=1),t}},this.skipWhitespace=function(){for(var e=/[ \t\n]/;e.test(this.peek());)this.next()}},MIST.parseError=function(e,t,a){t&&(MIST.row=t),a&&(MIST.col=a),console.log("Error at line "+MIST.row+", column "+MIST.col+": "+e)},MIST.tokenize=function(e){var t=[],a=new MIST.Input(e);for(a.skipWhitespace();!a.eof();){var n=a.next();if("("===n.text)n.type=MIST.tokens.OPEN,t.push(n);else if(")"===n.text)n.type=MIST.tokens.CLOSE,t.push(n);else if(","===n.text)n.type=MIST.tokens.COMMA,t.push(n);else if(/[0-9-.]/.test(n.text)){for(var r,l=n.text,o="."===n.text;(r=a.peek())&&(/[0-9]/.test(r)||!o&&"."===r);)a.next(),l+=r,"."===r&&(o=!0);"-"===l&&MIST.parseError("Singleton negative signs not allowed.",n.row,n.col),n.type=MIST.tokens.NUM,n.text=l,t.push(n)}else if(/[A-Za-z]/.test(n.text)){for(var i=n.text;(r=a.peek())&&/[A-Za-z0-9.]/.test(r);)i+=r,a.next();n.type=MIST.tokens.ID,n.text=i,t.push(n)}else MIST.parseError("Invalid character ("+n.text+")",n.row,n.col);a.skipWhitespace()}return t.push(new MIST.Token(MIST.tokens.EOF,"<eof>",a.row,a.col)),t};var peekType=function(e){return e[0]?e[0].type:MIST.tokens.UNKNOWN};function gifTime(){var e=new Date;this.ms=e.getMilliseconds(),this.s=e.getSeconds(),this.m=e.getMinutes(),this.h=e.getHours(),this.d=0,this.y=0}function BUILTIN(){MIST.builtins.functions.addBuiltinFun.apply(MIST.builtins.functions,arguments)}function wrap(e){return e<-1?wrap(e+2):e>1?wrap(e-2):e}MIST.createSanitizer=function(){for(var e="",t=0;t<arguments.length-1;t++)e+="(?:"+arguments[t]+")|";e+="(?:"+arguments[arguments.length-1]+")";var a=new RegExp(e,"g");return a},MIST.sanitize=function(e,t){return t.match(e).join("")},MIST.parse=function(e,t){t||(t="");var a=MIST.tokenize(e),n=function e(a){0===a.length&&MIST.parseError("Unexpected end of input",0,0);var n=a.shift();if(n.type===MIST.tokens.EOF&&MIST.parseError("Unexpected end of input",n.row,n.col),n.type===MIST.tokens.NUM)return new MIST.Val(n.text);if(n.type===MIST.tokens.ID){if(peekType(a)===MIST.tokens.OPEN){a.shift();for(var r=[];peekType(a)!==MIST.tokens.CLOSE;)r.push(e(a)),peekType(a)===MIST.tokens.COMMA&&(a.shift(),peekType(a)===MIST.tokens.CLOSE&&MIST.parseError("Close paren follows comma",a[0].row,a[0].col));return a.shift(),new MIST.App(t+n.text,r)}return new MIST.Val(n.text)}MIST.parseError("Unexpected token ("+n.text+")",n.row,n.col)}(a);return(a.length>1||peekType(a)!==MIST.tokens.EOF)&&MIST.parseError("Extra text after expression",a[0].row,a[0].col),n},MIST.expToRGB=function(name,exp,env){var type=MIST.expType(exp,env),tmp=[];for(var c in env)tmp.push("var "+c+" = "+env[c].toString());var envCode=tmp.join(";");if(type===MIST.TYPE.RGB){var code="(function(x,y,t,m,p) { "+envCode+"; return ("+exp.toString()+").map(r2c); })";return eval(code)}if(type===MIST.TYPE.NUMBER)return code="(function(x,y,t,m,p) { "+envCode+"; var _tmp_ = r2c(-"+exp.toString()+"); return [_tmp_, _tmp_, _tmp_]; })",eval(code);throw"Cannot handle expressions of type "+type},MIST.COMPONENT_EPSILON=10,MIST.PERCENT_MATCH=.95,MIST.compareFun=function(e,t){var a=e.indexOf("t.")>=0||t.indexOf("t.")>=0,n=e.indexOf("m.")>=0||t.indexOf("m.")>=0;return a&&n?MIST.compareFunCore(e,t,17):a||n?MIST.compareFunCore(e,t,9):MIST.compareFunCore(e,t)},MIST.compareFunCore=function(e,t,a){a||(a=1);var n=0,r=0;for(n=0;n<a;n++)r+=MIST.compareFunOnce(e,t);return r/n>=MIST.PERCENT_MATCH},MIST.compareFunOnce=function(e,t,a,n){var r=function(e,t){return Math.abs(e-t)<=MIST.COMPONENT_EPSILON},l=function(){return 2*Math.random()-1};a||(a={s:l(),m:l(),h:l(),d:l()}),n||(n={x:l(),y:l(),X:l(),Y:l()});try{var o=MIST.parse(e),i=MIST.parse(t)}catch(g){return 0}try{var c=MIST.expToRGB("f1",o,{}),s=MIST.expToRGB("f2",i,{})}catch(g){return 0}for(var u=0,m=0,d=-1;d<=1;d+=.1)for(var h=-1;h<=1;h+=.1){var f=c(d,h,a,n),p=s(d,h,a,n);u++,r(f[0],p[0])&&r(f[1],p[1])&&r(f[2],p[2])&&m++}return m/u},MIST.compareFunMouse=function(e,t){for(var a=0,n=0,r=-1;r<=1;r+=.25)for(var l=-1;l<=1;l+=.25)a++,n+=MIST.compareFunOnce(e,t,void 0,{x:r,y:l});return n/a>=MIST.PERCENT_MATCH},MIST.compareFunTime=function(e,t){for(var a=0,n=0,r=-1;r<=1;r+=.25)for(var l=-1;l<=1;l+=.25)a++,n+=MIST.compareFunOnce(e,t,{s:l,m:r,h:0,d:0});return n/a>=MIST.PERCENT_MATCH},MIST.builtins||(MIST.builtins={}),MIST.builtins.functions=new MIST.Collection,MIST.wrap=wrap;var abs=function(e){return Math.abs(e)};MIST.abs=abs,BUILTIN("abs","abs","The absolute value of i","i",1,1,"GENERAL");var average=function(e){return sum.apply(this,arguments)/arguments.length};MIST.avg=average,MIST.average=average,BUILTIN("average","avg","Average 2 or more values","...",2,20,"GENERAL");var cosine=function(e){return Math.cos(Math.PI*e)};MIST.cos=cosine,MIST.cosine=cosine,BUILTIN("cosine","cos","The cosine of pi*a","a",1,1,"GENERAL");var multiply=function(){for(var e=1,t=0;t<arguments.length;t++)e*=arguments[t];return e};MIST.mult=multiply,MIST.multiply=multiply,BUILTIN("multiply","mult","Multiply 2 or more values","...",2,20,"GENERAL");var negate=function(e){return-e};MIST.negate=negate,MIST.neg=negate,BUILTIN("negate","neg","negates value");var rgb=function(e,t,a){return[e,t,a]};MIST.rgb=rgb,BUILTIN("rgb","rgb","Generate an RGB color from red, green, and blue components","r,g,b",3,3,"RGB");var sign=function(e){return e<0?-1:1};MIST.sign=sign,BUILTIN("sign","sign","If i < 0, returns -1; if i >- 0, returns 1","i",1,1,"GENERAL");var signz=function(e){return e<0?-1:e>0?1:e};MIST.signz=signz,BUILTIN("signz","signz","If i < 0, returns -1; if i > 0, returns 1; if i is 0, returns 1.","i",1,1,"GENERAL");var sine=function(e){return Math.sin(Math.PI*e)};MIST.sine=sine,MIST.sin=sine,BUILTIN("sine","sin","The sine of pi*a","a",1,1,"GENERAL"),BUILTIN("square","square","Square i","i",1,1,"GENERAL");var sum=function(){for(var e=0,t=0;t<arguments.length;t++)e+=arguments[t];return e};MIST.sum=sum,BUILTIN("sum","sum","Sum 2 or more values.  If the sum would exceed 1, has the value 1.  If the sum would be less than -1, has the value -1","...",2,20,"GENERAL");var wrapsum=function(){return wrap(sum.apply(this,arguments))};MIST.wrapsum=wrapsum,MIST.wsum=wrapsum,BUILTIN("wrapsum","wsum","Sum 2 or more values, wrapping around from 1 to -1 (or vice versa) if the sum is too large or too small","...",2,20,"GENERAL"),BUILTIN("mistif","if","if test is greater than or equal to zero, return pos, if test is less than zero, return neg","test, pos, neg",3,3,"GENERAL");try{MIST=MIST}catch(err){MIST=Object.create(null)}MIST.Layout=function(){this.class="MIST.Layout",this.num=1e3,this.operations={},this.values={},this.edges=[],this.addEdge=function(e,t,a){this.edges.push({source:e,sink:t,i:a})},this.addOp=function(e,t,a,n){return n||(n="F"+this.num++),this.operations[n]={id:n,name:e,x:t,y:a},n},this.addVal=function(e,t,a,n){return n||(n="V"+this.num++),this.values[n]={id:n,name:e,x:t,y:a},n},this.getFun=function(e){return this.operations[e]},this.getVal=function(e){return this.values[e]}},MIST.displayLayout=function(e,t){var a={};for(var n in console.log(t),e.operations){var r=e.operations[n];a[n]=t.pushFunctionNode(r.name,r.x,r.y)}for(n in e.values){var l=e.values[n];a[n]=t.pushVariableNode(l.name,l.x,l.y)}for(var o=0;o<e.edges.length;o++){var i=e.edges[o],c=e.operations[i.source]||e.values[i.source];c||console.log("Invalid source in edge from "+i.source+" to "+i.sink);var s=e.operations[i.sink];s||console.log("Invalid sink in edge from "+i.source+" to "+i.sink),t.pushLine(a[c.id],a[s.id],i.i)}},MIST.rebuildLayout=function(e){if("string"===typeof e)return MIST.rebuildlayout(JSON.parse(e));if("MIST.Layout"!==e.class)throw"Error: Parameter is not a layout.";var t=new MIST.Layout;return MIST.displayLayout(e,t),t};var sampleDisplay=new Object;sampleDisplay.displayCount=2e3,sampleDisplay.addEdge=function(e,t,a){console.log("Connect "+e+" to "+t+"/"+a)},sampleDisplay.addOp=function(e,t,a){var n="N"+this.displayCount++;return console.log(n+": OPERATION "+e+" at ("+t+","+a+")"),n},sampleDisplay.addVal=function(e,t,a){var n="N"+this.displayCount++;return console.log(n+": VALUE "+e+" at ("+t+","+a+")"),n};var sampleLayout=new MIST.Layout,add=sampleLayout.addOp("add",100,100),x=sampleLayout.addVal("x",50,50),y=sampleLayout.addVal("y",50,150),tmp=sampleLayout.addOp("sine",150,100);sampleLayout.addEdge(x,add,0),sampleLayout.addEdge(y,add,1),sampleLayout.addEdge(add,tmp,0);try{MIST=MIST}catch(err){MIST=new Object}function setMouse(e,t){MIST.mouseX=e,MIST.mouseY=t}function setClick(e,t){MIST.clickX=e,MIST.clickY=t}MIST.hoff=30,MIST.voff=20,MIST.basicLayout=function(e){for(var t=new MIST.Layout,a=MIST.depth(e),n=[],r=0;r<=a;r++)n[r]=1;!function e(a,r){if(a instanceof MIST.Val)return t.addVal(a.name,MIST.hoff*r,MIST.voff*n[r]++);if(a instanceof MIST.App){for(var l=t.addVal(a.operation,MIST.hoff*r,MIST.voff*n[r]++),o=0;o<a.operands.length;o++){var i=e(a.operands[o],r-1);t.addEdge(i,l,o)}return l}console.log("Invalid expression.")}(e,a)},MIST.mouseX=0,MIST.mouseY=0,MIST.clickX=0,MIST.clickY=0,MIST.render=function(e,t,a,n,r,l,o,i,c){var s=new Date,u={s:s.getMilliseconds()/500-1,m:(1e3*s.getSeconds()+s.getMilliseconds())/3e4-1,h:(60*s.getMinutes()+s.getSeconds())/1800-1,d:(60*s.getHours()+s.getMinutes())/720-1};return MIST.renderAt(u,e,t,a,n,r,l,o,i,c),u},MIST.renderGIF=function(e,t,a,n,r,l,o,i,c,s){var u={s:e.ms/500-1,m:(1e3*e.s+e.ms)/3e4-1,h:(60*e.m+e.s)/1800-1,d:(60*e.h+e.m)/720-1};return MIST.renderAt(u,t,a,n,r,l,o,i,c,s),u},MIST.renderAt=function(e,t,a,n,r,l,o,i,c,s){o||(o=0),i||(i=0),c||(c=n.width-o),s||(s=n.height-i),r||(r=c),l||(l=s),r>c&&(r=c),l>s&&(l=s),r=Math.round(r),l=Math.round(l);var u=document.getElementById("canvas-buffer");u||((u=document.createElement("canvas")).id="canvas-buffer",u.style.display="none",document.body.appendChild(u)),u.width=r,u.height=l;for(var m=2/r,d=2/l,h=n.getContext("2d"),f=u.getContext("2d"),p=f.createImageData(r,l),g={x:MIST.mouseX,y:MIST.mouseY,X:MIST.clickX,Y:MIST.clickY},E=MIST.expToRGB("untitled image",t,a),b=-1,y=-1-d,v=0;v<p.data.length;v+=4){v%(4*r)===0&&(b=-1,y+=d);var w=E(b,y,e,g);p.data[v+0]=w[0],p.data[v+1]=w[1],p.data[v+2]=w[2],p.data[v+3]=255,b+=m}f.putImageData(p,0,0),h.drawImage(u,o,i,c,s)},MIST.setMouse=setMouse,MIST.setClick=setClick}},[[167,1,2]]]);
//# sourceMappingURL=main.2239164a.chunk.js.map